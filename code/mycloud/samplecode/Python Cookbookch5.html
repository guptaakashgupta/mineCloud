<!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><script type="text/javascript" src="Python%20Cookbookch5_files/en-US.js"></script><script type="text/javascript" src="Python%20Cookbookch5_files/capturelogin"></script><script data-site-id="507de3eff5a1f542d400000c" id="gauges-tracker" src="Python%20Cookbookch5_files/track.js" async="" type="text/javascript"></script><script src="Python%20Cookbookch5_files/chartbeat.js" async="" type="text/javascript"></script><script src="Python%20Cookbookch5_files/ga.js" async="" type="text/javascript"></script><script src="Python%20Cookbookch5_files/login.com" id="janrainAuthWidget" type="text/javascript"></script><script src="Python%20Cookbookch5_files/analytics.js" async="" type="text/javascript"></script><script type="text/javascript">var NREUMQ=NREUMQ||[];NREUMQ.push(["mark","firstbyte",new Date().getTime()]);</script>
	<title>Python Cookbook</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="Python%20Cookbookch5_files/book-e6243cc4cc3595e325ee635b31c10604.css" media="screen" rel="stylesheet" type="text/css">
	<link href="Python%20Cookbookch5_files/default-51c09a6f10e43c06c271c0cd6c1cf8be.css" media="screen" rel="stylesheet" type="text/css">
	<script src="Python%20Cookbookch5_files/application-008ee52313b15b217d930f5a8131ac67.js" type="text/javascript"></script>
	<script src="Python%20Cookbookch5_files/book-756862b9ed04d945ca53de5b8f106a83.js" type="text/javascript"></script><style id="ace_editor">.ace_editor {
    position: absolute;
    overflow: hidden;
    font-family: 'Menlo', 'Monaco', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;
    font-size: 12px;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
}

.ace_content {
    position: absolute;
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    cursor: text;
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    height: 100%;
    width: auto;
    cursor: default;
    z-index: 4;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left {
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
}

.ace_gutter-cell {
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell.ace_error {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM2OEZDQTQ4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM2OEZDQTU4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzY4RkNBMjhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzY4RkNBMzhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkgXxbAAAAJbSURBVHjapFNNaBNBFH4zs5vdZLP5sQmNpT82QY209heh1ioWisaDRcSKF0WKJ0GQnrzrxasHsR6EnlrwD0TagxJabaVEpFYxLWlLSS822tr87m66ccfd2GKyVhA6MMybgfe97/vmPUQphd0sZjto9XIn9OOsvlu2nkqRzVU+6vvlzPf8W6bk8dxQ0NPbxAALgCgg2JkaQuhzQau/El0zbmUA7U0Es8v2CiYmKQJHGO1QICCLoqilMhkmurDAyapKgqItezi/USRdJqEYY4D5jCy03ht2yMkkvL91jTTX10qzyyu2hruPRN7jgbH+EOsXcMLgYiThEgAMhABW85oqy1DXdRIdvP1AHJ2acQXvDIrVHcdQNrEKNYSVMSZGMjEzIIAwDXIo+6G/FxcGnzkC3T2oMhLjre49sBB+RRcHLqdafK6sYdE/GGBwU1VpFNj0aN8pJbe+BkZyevUrvLl6Xmm0W9IuTc0DxrDNAJd5oEvI/KRsNC3bQyNjPO9yQ1YHcfj2QvfQc/5TUhJTBc2iM0U7AWDQtc1nJHvD/cfO2s7jaGkiTEfa/Ep8coLu7zmNmh8+dc5lZDuUeFAGUNA/OY6JVaypQ0vjr7XYjUvJM37vt+j1vuTK5DgVfVUoTjVe+y3/LxMxY2GgU+CSLy4cpfsYorRXuXIOi0Vt40h67uZFTdIo6nLaZcwUJWAzwNS0tBnqqKzQDnjdG/iPyZxo46HaKUpbvYkj8qYRTZsBhge+JHhZyh0x9b95JqjVJkT084kZIPwu/mPWqPgfQ5jXh2+92Ay7HedfAgwA6KDWafb4w3cAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM2OEZDQTg4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM2OEZDQTk4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzY4RkNBNjhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzY4RkNBNzhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pgd7PfIAAAGmSURBVHjaYvr//z8DJZiJgUIANoCRkREb9gLiSVAaQx4OQM7AAkwd7XU2/v++/rOttdYGEB9dASEvOMydGKfH8Gv/p4XTkvRBfLxeQAP+1cUhXopyvzhP7P/IoSj7g7Mw09cNKO6J1QQ0L4gICPIv/veg/8W+JdFvQNLHVsW9/nmn9zk7B+cCkDwhL7gt6knSZnx9/LuCEOcvkIAMP+cvto9nfqyZmmUAksfnBUtbM60gX/3/kgyv3/xSFOL5DZT+L8vP+Yfh5cvfPvp/xUHyQHXGyAYwgpwBjZYFT3Y1OEl/OfCH4ffv3wzc4iwMvNIsDJ+f/mH4+vIPAxsb631WW0Yln6ZpQLXdMK/DXGDflh+sIv37EivD5x//Gb7+YWT4y86sl7BCCkSD+Z++/1dkvsFRl+HnD1Rvje4F8whjMXmGj58YGf5zsDMwcnAwfPvKcml62DsQDeaDxN+/Y0qwlpEHqrdB94IRNIDUgfgfKJChGK4OikEW3gTiXUB950ASLFAF54AC94A0G9QAfOnmF9DCDzABFqS08IHYDIScdijOjQABBgC+/9awBH96jwAAAABJRU5ErkJggg==");
    background-position: 2px center;
}

.ace_gutter-cell.ace_info {
    background-image: url("data:image/gif;base64,R0lGODlhEAAQAMQAAAAAAEFBQVJSUl5eXmRkZGtra39/f4WFhYmJiZGRkaampry8vMPDw8zMzNXV1dzc3OTk5Orq6vDw8P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkAABQALAAAAAAQABAAAAUuICWOZGmeaBml5XGwFCQSBGyXRSAwtqQIiRuiwIM5BoYVbEFIyGCQoeJGrVptIQA7");
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRTk5MTVGREIxNDkxMUUxOTc5Q0FFREQyMTNGMjBFQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRTk5MTVGRUIxNDkxMUUxOTc5Q0FFREQyMTNGMjBFQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZFOTkxNUZCQjE0OTExRTE5NzlDQUVERDIxM0YyMEVDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZFOTkxNUZDQjE0OTExRTE5NzlDQUVERDIxM0YyMEVDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SIDkjAAAAJ1JREFUeNpi/P//PwMlgImBQkB7A6qrq/+DMC55FkIGKCoq4pVnpFkgTp069f/+/fv/r1u37r+tre1/kg0A+ptn9uzZYLaRkRHpLvjw4cNXWVlZhufPnzOcO3eOdAO0tbVPAjHDmzdvGA4fPsxIsgGSkpJmv379Ynj37h2DjIyMCMkG3LhxQ/T27dsMampqDHZ2dq/pH41DxwCAAAMAFdc68dUsFZgAAAAASUVORK5CYII=");
}

.ace_scrollbar {
    position: absolute;
    overflow-x: hidden;
    overflow-y: scroll;
    right: 0;
}

.ace_scrollbar-inner {
    position: absolute;
    width: 1px;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
}

.ace_text-input.ace_composition {
    background: #fff;
    color: #000;
    z-index: 1000;
    opacity: 1;
    border: solid lightgray 1px;
    margin: -1px
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    white-space: nowrap;
    height: 100%;
    width: 100%;
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
}

.ace_text-layer {
    color: black;
    font: inherit !important;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
}

.ace_cursor.ace_hidden {
    opacity: 0.2;
}

.ace_editor.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_line {
    white-space: nowrap;
}

.ace_marker-layer .ace_step {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%11%00%00%00%09%08%06%00%00%00%D4%E8%C7%0C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%B5IDAT(%15%A5%91%3D%0E%02!%10%85ac%E1%05%D6%CE%D6%C6%CE%D2%E8%ED%CD%DE%C0%C6%D6N.%E0V%F8%3D%9Ca%891XH%C2%BE%D9y%3F%90!%E6%9C%C3%BFk%E5%011%C6-%F5%C8N%04%DF%BD%FF%89%DFt%83DN%60%3E%F3%AB%A0%DE%1A%5Dg%BE%10Q%97%1B%40%9C%A8o%10%8F%5E%828%B4%1B%60%87%F6%02%26%85%1Ch%1E%C1%2B%5Bk%FF%86%EE%B7j%09%9A%DA%9B%ACe%A3%F9%EC%DA!9%B4%D5%A6%81%86%86%98%CC%3C%5B%40%FA%81%B3%E9%CB%23%94%C16Azo%05%D4%E1%C1%95a%3B%8A'%A0%E8%CC%17%22%85%1D%BA%00%A2%FA%DC%0A%94%D1%D1%8D%8B%3A%84%17B%C7%60%1A%25Z%FC%8D%00%00%00%00IEND%AEB%60%82"),
        url("data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%007%08%06%00%00%00%C4%DD%80C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%3AIDAT8%11c%FC%FF%FF%7F%18%03%1A%60%01%F2%3F%A0%891%80%04%FF%11-%F8%17%9BJ%E2%05%B1ZD%81v%26t%E7%80%F8%A3%82h%A12%1A%20%A3%01%02%0F%01%BA%25%06%00%19%C0%0D%AEF%D5%3ES%00%00%00%00IEND%AEB%60%82");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    -moz-border-radius: 2px;
    -webkit-border-radius: 2px;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%11%00%00%00%09%08%06%00%00%00%D4%E8%C7%0C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%B5IDAT(%15%A5%91%3D%0E%02!%10%85ac%E1%05%D6%CE%D6%C6%CE%D2%E8%ED%CD%DE%C0%C6%D6N.%E0V%F8%3D%9Ca%891XH%C2%BE%D9y%3F%90!%E6%9C%C3%BFk%E5%011%C6-%F5%C8N%04%DF%BD%FF%89%DFt%83DN%60%3E%F3%AB%A0%DE%1A%5Dg%BE%10Q%97%1B%40%9C%A8o%10%8F%5E%828%B4%1B%60%87%F6%02%26%85%1Ch%1E%C1%2B%5Bk%FF%86%EE%B7j%09%9A%DA%9B%ACe%A3%F9%EC%DA!9%B4%D5%A6%81%86%86%98%CC%3C%5B%40%FA%81%B3%E9%CB%23%94%C16Azo%05%D4%E1%C1%95a%3B%8A'%A0%E8%CC%17%22%85%1D%BA%00%A2%FA%DC%0A%94%D1%D1%8D%8B%3A%84%17B%C7%60%1A%25Z%FC%8D%00%00%00%00IEND%AEB%60%82"),
        url("data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%007%08%06%00%00%00%C4%DD%80C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%003IDAT8%11c%FC%FF%FF%7F%3E%03%1A%60%01%F2%3F%A3%891%80%04%FFQ%26%F8w%C0%B43%A1%DB%0C%E2%8F%0A%A2%85%CAh%80%8C%06%08%3C%04%E8%96%18%00%A3S%0D%CD%CF%D8%C1%9D%00%00%00%00IEND%AEB%60%82");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
}

.ace_editor.ace_dragging .ace_content {
    cursor: move;
}

.ace_gutter-tooltip {
    background-color: #FFFFD5;
    border: 1px solid gray;
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.4);
    color: black;
    display: inline-block;
    padding: 4px;
    position: absolute;
    z-index: 300;
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    cursor: default;
}

.ace_folding-enabled > .ace_gutter-cell {
    padding-right: 13px;
}

.ace_fold-widget {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: inline-block;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%00%05%08%06%00%00%00%8Do%26%E5%00%00%004IDATx%DAe%8A%B1%0D%000%0C%C2%F2%2CK%96%BC%D0%8F9%81%88H%E9%D0%0E%96%C0%10%92%3E%02%80%5E%82%E4%A9*-%EEsw%C8%CC%11%EE%96w%D8%DC%E9*Eh%0C%151(%00%00%00%00IEND%AEB%60%82");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%00%05%08%06%00%00%00%8Do%26%E5%00%00%004IDATx%DAm%C7%C1%09%000%08C%D1%8C%ECE%C8E(%8E%EC%02)%1EZJ%F1%C1'%04%07I%E1%E5%EE%CAL%F5%A2%99%99%22%E2%D6%1FU%B5%FE0%D9x%A7%26Wz5%0E%D5%00%00%00%00IEND%AEB%60%82");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%03%00%00%00%06%08%06%00%00%00%06%E5%24%0C%00%00%009IDATx%DA5%CA%C1%09%000%08%03%C0%AC*(%3E%04%C1%0D%BA%B1%23%A4Uh%E0%20%81%C0%CC%F8%82%81%AA%A2%AArGfr%88%08%11%11%1C%DD%7D%E0%EE%5B%F6%F6%CB%B8%05Q%2F%E9tai%D9%00%00%00%00IEND%AEB%60%82");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    -moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
    -webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    -moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
    -webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    -moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    -webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}
    
    
    
.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
       -moz-transition: opacity 0.4s ease 0.05s;
    -webkit-transition: opacity 0.4s ease 0.05s;
         -o-transition: opacity 0.4s ease 0.05s;
        -ms-transition: opacity 0.4s ease 0.05s;
            transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
       -moz-transition: opacity 0.05s ease 0.05s;
    -webkit-transition: opacity 0.05s ease 0.05s;
         -o-transition: opacity 0.05s ease 0.05s;
        -ms-transition: opacity 0.05s ease 0.05s;
            transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}
</style>
	<script type="text/javascript" src="Python%20Cookbookch5_files/MathJax.js"></script>
	<link href="Python%20Cookbookch5_files/janrain-53eb5abed55992e21943b9d3373923e8.css" media="all" rel="stylesheet" type="text/css">
	<meta content="authenticity_token" name="csrf-param">
<meta content="Elw1c1dsSPVKkr1ZuMYzH1HMp9oXUSsHC87A7T1Z3ls=" name="csrf-token">
	<script type="text/javascript" charset="utf-8">
  	
		app.data = new classes.Data({"controller":{"controller":"books","action":"html"},"capturable":{"capture_server":"https://oreilly.janraincapture.com","client_id":"6n5q2k9vesqgn93k3mhevka6c3c3rsre","app_url":"https://login.oreilly.com","app_id":"xsnca5wmqe9vxv97ygh5vfejkd","load_js":"d16s8pqtk4uodx.cloudfront.net/login.oreilly.com/load.js"},"user":{"id":null,"account":"LoggedOutAccount","email":"","name":null,"gravatar_url":"http://www.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?s=40&d=identicon"},"book":{"isbn":"1230000000393","chapter":"ch05.html","toc_url":"/books/1230000000393/toc_html","metadata_url":"http://d4bb7yl96lyl1.cloudfront.net/1230000000393/metadata/metadata_d52996fc8d559e3e18c75774775ca1610cdc8fd4.json"},"abilities":{"can_destroy_all_comments":false,"can_create_comments":false},"advertisement":{"body":"<style>      \r\n.ad-profile-image {\r\n  padding: 0;\r\n  margin: 0;\r\n  max-height: 30px;\r\n }\r\n\r\n.top-banner {\r\n  position: absolute;\r\n  right: 0;\r\n  top: 34px;\r\n  z-index: 99999;\r\n}\r\n\r\np.banner-text {\r\n  margin: 0;\r\n  text-align: center;\r\n  padding-right: 10px;\r\n  width: 400px;\r\n}\r\n\r\n@media screen and (max-width: 600px) {\r\n   p.banner-text {\r\n     width: 100%;\r\n     text-align: center;\r\n  }\r\n}\r\n\r\nspan.ebook-advantage {\r\n  font-size: smaller;\r\n  display: block;\r\n}\r\n\r\ndiv.banner-container {\r\n  margin: 0 auto;\r\n}\r\n\r\ndiv.banner-container ul {\r\n  margin: 0 auto;\r\n}\r\n\r\ndiv.topad { padding-bottom: 5px; }\r\n\r\ndiv.banner-container ul li {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n}\r\n\r\ndiv.banner-container li p {\r\n  padding-top: 0;\r\n  margin-top: 0;\r\n}\r\n\r\ndiv.banner-container li.sponsor {\r\n  border-right: 1px solid rgb(125, 154, 180);\r\n  margin-right: 5px;\r\n  padding-right: 10px;\r\n}\r\n\r\ndiv.banner-container .webbutton {\r\n  background-color: #3994b6;\r\n  display: inline-block;\r\n  padding: 10px;\r\n  -webkit-border-radius: 5px;\r\n  -moz-border-radius: 5px;\r\n  border-radius: 5px;\r\n  color: #FFF;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n}\r\n\r\n</style>\r\n   \r\n<div style=\"color: rgb(125, 154, 180);\">\r\n\r\n<div class=\"banner-container\">\r\n\r\n<ul>\r\n\r\n<li class=\"sponsor\">\r\n<!--CONFERENCE SPONSOR IMAGE-->\r\n<a href=\"http://www.oscon.com/oscon2013\">\r\n<!--<img src=\"http://orm-other.s3.amazonaws.com/fluent_logo.png\" class=\"ad-profile-image\"/>-->\r\n<img src=\"http://orm-other.s3.amazonaws.com/oscon_logo.png\" class=\"ad-profile-image\"/>\r\n<!--<img src=\"http://orm-other.s3.amazonaws.com/strata_logo.png\" class=\"ad-profile-image\"/>\r\n<img src=\"http://orm-other.s3.amazonaws.com/StrataRx_logo.png\" class=\"ad-profile-image\"/>\r\n<img src=\"http://orm-other.s3.amazonaws.com/velocity_logo.png\" class=\"ad-profile-image\"/>-->\r\n</a>\r\n</li>\r\n\r\n<li>\r\n<!--AD TEXT, 2 LINES, REPLACE LINK URL AS WELL-->\r\n<p class=\"banner-text\">Enjoy this online version of <em>Python Cookbook</em>. Purchase and download the DRM-free ebook on <a href=\"http://shop.oreilly.com/product/0636920027072.do\">oreilly.com</a>.<span class=\"ebook-advantage\">Learn more about the O’Reilly <a href=\"http://shop.oreilly.com/category/ebooks.do\">Ebook Advantage</a>.</span></p>\r\n</li>\r\n\r\n<li>\r\n<!--BUY BUTTON-->\r\n<a class=\"webbutton\" href=\"http://shop.oreilly.com/product/0636920027072.do\">Buy the Ebook</a>\r\n</li> \r\n\r\n</ul>\r\n\r\n</div>\r\n\r\n<!--CORNER BANNER (IF NEEDED)-->\r\n<!--<a href=\"http://shop.oreilly.com/product/0636920025245.do\" class=\"top-banner\"><img src=\"http://orm-other.s3.amazonaws.com/banner.png\" /></a>-->\r\n\r\n</div>"}});

		/* Janrain setup */
  	var janrainModal = new JanrainView();
  	$("head").append(janrainModal.render().el);

  	/* segment.io setup */
  	var analytics=analytics||[];analytics.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+e+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);var r=function(e){return function(){analytics.push([e].concat(Array.prototype.slice.call(arguments,0)))}},i=["identify","track","trackLink","trackForm","trackClick","trackSubmit","pageview","ab","alias","ready"];for(var s=0;s<i.length;s++)analytics[i[s]]=r(i[s])};
  	
  	analytics.load("hg9h6b9pae");

  	$(function() {
			app.bookapp = new BookApp();
		});
	
	</script><div><script src="Python%20Cookbookch5_files/load.js" type="text/javascript" id="janrainAuthWidget"></script>
<div id="janrainCaptureWidget">
  
  <div style="display:none;" id="returnSocial">
    <div class="capture_signin">
      <h2>Welcome Back {* welcomeName *}</h2>
      {* loginWidget *}
      <div class="capture_centerText switchLink"><a href="#" data-cancelcapturereturnexperience="true">Use another account</a></div>
    </div>
  </div>
  <div style="display:none;" id="returnTraditional">
    <h2>Welcome back {* displayNameStorageData *}!</h2>
    {* #userInformationForm *}
        {* traditionalSignIn_emailAddress *}
        {* traditionalSignIn_password *}
        <div class="capture_form_item capture_rightText">
            {* traditionalSignIn_signInButton *}
        </div>
    {* /userInformationForm *}
    <div class="capture_centerText switchLink"><a href="#" data-cancelcapturereturnexperience="true">Use another account</a></div>
  </div>
  <div style="display:none;" id="socialRegistration">
    <div class="capture_header">
        <h1>Almost Done!</h1>
    </div>
    <h2>Please confirm the information below before signing in.</h2>
    {* #socialRegistrationForm *}
      {* socialRegistration_firstName *}
      {* socialRegistration_lastName *}
      {* socialRegistration_emailAddress *}
      {* socialRegistration_displayName *}
      By clicking "Sign in", you confirm that you accept our
      <a href="#">terms of service</a> and have read and understand
      <a href="#">privacy policy</a>.
      <div class="capture_footer">
        <div class="capture_left">
          {* backButton *}
        </div>
        <div class="capture_right">
        {* socialRegistration_signInButton *}
        </div>
      </div>
    {* /socialRegistrationForm *}
  </div>
  <div style="display:none;" id="registrationNewVerification">
    <div class="capture_header">
      <h1>Thank you for registering!</h1>
    </div>
    <p>Please wait a second while we log you in.</p>
  </div>
  <div style="display:none;" id="traditionalRegistration">
    <div class="capture_header">
        <h1>Almost Done!</h1>
    </div>
    <p>Please confirm the information below before signing in. Already have an account? <a href="#" data-capturescreen="signIn">Sign In.</a>
    </p>
    {* #registrationForm *}
      {* traditionalRegistration_firstName *}
      {* traditionalRegistration_lastName *}
      {* traditionalRegistration_emailAddress *}
      {* traditionalRegistration_password *}
      {* traditionalRegistration_passwordConfirm *}
      {* traditionalRegistration_displayName *}
      By clicking "Create Account", you confirm that you accept our
      <a target="_blank" href="http://oreilly.com/terms/">terms of service</a> and have read and understand
      <a target="_blank" href="http://oreilly.com/oreilly/privacy.csp">privacy policy</a>.
      <div class="capture_footer">
        <div class="capture_left">
            {* backButton *}
        </div>
        <div class="capture_right">
        {* createAccountButton *}
        </div>
      </div>
    {* /registrationForm *}
  </div>
  <div style="display:none;" id="forgotPassword">
    <h2>We'll send you a link to create a new password.</h2>
    {* #forgotPasswordForm *}
      {* traditionalSignIn_emailAddress *}
      <div class="capture_footer">
        <div class="capture_left">
          {* backButton *}
        </div>
        <div class="capture_right">
          {* forgotPassword_sendButton *}
        </div>
      </div>
    {* /forgotPasswordForm *}
  </div>
  <div style="display:none;" id="forgotPasswordSuccess">
    <div class="capture_header">
      <h1>Create a new password</h1>
    </div>
      <p>We've sent an email with instructions to create a new password. Your existing password has not been changed.</p>
    <div class="capture_footer">
      <a href="#" onclick="janrain.capture.ui.modal.close()" class="capture_btn capture_primary">Close</a>
    </div>
  </div>
  <div style="display:none;" id="mergeAccounts">
    {* mergeAccounts *}
  </div>
  <div style="display:none;" id="traditionalAuthenticateMerge">
    <div class="capture_header">
      <h1>Sign in to complete account merge</h1>
    </div>
    <div class="capture_signin">
      {* #tradAuthenticateMergeForm *}
        {* traditionalSignIn_emailAddress *}
        {* mergePassword *}
        <div class="capture_footer">
          <div class="capture_left">
              {* backButton *}
          </div>
          <div class="capture_right">
              {* traditionalSignIn_signInButton *}
          </div>
        </div>
      {* /tradAuthenticateMergeForm *}
    </div>
  </div>
  <div style="display:none;" id="resetPassword">
      <div class="capture_header">
          <h1>Change password</h1>
      </div>
      {* newPasswordForm *}
          {* newpassword *}
          {* newpasswordConfirm *}
          <div class="capture_footer">
              {* submitButton *}
          </div>
      {* /newPasswordForm *}
  </div>
  <div style="display:none;" id="resetPasswordSuccess">
      <div class="capture_header">
          <h1>Your password has been changed</h1>
      </div>
      <p>Password has been successfully updated.</p>
      <div class="capture_footer">
          <a href="http://chimera.labs.oreilly.com/users/sign_in" class="capture_btn capture_primary">Sign in</a>
      </div>
  </div>
  <div style="display:none;" id="resetPasswordRequestCode">
      <div class="capture_header">
          <h1>Create a new password</h1>
      </div>
      <p>We didn't recognize that password reset code. Enter your email address to get a new one.</p>
      {* #resetPasswordForm *}
          {* traditionalSignIn_emailAddress *}
          <div class="capture_footer">
              {* forgotPassword_sendButton *}
          </div>
      {* /resetPasswordForm *}
  </div>
  <div style="display:none;" id="resetPasswordRequestCodeSuccess">
      <div class="capture_header">
          <h1>Create a new password</h1>
      </div>
        <p>We've sent an email with instructions to create a new password. Your existing password has not been changed.</p>
      <div class="capture_footer">
          <a href="#" onclick="janrain.capture.ui.modal.close()" class="capture_btn capture_primary">Close</a>
      </div>
  </div>
</div>
</div>
<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Hover_Arrow {position: absolute; width: 15px; height: 11px; cursor: pointer}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style>@import "http://cdn.quilt.janrain.com/2.2.14/providers.css";</style><style>@import "http://cdn.quilt.janrain.com/2.2.14/widgets.css";</style></head>
<body><div style="display: none;" id="MathJax_Message"></div>
	<div id="menu">
	
		<ul id="menu-left">
			<li id="home-link"><a href="http://chimera.labs.oreilly.com/"><i class="icon-house"></i></a></li>
			<li><a href="http://chimera.labs.oreilly.com/books/1230000000393">Python Cookbook</a></li>
			<div class="clear"></div>
		</ul>
	
		<ul id="menu-right">
			<li id="comments-link"><a href="#">Comments Off</a>
</li>
			<li>
				<a href="#" class="dropdown-toggle" data-toggle="dropdown">Chapters</a>
				<div id="toc-popup" class="dropdown-menu">
<div class="toc-title">Table of Contents</div>
<ul>
<li>
<span class="preface"><a href="http://chimera.labs.oreilly.com/books/1230000000393/pr01.html">Preface</a></span><ul>
<li><span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/pr01.html#_who_this_book_is_for">Who This Book Is For</a></span></li>
<li><span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/pr01.html#_who_this_book_is_not_for">Who This Book Is Not For</a></span></li>
<li><span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/pr01.html#_conventions_used_in_this_book">Conventions Used in This Book</a></span></li>
<li><span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/pr01.html#_online_code_examples">Online Code Examples</a></span></li>
<li><span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/pr01.html#_using_code_examples">Using Code Examples</a></span></li>
<li><span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/pr01.html#_safari_books_online">Safari® Books Online</a></span></li>
<li><span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/pr01.html#_how_to_contact_us">How to Contact Us</a></span></li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/pr01.html#_acknowledgments">Acknowledgments</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/pr01.html#_david_beazley_8217_s_acknowledgments">David Beazley’s Acknowledgments</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/pr01.html#_brian_jones_acknowledgments">Brian Jones' Acknowledgments</a></span></li>
</ul>
</li>
</ul>
</li>
<li>
<span class="chapter"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html">1. Data Structures and Algorithms</a></span><ul>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#iterableunpack">Unpacking a Sequence into Separate Variables</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_unpacking_elements_from_iterables_of_arbitrary_length">Unpacking Elements from Iterables of Arbitrary Length</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_2">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_2">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_2">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_keeping_the_last_n_items">Keeping the Last N Items</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_3">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_3">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_3">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#findingthelargestorsmallest">Finding the Largest or Smallest N Items</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_4">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_4">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_4">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#priorityqueue">Implementing a Priority Queue</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_5">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_5">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_5">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#multidict">Mapping Keys to Multiple Values in a Dictionary</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_6">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_6">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_6">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#ordereddict">Keeping Dictionaries in Order</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_7">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_7">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_7">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#dictcalc">Calculating with Dictionaries</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_8">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_8">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_8">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_finding_commonalities_in_two_dictionaries">Finding Commonalities in Two Dictionaries</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_9">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_9">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_9">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_removing_duplicates_from_a_sequence_while_maintaining_order">Removing Duplicates from a Sequence while Maintaining Order</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_10">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_10">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_10">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_naming_a_slice">Naming a Slice</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_11">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_11">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_11">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_determining_the_most_frequently_occurring_items_in_a_sequence">Determining the Most Frequently Occurring Items in a Sequence</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_12">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_12">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_12">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#itemgetter">Sorting a List of Dictionaries by a Common Key</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_13">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_13">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_13">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_sorting_objects_without_native_comparison_support">Sorting Objects Without Native Comparison Support</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_14">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_14">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_14">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#groupby">Grouping Records Together Based on a Field</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_15">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_15">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_15">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_filtering_sequence_elements">Filtering Sequence Elements</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_16">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_16">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_16">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_extracting_a_subset_of_a_dictionary">Extracting a Subset of a Dictionary</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_17">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_17">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_17">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_mapping_names_to_sequence_elements">Mapping Names to Sequence Elements</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_18">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_18">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_18">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#generatorargs">Transforming and Reducing Data at the Same Time</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_19">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_19">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_19">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_combining_multiple_mappings_into_a_single_mapping">Combining Multiple Mappings into a Single Mapping</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_problem_20">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_solution_20">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch01.html#_discussion_20">Discussion</a></span></li>
</ul>
</li>
</ul>
</li>
<li>
<span class="chapter"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html">2. Strings and Text</a></span><ul>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_splitting_strings_on_any_of_multiple_delimiters">Splitting Strings on Any of Multiple Delimiters</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_21">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_21">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_21">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_matching_text_at_the_start_or_end_of_a_string">Matching Text at the Start or End of a String</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_22">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_22">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_22">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_matching_strings_using_shell_wildcard_patterns">Matching Strings Using Shell Wildcard Patterns</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_23">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_23">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_23">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_matching_and_searching_for_text_patterns">Matching and Searching for Text Patterns</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_24">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_24">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_24">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_searching_and_replacing_text">Searching and Replacing Text</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_25">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_25">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_25">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_searching_and_replacing_case_insensitive_text">Searching and Replacing Case-Insensitive Text</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_26">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_26">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_26">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_specifying_a_regular_expression_for_the_shortest_match">Specifying a Regular Expression for the Shortest Match</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_27">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_27">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_27">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_writing_a_regular_expression_for_multiline_patterns">Writing a Regular Expression for Multiline Patterns</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_28">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_28">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_28">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#normalizingunicodetext">Normalizing Unicode Text to a Standard Representation</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_29">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_29">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_29">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#unicodere">Working with Unicode Characters in Regular Expressions</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_30">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_30">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_30">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_stripping_unwanted_characters_from_strings">Stripping Unwanted Characters from Strings</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_31">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_31">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_31">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_sanitizing_and_cleaning_up_text">Sanitizing and Cleaning Up Text</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_32">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_32">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_32">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_aligning_text_strings">Aligning Text Strings</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_33">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_33">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_33">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_combining_and_concatenating_strings">Combining and Concatenating Strings</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_34">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_34">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_34">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#interpolation">Interpolating Variables in Strings</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_35">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_35">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_35">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_reformatting_text_to_a_fixed_number_of_columns">Reformatting Text to a Fixed Number of Columns</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_36">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_36">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_36">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_handling_html_and_xml_entities_in_text">Handling HTML and XML Entities in Text</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_37">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_37">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_37">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#tokenizing">Tokenizing Text</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_38">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_38">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_38">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_writing_a_simple_recursive_descent_parser">Writing a Simple Recursive Descent Parser</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_39">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_39">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_39">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_performing_text_operations_on_byte_strings">Performing Text Operations on Byte Strings</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_problem_40">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_solution_40">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch02.html#_discussion_40">Discussion</a></span></li>
</ul>
</li>
</ul>
</li>
<li>
<span class="chapter"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html">3. Numbers, Dates, and Times</a></span><ul>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_rounding_numerical_values">Rounding Numerical Values</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_problem_41">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_solution_41">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_discussion_41">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_performing_accurate_decimal_calculations">Performing Accurate Decimal Calculations</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_problem_42">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_solution_42">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_discussion_42">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_formatting_numbers_for_output">Formatting Numbers for Output</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_problem_43">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_solution_43">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_discussion_43">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_working_with_binary_octal_and_hexadecimal_integers">Working with Binary, Octal, and Hexadecimal Integers</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_problem_44">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_solution_44">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_discussion_44">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_packing_and_unpacking_large_integers_from_bytes">Packing and Unpacking Large Integers from Bytes</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_problem_45">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_solution_45">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_discussion_45">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_performing_complex_valued_math">Performing Complex-Valued Math</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_problem_46">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_solution_46">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_discussion_46">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_working_with_infinity_and_nans">Working with Infinity and NaNs</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_problem_47">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_solution_47">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_discussion_47">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_calculating_with_fractions">Calculating with Fractions</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_problem_48">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_solution_48">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_discussion_48">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#calculatingwithlargenumerical">Calculating with Large Numerical Arrays</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_problem_49">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_solution_49">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_discussion_49">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_performing_matrix_and_linear_algebra_calculations">Performing Matrix and Linear Algebra Calculations</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_problem_50">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_solution_50">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_discussion_50">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_picking_things_at_random">Picking Things at Random</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_problem_51">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_solution_51">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_discussion_51">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_converting_days_to_seconds_and_other_basic_time_conversions">Converting Days to Seconds, and Other Basic Time Conversions</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_problem_52">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_solution_52">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_discussion_52">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_determining_last_friday_8217_s_date">Determining Last Friday’s Date</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_problem_53">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_solution_53">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_discussion_53">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_finding_the_date_range_for_the_current_month">Finding the Date Range for the Current Month</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_problem_54">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_solution_54">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_discussion_54">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_converting_strings_into_datetimes">Converting Strings into Datetimes</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_problem_55">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_solution_55">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_discussion_55">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_manipulating_dates_involving_time_zones">Manipulating Dates Involving Time Zones</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_problem_56">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_solution_56">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch03.html#_discussion_56">Discussion</a></span></li>
</ul>
</li>
</ul>
</li>
<li>
<span class="chapter"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html">4. Iterators and Generators</a></span><ul>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_manually_consuming_an_iterator">Manually Consuming an Iterator</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_problem_57">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_solution_57">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_discussion_57">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#delegate_iteration">Delegating Iteration</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_problem_58">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_solution_58">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_discussion_58">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#generators">Creating New Iteration Patterns with Generators</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_problem_59">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_solution_59">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_discussion_59">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_implementing_the_iterator_protocol">Implementing the Iterator Protocol</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_problem_60">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_solution_60">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_discussion_60">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_iterating_in_reverse">Iterating in Reverse</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_problem_61">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_solution_61">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_discussion_61">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_defining_generator_functions_with_extra_state">Defining Generator Functions with Extra State</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_problem_62">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_solution_62">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_discussion_62">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#takingasliceofaniterator">Taking a Slice of an Iterator</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_problem_63">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_solution_63">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_discussion_63">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_skipping_the_first_part_of_an_iterable">Skipping the First Part of an Iterable</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_problem_64">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_solution_64">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_discussion_64">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_iterating_over_all_possible_combinations_or_permutations">Iterating Over All Possible Combinations or Permutations</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_problem_65">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_solution_65">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_discussion_65">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_iterating_over_the_index_value_pairs_of_a_sequence">Iterating Over the Index-Value Pairs of a Sequence</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_problem_66">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_solution_66">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_discussion_66">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_iterating_over_multiple_sequences_simultaneously">Iterating Over Multiple Sequences Simultaneously</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_problem_67">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_solution_67">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_discussion_67">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_iterating_on_items_in_separate_containers">Iterating on Items in Separate Containers</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_problem_68">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_solution_68">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_discussion_68">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_creating_data_processing_pipelines">Creating Data Processing Pipelines</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_problem_69">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_solution_69">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_discussion_69">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#subgenerators">Flattening a Nested Sequence</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_problem_70">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_solution_70">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_discussion_70">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_iterating_in_sorted_order_over_merged_sorted_iterables">Iterating in Sorted Order Over Merged Sorted Iterables</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_problem_71">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_solution_71">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_discussion_71">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_replacing_infinite_while_loops_with_an_iterator">Replacing Infinite while Loops with an Iterator</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_problem_72">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_solution_72">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html#_discussion_72">Discussion</a></span></li>
</ul>
</li>
</ul>
</li>
<li>
<span class="chapter"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html">5. Files and I/O</a></span><ul>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_reading_and_writing_text_data">Reading and Writing Text Data</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_73">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_73">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_73">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_printing_to_a_file">Printing to a File</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_74">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_74">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_74">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_printing_with_a_different_separator_or_line_ending">Printing with a Different Separator or Line Ending</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_75">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_75">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_75">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_reading_and_writing_binary_data">Reading and Writing Binary Data</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_76">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_76">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_76">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_writing_to_a_file_that_doesn_8217_t_already_exist">Writing to a File That Doesn’t Already Exist</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_77">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_77">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_77">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#stringio">Performing I/O Operations on a String</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_78">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_78">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_78">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_reading_and_writing_compressed_datafiles">Reading and Writing Compressed Datafiles</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_79">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_79">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_79">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#iterrecords">Iterating Over Fixed-Sized Records</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_80">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_80">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_80">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#mutablebuffer">Reading Binary Data into a Mutable Buffer</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_81">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_81">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_81">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_memory_mapping_binary_files">Memory Mapping Binary Files</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_82">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_82">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_82">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#pathnames">Manipulating Pathnames</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_83">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_83">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_83">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_testing_for_the_existence_of_a_file">Testing for the Existence of a File</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_84">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_84">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_84">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#dirlisting">Getting a Directory Listing</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_85">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_85">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_85">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#rawfilenames">Bypassing Filename Encoding</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_86">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_86">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_86">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#bad_filenames">Printing Bad Filenames</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_87">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_87">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_87">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_adding_or_changing_the_encoding_of_an_already_open_file">Adding or Changing the Encoding of an Already Open File</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_88">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_88">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_88">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_writing_bytes_to_a_text_file">Writing Bytes to a Text File</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_89">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_89">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_89">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_wrapping_an_existing_file_descriptor_as_a_file_object">Wrapping an Existing File Descriptor As a File Object</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_90">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_90">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_90">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_making_temporary_files_and_directories">Making Temporary Files and Directories</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_91">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_91">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_91">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_communicating_with_serial_ports">Communicating with Serial Ports</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_92">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_92">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_92">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_serializing_python_objects">Serializing Python Objects</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_problem_93">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_solution_93">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#_discussion_93">Discussion</a></span></li>
</ul>
</li>
</ul>
</li>
<li>
<span class="chapter"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html">6. Data Encoding and Processing</a></span><ul>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_reading_and_writing_csv_data">Reading and Writing CSV Data</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_problem_94">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_solution_94">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_discussion_94">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_reading_and_writing_json_data">Reading and Writing JSON Data</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_problem_95">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_solution_95">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_discussion_95">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_parsing_simple_xml_data">Parsing Simple XML Data</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_problem_96">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_solution_96">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_discussion_96">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_parsing_huge_xml_files_incrementally">Parsing Huge XML Files Incrementally</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_problem_97">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_solution_97">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_discussion_97">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#turningadictionaryintoxml">Turning a Dictionary into XML</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_problem_98">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_solution_98">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_discussion_98">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_parsing_modifying_and_rewriting_xml">Parsing, Modifying, and Rewriting XML</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_problem_99">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_solution_99">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_discussion_99">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_parsing_xml_documents_with_namespaces">Parsing XML Documents with Namespaces</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_problem_100">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_solution_100">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_discussion_100">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_interacting_with_a_relational_database">Interacting with a Relational Database</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_problem_101">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_solution_101">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_discussion_101">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_decoding_and_encoding_hexadecimal_digits">Decoding and Encoding Hexadecimal Digits</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_problem_102">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_solution_102">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_discussion_102">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_decoding_and_encoding_base64">Decoding and Encoding Base64</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_problem_103">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_solution_103">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_discussion_103">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#binstructarrays">Reading and Writing Binary Arrays of Structures</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_problem_104">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_solution_104">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_discussion_104">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#nestedbinaryrecords">Reading Nested and Variable-Sized Binary Structures</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_problem_105">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_solution_105">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_discussion_105">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#pandas">Summarizing Data and Performing Statistics</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_problem_106">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_solution_106">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#_discussion_106">Discussion</a></span></li>
</ul>
</li>
</ul>
</li>
<li>
<span class="chapter"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html">7. Functions</a></span><ul>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_writing_functions_that_accept_any_number_of_arguments">Writing Functions That Accept Any Number of Arguments</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_problem_107">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_solution_107">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_discussion_107">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#keywordargs">Writing Functions That Only Accept Keyword Arguments</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_problem_108">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_solution_108">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_discussion_108">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_attaching_informational_metadata_to_function_arguments">Attaching Informational Metadata to Function Arguments</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_problem_109">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_solution_109">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_discussion_109">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_returning_multiple_values_from_a_function">Returning Multiple Values from a Function</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_problem_110">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_solution_110">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_discussion_110">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_defining_functions_with_default_arguments">Defining Functions with Default Arguments</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_problem_111">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_solution_111">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_discussion_111">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#lambda">Defining Anonymous or Inline Functions</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_problem_112">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_solution_112">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_discussion_112">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_capturing_variables_in_anonymous_functions">Capturing Variables in Anonymous Functions</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_problem_113">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_solution_113">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_discussion_113">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#partial">Making an N-Argument Callable Work As a Callable with Fewer Arguments</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_problem_114">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_solution_114">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_discussion_114">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_replacing_single_method_classes_with_functions">Replacing Single Method Classes with Functions</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_problem_115">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_solution_115">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_discussion_115">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#carryingextrastatewithcbfunctions">Carrying Extra State with Callback Functions</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_problem_116">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_solution_116">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_discussion_116">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_inlining_callback_functions">Inlining Callback Functions</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_problem_117">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_solution_117">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_discussion_117">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_accessing_variables_defined_inside_a_closure">Accessing Variables Defined Inside a Closure</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_problem_118">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_solution_118">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch07.html#_discussion_118">Discussion</a></span></li>
</ul>
</li>
</ul>
</li>
<li>
<span class="chapter"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html">8. Classes and Objects</a></span><ul>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_changing_the_string_representation_of_instances">Changing the String Representation of Instances</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_119">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_119">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_119">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_customizing_string_formatting">Customizing String Formatting</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_120">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_120">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_120">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#context_manager">Making Objects Support the Context-Management Protocol</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_121">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_121">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_121">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#class_with_slots">Saving Memory When Creating a Large Number of Instances</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_122">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_122">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_122">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_encapsulating_names_in_a_class">Encapsulating Names in a Class</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_123">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_123">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_123">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#property">Creating Managed Attributes</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_124">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_124">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_124">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#super">Calling a Method on a Parent Class</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_125">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_125">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_125">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_extending_a_property_in_a_subclass">Extending a Property in a Subclass</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_126">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_126">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_126">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#descriptors">Creating a New Kind of Class or Instance Attribute</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_127">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_127">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_127">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#lazy_property">Using Lazily Computed Properties</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_128">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_128">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_128">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#simpledatastructure">Simplifying the Initialization of Data Structures</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_129">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_129">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_129">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#abc">Defining an Interface or Abstract Base Class</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_130">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_130">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_130">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#datamodel">Implementing a Data Model or Type System</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_131">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_131">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_131">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_implementing_custom_containers">Implementing Custom Containers</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_132">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_132">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_132">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_delegating_attribute_access">Delegating Attribute Access</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_133">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_133">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_133">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_defining_more_than_one_constructor_in_a_class">Defining More Than One Constructor in a Class</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_134">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_134">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_134">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#createnoinit">Creating an Instance Without Invoking <span class="emphasis"><em>init</em></span></a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_135">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_135">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_135">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#mixins">Extending Classes with Mixins</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_136">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_136">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_136">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_implementing_stateful_objects_or_state_machines">Implementing Stateful Objects or State Machines</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_137">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_137">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_137">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_calling_a_method_on_an_object_given_the_name_as_a_string">Calling a Method on an Object Given the Name As a String</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_138">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_138">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_138">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#visitor">Implementing the Visitor Pattern</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_139">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_139">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_139">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#genvisitor">Implementing the Visitor Pattern Without Recursion</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_140">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_140">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_140">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#weakref">Managing Memory in Cyclic Data Structures</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_141">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_141">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_141">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_making_classes_support_comparison_operations">Making Classes Support Comparison Operations</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_142">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_142">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_142">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#caching">Creating Cached Instances</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_problem_143">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_solution_143">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch08.html#_discussion_143">Discussion</a></span></li>
</ul>
</li>
</ul>
</li>
<li>
<span class="chapter"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html">9. Metaprogramming</a></span><ul>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_putting_a_wrapper_around_a_function">Putting a Wrapper Around a Function</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_144">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_144">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_144">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#decoratormeta">Preserving Function Metadata When Writing Decorators</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_145">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_145">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_145">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_unwrapping_a_decorator">Unwrapping a Decorator</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_146">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_146">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_146">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_defining_a_decorator_that_takes_arguments">Defining a Decorator That Takes Arguments</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_147">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_147">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_147">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#decorator_parms">Defining a Decorator with User Adjustable Attributes</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_148">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_148">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_148">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_defining_a_decorator_that_takes_an_optional_argument">Defining a Decorator That Takes an Optional Argument</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_149">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_149">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_149">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#typeassertdecorator">Enforcing Type Checking on a Function Using a Decorator</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_150">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_150">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_150">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_defining_decorators_as_part_of_a_class">Defining Decorators As Part of a Class</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_151">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_151">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_151">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#decoratorasclass">Defining Decorators As Classes</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_152">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_152">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_152">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_applying_decorators_to_class_and_static_methods">Applying Decorators to Class and Static Methods</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_153">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_153">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_153">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#decoratoraddarg">Writing Decorators That Add Arguments to Wrapped Functions</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_154">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_154">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_154">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#classdecorator">Using Decorators to Patch Class Definitions</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_155">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_155">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_155">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#metacreational">Using a Metaclass to Control Instance Creation</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_156">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_156">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_156">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#definitionorder">Capturing Class Attribute Definition Order</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_157">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_157">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_157">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_defining_a_metaclass_that_takes_optional_arguments">Defining a Metaclass That Takes Optional Arguments</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_158">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_158">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_158">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#signatures">Enforcing an Argument Signature on *args and **kwargs</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_159">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_159">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_159">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_enforcing_coding_conventions_in_classes">Enforcing Coding Conventions in Classes</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_160">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_160">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_160">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_defining_classes_programmatically">Defining Classes Programmatically</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_161">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_161">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_161">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#metaclassinit">Initializing Class Members at Definition Time</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_162">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_162">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_162">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#multipledispatch">Implementing Multiple Dispatch with Function Annotations</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_163">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_163">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_163">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#propertyclosures">Avoiding Repetitive Property Methods</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_164">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_164">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_164">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#contextmanager_decorator">Defining Context Managers the Easy Way</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_165">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_165">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_165">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_executing_code_with_local_side_effects">Executing Code with Local Side Effects</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_166">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_166">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_166">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#ast">Parsing and Analyzing Python Source</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_167">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_167">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_167">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_disassembling_python_byte_code">Disassembling Python Byte Code</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_problem_168">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_solution_168">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch09.html#_discussion_168">Discussion</a></span></li>
</ul>
</li>
</ul>
</li>
<li>
<span class="chapter"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html">10. Modules and Packages</a></span><ul>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_making_a_hierarchical_package_of_modules">Making a Hierarchical Package of Modules</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_problem_169">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_solution_169">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_discussion_169">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_controlling_the_import_of_everything">Controlling the Import of Everything</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_problem_170">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_solution_170">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_discussion_170">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#importingpackagesubmodulesusingrelative">Importing Package Submodules Using Relative Names</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_problem_171">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_solution_171">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_discussion_171">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#modulesplitting">Splitting a Module into Multiple Files</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_problem_172">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_solution_172">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_discussion_172">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#namespacepackage">Making Separate Directories of Code Import Under a Common Namespace</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_problem_173">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_solution_173">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_discussion_173">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_reloading_modules">Reloading Modules</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_problem_174">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_solution_174">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_discussion_174">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_making_a_directory_or_zip_file_runnable_as_a_main_script">Making a Directory or Zip File Runnable As a Main Script</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_problem_175">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_solution_175">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_discussion_175">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_reading_datafiles_within_a_package">Reading Datafiles Within a Package</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_problem_176">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_solution_176">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_discussion_176">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_adding_directories_to_sys_path">Adding Directories to sys.path</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_problem_177">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_solution_177">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_discussion_177">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_importing_modules_using_a_name_given_in_a_string">Importing Modules Using a Name Given in a String</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_problem_178">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_solution_178">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_discussion_178">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#importhooks">Loading Modules from a Remote Machine Using Import Hooks</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_problem_179">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_solution_179">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_discussion_179">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_patching_modules_on_import">Patching Modules on Import</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_problem_180">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_solution_180">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_discussion_180">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_installing_packages_just_for_yourself">Installing Packages Just for Yourself</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_problem_181">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_solution_181">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_discussion_181">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_creating_a_new_python_environment">Creating a New Python Environment</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_problem_182">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_solution_182">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_discussion_182">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_distributing_packages">Distributing Packages</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_problem_183">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_solution_183">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch10.html#_discussion_183">Discussion</a></span></li>
</ul>
</li>
</ul>
</li>
<li>
<span class="chapter"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html">11. Network and Web Programming</a></span><ul>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_interacting_with_http_services_as_a_client">Interacting with HTTP Services As a Client</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_problem_184">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_solution_184">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_discussion_184">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#tcpserver">Creating a TCP Server</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_problem_185">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_solution_185">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_discussion_185">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_creating_a_udp_server">Creating a UDP Server</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_problem_186">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_solution_186">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_discussion_186">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_generating_a_range_of_ip_addresses_from_a_cidr_address">Generating a Range of IP Addresses from a CIDR Address</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_problem_187">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_solution_187">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_discussion_187">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_creating_a_simple_rest_based_interface">Creating a Simple REST-Based Interface</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_problem_188">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_solution_188">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_discussion_188">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#xmlrpc">Implementing a Simple Remote Procedure Call with <span class="keep-together">XML-RPC</span></a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_problem_189">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_solution_189">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_discussion_189">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#multiconn">Communicating Simply Between Interpreters</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_problem_190">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_solution_190">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_discussion_190">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#rpc">Implementing Remote Procedure Calls</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_problem_191">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_solution_191">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_discussion_191">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_authenticating_clients_simply">Authenticating Clients Simply</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_problem_192">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_solution_192">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_discussion_192">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#ssl">Adding SSL to Network Services</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_problem_193">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_solution_193">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_discussion_193">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_passing_a_socket_file_descriptor_between_processes">Passing a Socket File Descriptor Between Processes</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_problem_194">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_solution_194">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_discussion_194">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_understanding_event_driven_i_o">Understanding Event-Driven I/O</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_problem_195">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_solution_195">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_discussion_195">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_sending_and_receiving_large_arrays">Sending and Receiving Large Arrays</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_problem_196">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_solution_196">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch11.html#_discussion_196">Discussion</a></span></li>
</ul>
</li>
</ul>
</li>
<li>
<span class="chapter"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html">12. Concurrency</a></span><ul>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#thread_start">Starting and Stopping Threads</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_problem_197">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_solution_197">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_discussion_197">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_determining_if_a_thread_has_started">Determining If a Thread Has Started</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_problem_198">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_solution_198">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_discussion_198">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#thread_communication">Communicating Between Threads</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_problem_199">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_solution_199">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_discussion_199">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_locking_critical_sections">Locking Critical Sections</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_problem_200">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_solution_200">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_discussion_200">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#deadlock">Locking with Deadlock Avoidance</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_problem_201">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_solution_201">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_discussion_201">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#thread_local">Storing Thread-Specific State</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_problem_202">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_solution_202">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_discussion_202">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_creating_a_thread_pool">Creating a Thread Pool</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_problem_203">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_solution_203">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_discussion_203">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_performing_simple_parallel_programming">Performing Simple Parallel Programming</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_problem_204">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_solution_204">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_discussion_204">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_dealing_with_the_gil_and_how_to_stop_worrying_about_it">Dealing with the GIL (and How to Stop Worrying About It)</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_problem_205">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_solution_205">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_discussion_205">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#actors">Defining an Actor Task</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_problem_206">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_solution_206">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_discussion_206">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_implementing_publish_subscribe_messaging">Implementing Publish/Subscribe Messaging</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_problem_207">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_solution_207">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_discussion_207">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#coroutine_concurrency">Using Generators As an Alternative to Threads</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_problem_208">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_solution_208">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_discussion_208">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_polling_multiple_thread_queues">Polling Multiple Thread Queues</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_problem_209">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_solution_209">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_discussion_209">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_launching_a_daemon_process_on_unix">Launching a Daemon Process on Unix</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_problem_210">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_solution_210">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch12.html#_discussion_210">Discussion</a></span></li>
</ul>
</li>
</ul>
</li>
<li>
<span class="chapter"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html">13. Utility Scripting and System Administration</a></span><ul>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_accepting_script_input_via_redirection_pipes_or_input_files">Accepting Script Input via Redirection, Pipes, or Input Files</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_problem_211">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_solution_211">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_discussion_211">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_terminating_a_program_with_an_error_message">Terminating a Program with an Error Message</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_problem_212">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_solution_212">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_discussion_212">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_parsing_command_line_options">Parsing Command-Line Options</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_problem_213">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_solution_213">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_discussion_213">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_prompting_for_a_password_at_runtime">Prompting for a Password at Runtime</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_problem_214">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_solution_214">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_discussion_214">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_getting_the_terminal_size">Getting the Terminal Size</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_problem_215">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_solution_215">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_discussion_215">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_executing_an_external_command_and_getting_its_output">Executing an External Command and Getting Its Output</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_problem_216">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_solution_216">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_discussion_216">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_copying_or_moving_files_and_directories">Copying or Moving Files and Directories</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_problem_217">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_solution_217">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_discussion_217">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_creating_and_unpacking_archives">Creating and Unpacking Archives</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_problem_218">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_solution_218">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_discussion_218">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_finding_files_by_name">Finding Files by Name</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_problem_219">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_solution_219">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_discussion_219">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_reading_configuration_files">Reading Configuration Files</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_problem_220">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_solution_220">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_discussion_220">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_adding_logging_to_simple_scripts">Adding Logging to Simple Scripts</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_problem_221">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_solution_221">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_discussion_221">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_adding_logging_to_libraries">Adding Logging to Libraries</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_problem_222">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_solution_222">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_discussion_222">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#stopwatch">Making a Stopwatch Timer</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_problem_223">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_solution_223">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_discussion_223">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_putting_limits_on_memory_and_cpu_usage">Putting Limits on Memory and CPU Usage</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_problem_224">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_solution_224">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_discussion_224">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_launching_a_web_browser">Launching a Web Browser</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_problem_225">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_solution_225">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch13.html#_discussion_225">Discussion</a></span></li>
</ul>
</li>
</ul>
</li>
<li>
<span class="chapter"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html">14. Testing, Debugging, and Exceptions</a></span><ul>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_testing_output_sent_to_stdout">Testing Output Sent to stdout</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_problem_226">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_solution_226">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_discussion_226">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_patching_objects_in_unit_tests">Patching Objects in Unit Tests</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_problem_227">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_solution_227">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_discussion_227">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_testing_for_exceptional_conditions_in_unit_tests">Testing for Exceptional Conditions in Unit Tests</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_problem_228">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_solution_228">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_discussion_228">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_logging_test_output_to_a_file">Logging Test Output to a File</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_problem_229">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_solution_229">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_discussion_229">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_skipping_or_anticipating_test_failures">Skipping or Anticipating Test Failures</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_problem_230">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_solution_230">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_discussion_230">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_handling_multiple_exceptions">Handling Multiple Exceptions</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_problem_231">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_solution_231">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_discussion_231">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_catching_all_exceptions">Catching All Exceptions</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_problem_232">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_solution_232">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_discussion_232">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_creating_custom_exceptions">Creating Custom Exceptions</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_problem_233">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_solution_233">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_discussion_233">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_raising_an_exception_in_response_to_another_exception">Raising an Exception in Response to Another Exception</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_problem_234">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_solution_234">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_discussion_234">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_reraising_the_last_exception">Reraising the Last Exception</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_problem_235">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_solution_235">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_discussion_235">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_issuing_warning_messages">Issuing Warning Messages</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_problem_236">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_solution_236">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_discussion_236">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_debugging_basic_program_crashes">Debugging Basic Program Crashes</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_problem_237">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_solution_237">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_discussion_237">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#profiling">Profiling and Timing Your Program</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_problem_238">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_solution_238">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_discussion_238">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_making_your_programs_run_faster">Making Your Programs Run Faster</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_problem_239">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_solution_239">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch14.html#_discussion_239">Discussion</a></span></li>
</ul>
</li>
</ul>
</li>
<li>
<span class="chapter"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html">15. C Extensions</a></span><ul>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_accessing_c_code_using_ctypes">Accessing C Code Using ctypes</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_240">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_240">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_240">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#simpleextension">Writing a Simple C Extension Module</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_241">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_241">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_241">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#carray">Writing an Extension Function That Operates on Arrays</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_242">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_242">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_242">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#capsules">Managing Opaque Pointers in C Extension Modules</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_243">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_243">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_243">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_defining_and_exporting_c_apis_from_extension_modules">Defining and Exporting C APIs from Extension Modules</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_244">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_244">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_244">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_calling_python_from_c">Calling Python from C</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_245">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_245">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_245">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#releasegil">Releasing the GIL in C Extensions</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_246">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_246">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_246">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_mixing_threads_from_c_and_python">Mixing Threads from C and Python</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_247">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_247">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_247">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#swig">Wrapping C Code with Swig</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_248">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_248">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_248">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#cython_existing">Wrapping Existing C Code with Cython</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_249">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_249">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_249">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#cythonarray">Using Cython to Write High-Performance Array Operations</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_250">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_250">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_250">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_turning_a_function_pointer_into_a_callable">Turning a Function Pointer into a Callable</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_251">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_251">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_251">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_passing_null_terminated_strings_to_c_libraries">Passing NULL-Terminated Strings to C Libraries</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_252">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_252">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_252">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_passing_unicode_strings_to_c_libraries">Passing Unicode Strings to C Libraries</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_253">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_253">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_253">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_converting_c_strings_to_python">Converting C Strings to Python</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_254">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_254">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_254">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_working_with_c_strings_of_dubious_encoding">Working with C Strings of Dubious Encoding</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_255">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_255">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_255">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_passing_filenames_to_c_extensions">Passing Filenames to C Extensions</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_256">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_256">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_256">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_passing_open_files_to_c_extensions">Passing Open Files to C Extensions</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_257">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_257">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_257">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_reading_file_like_objects_from_c">Reading File-Like Objects from C</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_258">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_258">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_258">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_consuming_an_iterable_from_c">Consuming an Iterable from C</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_259">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_259">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_259">Discussion</a></span></li>
</ul>
</li>
<li>
<span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_diagnosing_segmentation_faults">Diagnosing Segmentation Faults</a></span><ul>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_problem_260">Problem</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_solution_260">Solution</a></span></li>
<li><span class="sect2"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ch15.html#_discussion_260">Discussion</a></span></li>
</ul>
</li>
</ul>
</li>
<li>
<span class="appendix"><a href="http://chimera.labs.oreilly.com/books/1230000000393/apa.html">A. Further Reading</a></span><ul>
<li><span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/apa.html#_online_resources">Online Resources</a></span></li>
<li><span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/apa.html#_books_for_learning_python">Books for Learning Python</a></span></li>
<li><span class="sect1"><a href="http://chimera.labs.oreilly.com/books/1230000000393/apa.html#_advanced_books">Advanced Books</a></span></li>
</ul>
</li>
<li><span class="index"><a href="http://chimera.labs.oreilly.com/books/1230000000393/ix01.html">Index</a></span></li>
</ul></div>
			</li>
				<li><a href="#" class="capture_modal_open" id="capture_signin_link">Log In / Sign Up</a></li>
			<li id="search-li">
				<form accept-charset="UTF-8" action="/searches" id="search-form" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" value="✓" type="hidden"></div>
	<input name="search[q]" placeholder="Search book..." id="book-search" type="text">

	<input id="search_bookId" name="search[bookId]" value="1230000000393" type="hidden">
	
	<div style="display:none">
		sorted by: 
		<select name="search[sort]">
			<option selected="selected" value="relevance">Relevance</option>
			<option value="authors">Author(s)</option>
			<option value="title">Title</option>
		</select>
		returning
		<select name="search[limit]">
			<option value="5">5</option>
			<option value="10">10</option>
			<option value="20">20</option>
			<option selected="selected" value="50">50</option>
			<option value="100">100</option>
		</select>
		values at a time.
	</div>
</form>
			</li>
			<div class="clear"></div>
		</ul>
		<div class="clear"></div>
	
</div><div class="topad">
	<style>      
.ad-profile-image {
  padding: 0;
  margin: 0;
  max-height: 30px;
 }

.top-banner {
  position: absolute;
  right: 0;
  top: 34px;
  z-index: 99999;
}

p.banner-text {
  margin: 0;
  text-align: center;
  padding-right: 10px;
  width: 400px;
}

@media screen and (max-width: 600px) {
   p.banner-text {
     width: 100%;
     text-align: center;
  }
}

span.ebook-advantage {
  font-size: smaller;
  display: block;
}

div.banner-container {
  margin: 0 auto;
}

div.banner-container ul {
  margin: 0 auto;
}

div.topad { padding-bottom: 5px; }

div.banner-container ul li {
  display: inline-block;
  vertical-align: middle;
}

div.banner-container li p {
  padding-top: 0;
  margin-top: 0;
}

div.banner-container li.sponsor {
  border-right: 1px solid rgb(125, 154, 180);
  margin-right: 5px;
  padding-right: 10px;
}

div.banner-container .webbutton {
  background-color: #3994b6;
  display: inline-block;
  padding: 10px;
  -webkit-border-radius: 5px;
  -moz-border-radius: 5px;
  border-radius: 5px;
  color: #FFF;
  text-align: center;
  text-decoration: none;
  font-size: 12px;
  font-weight: bold;
}

</style>
   
<div style="color: rgb(125, 154, 180);">

<div class="banner-container">

<ul>

<li class="sponsor">
<!--CONFERENCE SPONSOR IMAGE-->
<a href="http://www.oscon.com/oscon2013">
<!--<img src="http://orm-other.s3.amazonaws.com/fluent_logo.png" class="ad-profile-image"/>-->
<img src="Python%20Cookbookch5_files/oscon_logo.png" class="ad-profile-image">
<!--<img src="http://orm-other.s3.amazonaws.com/strata_logo.png" class="ad-profile-image"/>
<img src="http://orm-other.s3.amazonaws.com/StrataRx_logo.png" class="ad-profile-image"/>
<img src="http://orm-other.s3.amazonaws.com/velocity_logo.png" class="ad-profile-image"/>-->
</a>
</li>

<li>
<!--AD TEXT, 2 LINES, REPLACE LINK URL AS WELL-->
<p class="banner-text">Enjoy this online version of <em>Python Cookbook</em>. Purchase and download the DRM-free ebook on <a href="http://shop.oreilly.com/product/0636920027072.do">oreilly.com</a>.<span class="ebook-advantage">Learn more about the O’Reilly <a href="http://shop.oreilly.com/category/ebooks.do">Ebook Advantage</a>.</span></p>
</li>

<li>
<!--BUY BUTTON-->
<a class="webbutton" href="http://shop.oreilly.com/product/0636920027072.do">Buy the Ebook</a>
</li> 

</ul>

</div>

<!--CORNER BANNER (IF NEEDED)-->
<!--<a href="http://shop.oreilly.com/product/0636920025245.do" class="top-banner"><img src="http://orm-other.s3.amazonaws.com/banner.png" /></a>-->

</div>
</div>

	<header><div class="navheader">
<table style="width: 100%; ">
<tbody><tr><td style="text-align: center; " colspan="3">Chapter&nbsp;5.&nbsp;Files and I/O</td></tr>
<tr>
<td style="width: 20%; text-align: left; ">
<a accesskey="p" href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html">Prev</a>&nbsp;</td>
<td style="width: 60%; text-align: center; ">&nbsp;</td>
<td style="width: 20%; text-align: right; ">&nbsp;<a accesskey="n" href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html">Next</a>
</td>
</tr>
</tbody></table>
<hr>
</div></header><section class="chapter" data-original-filename="chapter_5_files.asciidoc" id="chapter5filesandio"><div class="titlepage"><div><div><h1 class="title">Chapter&nbsp;5.&nbsp;Files and I/O</h1></div></div></div>
<p id="filesioall_pro"><a id="ix_files" class="indexterm"></a><a id="ix_I_O" class="indexterm"></a>All programs need to perform input and output.  This chapter covers
common idioms for working with different kinds of files, including text
and binary files, file encodings, and other related matters.
Techniques for manipulating filenames and directories are also
covered.</p>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="_reading_and_writing_text_data">
<div class="titlepage"><div><div><h2 class="title">Reading and Writing Text Data</h2></div></div></div>
<div class="sect2" id="_problem_73">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="encoding_text_d_id1"><a id="ix_encoding_text_data" class="indexterm"></a><a id="ix_files_open_function" class="indexterm"></a><a id="ix_files_text_data_from" class="indexterm"></a><a id="ix_open_function" class="indexterm"></a><a id="ix_open_functionrt_wt_mode" class="indexterm"></a><a id="ix_text_data_encoding" class="indexterm"></a><a id="ix_text_data_reading_writing" class="indexterm"></a>You need to read or write text data, possibly in different text
encodings such as ASCII, UTF-8, or UTF-16.</p>
</div>
<div class="sect2" id="_solution_73">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="use_the_open__id1">Use the <code class="literal">open()</code> function with mode <code class="literal">rt</code> to read a text file.  For example:</p>
<pre class="programlisting" data-language="python" id="read_the_enti_id1"><code class="c"># Read the entire file as a single string</code>
<code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile.txt'</code><code class="p">,</code> <code class="s">'rt'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="n">data</code> <code class="o">=</code> <code class="n">f</code><code class="o">.</code><code class="n">read</code><code class="p">()</code>

<code class="c"># Iterate over the lines of the file</code>
<code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile.txt'</code><code class="p">,</code> <code class="s">'rt'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="k">for</code> <code class="n">line</code> <code class="ow">in</code> <code class="n">f</code><code class="p">:</code>
        <code class="c"># process line</code>
        <code class="o">...</code></pre>
<p id="similarly_to_w_id1">Similarly, to write a text file, use <code class="literal">open()</code> with mode <code class="literal">wt</code> to
write a file, clearing and overwriting the previous contents (if any).  For example:</p>
<pre class="programlisting" data-language="python" id="write_chunks_"><code class="c"># Write chunks of text data</code>
<code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile.txt'</code><code class="p">,</code> <code class="s">'wt'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">text1</code><code class="p">)</code>
    <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">text2</code><code class="p">)</code>
    <code class="o">...</code>

<code class="c"># Redirected print statement</code>
<code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile.txt'</code><code class="p">,</code> <code class="s">'wt'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="k">print</code><code class="p">(</code><code class="n">line1</code><code class="p">,</code> <code class="nb">file</code><code class="o">=</code><code class="n">f</code><code class="p">)</code>
    <code class="k">print</code><code class="p">(</code><code class="n">line2</code><code class="p">,</code> <code class="nb">file</code><code class="o">=</code><code class="n">f</code><code class="p">)</code>
    <code class="o">...</code></pre>
<p id="to_append_to_th">To append to the end of an existing file, use <code class="literal">open()</code> with mode
<code class="literal">at</code>.</p>
<p id="by_default_fil">By default, files are read/written using the system default text
encoding, as can be found in <a id="id635980" class="indexterm"></a><code class="literal">sys.getdefaultencoding()</code>.  On most
machines, this is set to <code class="literal">utf-8</code>.  If you know that the text you are
reading or writing is in a different encoding, supply the optional
<code class="literal">encoding</code> parameter to <code class="literal">open()</code>.  For example:</p>
<pre class="programlisting" data-language="python" id="with_opensome_id2"><code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile.txt'</code><code class="p">,</code> <code class="s">'rt'</code><code class="p">,</code> <code class="n">encoding</code><code class="o">=</code><code class="s">'latin-1'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
     <code class="o">...</code></pre>
<p id="python_understa">Python understands several hundred possible text encodings.  However,
some of the more common encodings are <code class="literal">ascii</code>, <code class="literal">latin-1</code>,
<code class="literal">utf-8</code>, and <code class="literal">utf-16</code>.  UTF-8 is usually a safe bet if working
with web applications.  <code class="literal">ascii</code> corresponds to the 7-bit characters
in the range U+0000 to U+007F.  <code class="literal">latin-1</code> is a direct mapping of
bytes 0-255 to Unicode characters U+0000 to U+00FF. <code class="literal">latin-1</code>
encoding is notable in that it will never produce a decoding error
when reading text of a possibly unknown encoding.  Reading a file as
<code class="literal">latin-1</code> might not produce a completely correct text decoding, but it
still might be enough to extract useful data out of it.
Also, if you later write the data back out, the original input data will be
preserved.</p>
</div>
<div class="sect2" id="_discussion_73">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="reading_and_wri">Reading and writing text files is typically very straightforward.
However, there are a number of subtle aspects to keep in mind.  First,
the use of the <code class="literal">with</code> statement in the examples establishes a context
in which the file will be used.  When control leaves the <code class="literal">with</code> block,
the file will be closed automatically.   You don’t need to use the <code class="literal">with</code> statement,
but if you don’t use it, make sure you remember to close the file:</p>
<pre class="programlisting" data-language="python" id="f__opensomef"><code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile.txt'</code><code class="p">,</code> <code class="s">'rt'</code><code class="p">)</code>
<code class="n">data</code> <code class="o">=</code> <code class="n">f</code><code class="o">.</code><code class="n">read</code><code class="p">()</code>
<code class="n">f</code><code class="o">.</code><code class="n">close</code><code class="p">()</code></pre>
<p id="filesnewlinesne"><a id="id636282" class="indexterm"></a><a id="id636290" class="indexterm"></a>Another minor complication concerns the recognition of newlines, which are
different on Unix and Windows (i.e., <code class="literal">\n</code> versus <code class="literal">\r\n</code>).   By default,
Python operates in what’s known as "universal newline" mode.  In this mode,
all common newline conventions are recognized, and newline characters
are converted to a single <code class="literal">\n</code> character while reading.   Similarly, the
newline character <code class="literal">\n</code> is converted to the system default newline character
on output.  If you don’t want this translation, supply the <code class="literal">newline=''</code> argument
to <code class="literal">open()</code>, like this:</p>
<pre class="programlisting" data-language="python" id="read_with_dis"><code class="c"># Read with disabled newline translation</code>
<code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile.txt'</code><code class="p">,</code> <code class="s">'rt'</code><code class="p">,</code> <code class="n">newline</code><code class="o">=</code><code class="s">''</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
     <code class="o">...</code></pre>
<p id="to_illustrate_t_id1">To illustrate the difference, here’s what you will see on a Unix machine
if you read the contents of a Windows-encoded text file containing
the raw data <code class="literal">hello world!\r\n</code>:</p>
<pre class="programlisting" data-language="pycon" id="_newline_t"><code class="gp">&gt;&gt;&gt; </code><code class="c"># Newline translation enabled (the default)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s">'hello.txt'</code><code class="p">,</code> <code class="s">'rt'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code><code class="o">.</code><code class="n">read</code><code class="p">()</code>
<code class="go">'hello world!\n'</code>

<code class="gp">&gt;&gt;&gt; </code><code class="c"># Newline translation disabled</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">g</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s">'hello.txt'</code><code class="p">,</code> <code class="s">'rt'</code><code class="p">,</code> <code class="n">newline</code><code class="o">=</code><code class="s">''</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">g</code><code class="o">.</code><code class="n">read</code><code class="p">()</code>
<code class="go">'hello world!\r\n'</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="a_final_issue_c">A final issue concerns possible encoding errors in text files.  When
reading or writing a text file, you might encounter an encoding or
decoding error.  For instance:</p>
<pre class="programlisting" data-language="pycon" id="f__opens_id2"><code class="gp">&gt;&gt;&gt; </code><code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s">'sample.txt'</code><code class="p">,</code> <code class="s">'rt'</code><code class="p">,</code> <code class="n">encoding</code><code class="o">=</code><code class="s">'ascii'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code><code class="o">.</code><code class="n">read</code><code class="p">()</code>
<code class="gt">Traceback (most recent call last):</code>
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">1</code>, in <code class="n">&lt;module&gt;</code>
  File <code class="nb">"/usr/local/lib/python3.3/encodings/ascii.py"</code>, line <code class="m">26</code>, in <code class="n">decode</code>
    <code class="k">return</code> <code class="n">codecs</code><code class="o">.</code><code class="n">ascii_decode</code><code class="p">(</code><code class="nb">input</code><code class="p">,</code> <code class="bp">self</code><code class="o">.</code><code class="n">errors</code><code class="p">)[</code><code class="mi">0</code><code class="p">]</code>
<code class="gr">UnicodeDecodeError</code>: <code class="n">'ascii' codec can't decode byte 0xc3 in position</code>
<code class="go">12: ordinal not in range(128)</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="if_you_get_this">If you get this error, it usually means that you’re not reading the
file in the correct encoding.  You should carefully read the
specification of whatever it is that you’re reading and check that
you’re doing it right (e.g., reading data as UTF-8 instead of Latin-1
or whatever it needs to be).  If encoding errors are still a possibility, you can
supply an optional <code class="literal">errors</code> argument to <code class="literal">open()</code> to deal with the
errors.  Here are a few samples of common error handling schemes:</p>
<pre class="programlisting" data-language="pycon" id="_replace_b"><code class="gp">&gt;&gt;&gt; </code><code class="c"># Replace bad chars with Unicode U+fffd replacement char</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s">'sample.txt'</code><code class="p">,</code> <code class="s">'rt'</code><code class="p">,</code> <code class="n">encoding</code><code class="o">=</code><code class="s">'ascii'</code><code class="p">,</code> <code class="n">errors</code><code class="o">=</code><code class="s">'replace'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code><code class="o">.</code><code class="n">read</code><code class="p">()</code>
<code class="go">'Spicy Jalape?o!'</code>
<code class="gp">&gt;&gt;&gt; </code><code class="c"># Ignore bad chars entirely</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">g</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s">'sample.txt'</code><code class="p">,</code> <code class="s">'rt'</code><code class="p">,</code> <code class="n">encoding</code><code class="o">=</code><code class="s">'ascii'</code><code class="p">,</code> <code class="n">errors</code><code class="o">=</code><code class="s">'ignore'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">g</code><code class="o">.</code><code class="n">read</code><code class="p">()</code>
<code class="go">'Spicy Jalapeo!'</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="if_youre_const">If you’re constantly fiddling with the <code class="literal">encoding</code> and <code class="literal">errors</code> arguments to <code class="literal">open()</code> and doing lots of
hacks, you’re probably making life more difficult than it needs to be.
The number one rule with text is that you simply need to make sure
you’re always using the proper text encoding.  When in doubt, use the
default setting (typically UTF-8).<a id="id637149" class="indexterm"></a><a id="id637158" class="indexterm"></a><a id="id637167" class="indexterm"></a><a id="id637177" class="indexterm"></a><a id="id637187" class="indexterm"></a><a id="id637197" class="indexterm"></a><a id="id637206" class="indexterm"></a></p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="_printing_to_a_file">
<div class="titlepage"><div><div><h2 class="title">Printing to a File</h2></div></div></div>
<div class="sect2" id="_problem_74">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="filesprinting_t"><a id="id637244" class="indexterm"></a><a id="id637252" class="indexterm"></a>You want to redirect the output of the <code class="literal">print()</code> function to a file.</p>
</div>
<div class="sect2" id="_solution_74">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="use_the_file_ke">Use the <code class="literal">file</code> keyword argument to <code class="literal">print()</code>, like this:</p>
<pre class="programlisting" data-language="python" id="with_opensome_id3"><code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile.txt'</code><code class="p">,</code> <code class="s">'rt'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="k">print</code><code class="p">(</code><code class="s">'Hello World!'</code><code class="p">,</code> <code class="nb">file</code><code class="o">=</code><code class="n">f</code><code class="p">)</code></pre>
</div>
<div class="sect2" id="_discussion_74">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="theres_not_muc">There’s not much more to printing to a file other than this.  However,
make sure that the file is opened in text mode.  Printing will fail
if the underlying file is in binary mode.</p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="_printing_with_a_different_separator_or_line_ending">
<div class="titlepage"><div><div><h2 class="title">Printing with a Different Separator or Line Ending</h2></div></div></div>
<div class="sect2" id="_problem_75">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="filesline_endin"><a id="ix_files_line_ending_changing" class="indexterm"></a><a id="ix_files_separator_character_changing" class="indexterm"></a><a id="ix_print_functionline_ending_changing" class="indexterm"></a><a id="ix_print_functionseparator_character_changing" class="indexterm"></a>You want to output data using <code class="literal">print()</code>, but you also want to change the
separator character or line ending.</p>
</div>
<div class="sect2" id="_solution_75">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="use_the_sep_and">Use the <code class="literal">sep</code> and <code class="literal">end</code> keyword arguments to <code class="literal">print()</code> to change
the output as you wish.  For example:</p>
<pre class="programlisting" data-language="pycon" id="printacme"><code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="s">'ACME'</code><code class="p">,</code> <code class="mi">50</code><code class="p">,</code> <code class="mf">91.5</code><code class="p">)</code>
<code class="go">ACME 50 91.5</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="s">'ACME'</code><code class="p">,</code> <code class="mi">50</code><code class="p">,</code> <code class="mf">91.5</code><code class="p">,</code> <code class="n">sep</code><code class="o">=</code><code class="s">','</code><code class="p">)</code>
<code class="go">ACME,50,91.5</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="s">'ACME'</code><code class="p">,</code> <code class="mi">50</code><code class="p">,</code> <code class="mf">91.5</code><code class="p">,</code> <code class="n">sep</code><code class="o">=</code><code class="s">','</code><code class="p">,</code> <code class="n">end</code><code class="o">=</code><code class="s">'!!</code><code class="se">\n</code><code class="s">'</code><code class="p">)</code>
<code class="go">ACME,50,91.5!!</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="use_of_the_end_">Use of the <a id="id637745" class="indexterm"></a><a id="id637751" class="indexterm"></a><code class="literal">end</code> argument is also how you suppress the output of newlines in
output.  For example:</p>
<pre class="programlisting" data-language="pycon" id="for_i_in_ra"><code class="gp">&gt;&gt;&gt; </code><code class="k">for</code> <code class="n">i</code> <code class="ow">in</code> <code class="nb">range</code><code class="p">(</code><code class="mi">5</code><code class="p">):</code>
<code class="gp">... </code>    <code class="k">print</code><code class="p">(</code><code class="n">i</code><code class="p">)</code>
<code class="gp">...</code>
<code class="go">0</code>
<code class="go">1</code>
<code class="go">2</code>
<code class="go">3</code>
<code class="go">4</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">for</code> <code class="n">i</code> <code class="ow">in</code> <code class="nb">range</code><code class="p">(</code><code class="mi">5</code><code class="p">):</code>
<code class="gp">... </code>    <code class="k">print</code><code class="p">(</code><code class="n">i</code><code class="p">,</code> <code class="n">end</code><code class="o">=</code><code class="s">' '</code><code class="p">)</code>
<code class="gp">...</code>
<code class="go">0 1 2 3 4 &gt;&gt;&gt;</code></pre>
</div>
<div class="sect2" id="_discussion_75">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="using_print_w">Using <code class="literal">print()</code> with a different item separator is often the easiest way to
output data when you need something other than a space separating the items.
Sometimes you’ll see programmers using <a id="id637978" class="indexterm"></a><code class="literal">str.join()</code> to accomplish the same
thing.  For example:</p>
<pre class="programlisting" data-language="pycon" id="printj"><code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="s">','</code><code class="o">.</code><code class="n">join</code><code class="p">(</code><code class="s">'ACME'</code><code class="p">,</code><code class="s">'50'</code><code class="p">,</code><code class="s">'91.5'</code><code class="p">))</code>
<code class="go">ACME,50,91.5</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="the_problem_wit_id1">The problem with <code class="literal">str.join()</code> is that it only works with strings.  This means
that it’s often necessary to perform various acrobatics to get it to work.
For example:</p>
<pre class="programlisting" data-language="pycon" id="row__acm"><code class="gp">&gt;&gt;&gt; </code><code class="n">row</code> <code class="o">=</code> <code class="p">(</code><code class="s">'ACME'</code><code class="p">,</code> <code class="mi">50</code><code class="p">,</code> <code class="mf">91.5</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="s">','</code><code class="o">.</code><code class="n">join</code><code class="p">(</code><code class="n">row</code><code class="p">))</code>
<code class="gt">Traceback (most recent call last):</code>
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">1</code>, in <code class="n">&lt;module&gt;</code>
<code class="gr">TypeError: sequence item 1</code>: <code class="n">expected str instance, int found</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="s">','</code><code class="o">.</code><code class="n">join</code><code class="p">(</code><code class="nb">str</code><code class="p">(</code><code class="n">x</code><code class="p">)</code> <code class="k">for</code> <code class="n">x</code> <code class="ow">in</code> <code class="n">row</code><code class="p">))</code>
<code class="go">ACME,50,91.5</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="instead_of_doin_id2">Instead of doing that, you could just write the following<a id="id638301" class="indexterm"></a><a id="id638311" class="indexterm"></a><a id="id638321" class="indexterm"></a><a id="id638331" class="indexterm"></a>:</p>
<pre class="programlisting" data-language="pycon" id="printrow"><code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="o">*</code><code class="n">row</code><code class="p">,</code> <code class="n">sep</code><code class="o">=</code><code class="s">','</code><code class="p">)</code>
<code class="go">ACME,50,91.5</code>
<code class="go">&gt;&gt;&gt;</code></pre>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="_reading_and_writing_binary_data">
<div class="titlepage"><div><div><h2 class="title">Reading and Writing Binary Data</h2></div></div></div>
<div class="sect2" id="_problem_76">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="binary_dataread_id1"><a id="ix_binary_data_reading_writing" class="indexterm"></a><a id="ix_files_binary_data_reading_writing" class="indexterm"></a><a id="ix_open_functionbinary_data_reading_writing" class="indexterm"></a><a id="ix_open_functionrb_wb_modes_of" class="indexterm"></a>You need to read or write binary data, such as that found in
images, sound files, and so on.</p>
</div>
<div class="sect2" id="_solution_76">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="use_the_open__id2">Use the <code class="literal">open()</code> function with mode <code class="literal">rb</code> or <code class="literal">wb</code> to read or write binary data.
For example:</p>
<pre class="programlisting" data-language="python" id="read_the_enti_id2"><code class="c"># Read the entire file as a single byte string</code>
<code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile.bin'</code><code class="p">,</code> <code class="s">'rb'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="n">data</code> <code class="o">=</code> <code class="n">f</code><code class="o">.</code><code class="n">read</code><code class="p">()</code>

<code class="c"># Write binary data to a file</code>
<code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile.bin'</code><code class="p">,</code> <code class="s">'wb'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">b</code><code class="s">'Hello World'</code><code class="p">)</code></pre>
<p id="when_reading_bi_id1">When reading binary, it is important to stress that all data returned
will be in the form of <a id="id638704" class="indexterm"></a>byte strings, not text strings.  Similarly,
when writing, you must supply data in the form of objects that expose
data as bytes (e.g., byte strings, <code class="literal">bytearray</code> objects, etc.).</p>
</div>
<div class="sect2" id="_discussion_76">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="when_reading_bi_id2">When reading binary data, the subtle semantic
differences between byte strings and text strings pose a potential gotcha.   In particular, be
aware that indexing and iteration return integer byte values instead
of byte strings.  For example:</p>
<pre class="programlisting" data-language="pycon" id="_text_stri"><code class="gp">&gt;&gt;&gt; </code><code class="c"># Text string</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">t</code> <code class="o">=</code> <code class="s">'Hello World'</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">t</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code>
<code class="go">'H'</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">for</code> <code class="n">c</code> <code class="ow">in</code> <code class="n">t</code><code class="p">:</code>
<code class="gp">... </code>    <code class="k">print</code><code class="p">(</code><code class="n">c</code><code class="p">)</code>
<code class="gp">...</code>
<code class="go">H</code>
<code class="go">e</code>
<code class="go">l</code>
<code class="go">l</code>
<code class="go">o</code>
<code class="gp">...</code>
<code class="gp">&gt;&gt;&gt; </code><code class="c"># Byte string</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">b</code> <code class="o">=</code> <code class="n">b</code><code class="s">'Hello World'</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">b</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code>
<code class="go">72</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">for</code> <code class="n">c</code> <code class="ow">in</code> <code class="n">b</code><code class="p">:</code>
<code class="gp">... </code>    <code class="k">print</code><code class="p">(</code><code class="n">c</code><code class="p">)</code>
<code class="gp">...</code>
<code class="go">72</code>
<code class="go">101</code>
<code class="go">108</code>
<code class="go">108</code>
<code class="go">111</code>
<code class="gp">...</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="if_you_ever_nee_id1">If you ever need to read or write text from a binary-mode file, make sure you remember to
decode or encode it.  For example:</p>
<pre class="programlisting" data-language="python" id="with_opensome_id4"><code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile.bin'</code><code class="p">,</code> <code class="s">'rb'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="n">data</code> <code class="o">=</code> <code class="n">f</code><code class="o">.</code><code class="n">read</code><code class="p">(</code><code class="mi">16</code><code class="p">)</code>
    <code class="n">text</code> <code class="o">=</code> <code class="n">data</code><code class="o">.</code><code class="n">decode</code><code class="p">(</code><code class="s">'utf-8'</code><code class="p">)</code>

<code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile.bin'</code><code class="p">,</code> <code class="s">'wb'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="n">text</code> <code class="o">=</code> <code class="s">'Hello World'</code>
    <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">text</code><code class="o">.</code><code class="n">encode</code><code class="p">(</code><code class="s">'utf-8'</code><code class="p">))</code></pre>
<p id="arrayswriting_t"><a id="id639298" class="indexterm"></a><a id="id639306" class="indexterm"></a>A lesser-known aspect of binary I/O is that objects such as arrays and C structures can
be used for writing without any kind of intermediate conversion to a <code class="literal">bytes</code> object.   For example:</p>
<pre class="programlisting" data-language="python" id="import_array_nu"><code class="kn">import</code> <code class="nn">array</code>
<code class="n">nums</code> <code class="o">=</code> <code class="n">array</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="s">'i'</code><code class="p">,</code> <code class="p">[</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">4</code><code class="p">])</code>
<code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'data.bin'</code><code class="p">,</code><code class="s">'wb'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">nums</code><code class="p">)</code></pre>
<p id="this_applies_to">This applies to any object that implements the so-called <a id="id639498" class="indexterm"></a>"buffer interface," which directly exposes
an underlying memory buffer to operations that can work with it. Writing binary data is one such
operation.</p>
<p id="many_objects_al">Many objects also allow binary data to be directly read into their underlying memory using the
<a id="id639514" class="indexterm"></a><a id="id639521" class="indexterm"></a><code class="literal">readinto()</code> method of files.   For example:</p>
<pre class="programlisting" data-language="pycon" id="import_arra_id1"><code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">array</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">a</code> <code class="o">=</code> <code class="n">array</code><code class="o">.</code><code class="n">array</code><code class="p">(</code><code class="s">'i'</code><code class="p">,</code> <code class="p">[</code><code class="mi">0</code><code class="p">,</code> <code class="mi">0</code><code class="p">,</code> <code class="mi">0</code><code class="p">,</code> <code class="mi">0</code><code class="p">,</code> <code class="mi">0</code><code class="p">,</code> <code class="mi">0</code><code class="p">,</code> <code class="mi">0</code><code class="p">,</code> <code class="mi">0</code><code class="p">])</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'data.bin'</code><code class="p">,</code> <code class="s">'rb'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
<code class="gp">... </code>    <code class="n">f</code><code class="o">.</code><code class="n">readinto</code><code class="p">(</code><code class="n">a</code><code class="p">)</code>
<code class="gp">...</code>
<code class="go">16</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">a</code>
<code class="go">array('i', [1, 2, 3, 4, 0, 0, 0, 0])</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="however_great_">However, great care should be taken when using this technique, as it is often platform
specific and may depend on such things as the word size and byte ordering (i.e., big endian versus
little endian).  See <a class="xref" href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#mutablebuffer" title="Reading Binary Data into a Mutable Buffer">“Reading Binary Data into a Mutable Buffer”</a> for another example of reading binary
data into a mutable buffer.<a id="id639807" class="indexterm"></a><a id="id639817" class="indexterm"></a><a id="id639827" class="indexterm"></a><a id="id639837" class="indexterm"></a></p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="_writing_to_a_file_that_doesn_8217_t_already_exist">
<div class="titlepage"><div><div><h2 class="title">Writing to a File That Doesn’t Already Exist</h2></div></div></div>
<div class="sect2" id="_problem_77">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="filescreating_n"><a id="ix_files_creating_new" class="indexterm"></a><a id="ix_files_x_mode_of_open_function" class="indexterm"></a><a id="ix_open_functionx_mode_of" class="indexterm"></a>You want to write data to a file, but only if it doesn’t
already exist on the filesystem.</p>
</div>
<div class="sect2" id="_solution_77">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="this_problem_is">This problem is easily solved by using the little-known <code class="literal">x</code> mode to <code class="literal">open()</code>
instead of the usual <code class="literal">w</code> mode.  For example:</p>
<pre class="programlisting" data-language="pycon" id="with_open_id2"><code class="gp">&gt;&gt;&gt; </code><code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile'</code><code class="p">,</code> <code class="s">'wt'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
<code class="gp">... </code>    <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="s">'Hello</code><code class="se">\n</code><code class="s">'</code><code class="p">)</code>
<code class="gp">...</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile'</code><code class="p">,</code> <code class="s">'xt'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
<code class="gp">... </code>    <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="s">'Hello</code><code class="se">\n</code><code class="s">'</code><code class="p">)</code>
<code class="gp">...</code>
<code class="gt">Traceback (most recent call last):</code>
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">1</code>, in <code class="n">&lt;module&gt;</code>
<code class="gr">FileExistsError: [Errno 17] File exists</code>: <code class="n">'somefile'</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="if_the_file_is_">If the file is binary mode, use mode <code class="literal">xb</code> instead of <code class="literal">xt</code>.</p>
</div>
<div class="sect2" id="_discussion_77">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="this_recipe_ill_id1">This recipe illustrates an extremely elegant solution to a problem
that sometimes arises when writing files (i.e., accidentally overwriting
an existing file).  An alternative solution is to first test
for the file like this:</p>
<pre class="programlisting" data-language="pycon" id="import_os__id4"><code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">os</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">if</code> <code class="ow">not</code> <code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">exists</code><code class="p">(</code><code class="s">'somefile'</code><code class="p">):</code>
<code class="gp">... </code>    <code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile'</code><code class="p">,</code> <code class="s">'wt'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
<code class="gp">... </code>        <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="s">'Hello</code><code class="se">\n</code><code class="s">'</code><code class="p">)</code>
<code class="gp">... </code><code class="k">else</code><code class="p">:</code>
<code class="gp">... </code>    <code class="k">print</code><code class="p">(</code><code class="s">'File already exists!'</code><code class="p">)</code>
<code class="gp">...</code>
<code class="go">File already exists!</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="clearly_using_">Clearly, using the <code class="literal">x</code> file mode is a lot more straightforward.  It is
important to note that the <code class="literal">x</code> mode is a Python 3 specific extension
to the <code class="literal">open()</code> function.  In particular, no such mode exists in
earlier Python versions or the underlying C libraries used in
Python’s implementation.<a id="id640473" class="indexterm"></a><a id="id640483" class="indexterm"></a><a id="id640494" class="indexterm"></a></p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="stringio">
<div class="titlepage"><div><div><h2 class="title">Performing I/O Operations on a String</h2></div></div></div>
<div class="sect2" id="_problem_78">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="bytesio_class"><a id="ix_BytesIO_class_io_module" class="indexterm"></a><a id="ix_I_O_operations_on_strings" class="indexterm"></a><a id="ix_io_module" class="indexterm"></a><a id="ix_StringIO_class_io_module" class="indexterm"></a><a id="ix_strings_I_O_operations_performing_on" class="indexterm"></a>You want to feed a text or binary string to code
that’s been written to operate on file-like objects instead.</p>
</div>
<div class="sect2" id="_solution_78">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="use_the_iostri">Use the <code class="literal">io.StringIO()</code> and <code class="literal">io.BytesIO()</code> classes to create
file-like objects that operate on string data.  For example:</p>
<pre class="programlisting" data-language="pycon" id="s__iostri"><code class="gp">&gt;&gt;&gt; </code><code class="n">s</code> <code class="o">=</code> <code class="n">io</code><code class="o">.</code><code class="n">StringIO</code><code class="p">()</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">s</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="s">'Hello World</code><code class="se">\n</code><code class="s">'</code><code class="p">)</code>
<code class="go">12</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="s">'This is a test'</code><code class="p">,</code> <code class="nb">file</code><code class="o">=</code><code class="n">s</code><code class="p">)</code>
<code class="go">15</code>
<code class="gp">&gt;&gt;&gt; </code><code class="c"># Get all of the data written so far</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">s</code><code class="o">.</code><code class="n">getvalue</code><code class="p">()</code>
<code class="go">'Hello World\nThis is a test\n'</code>
<code class="go">&gt;&gt;&gt;</code>

<code class="gp">&gt;&gt;&gt; </code><code class="c"># Wrap a file interface around an existing string</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">s</code> <code class="o">=</code> <code class="n">io</code><code class="o">.</code><code class="n">StringIO</code><code class="p">(</code><code class="s">'Hello</code><code class="se">\n</code><code class="s">World</code><code class="se">\n</code><code class="s">'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">s</code><code class="o">.</code><code class="n">read</code><code class="p">(</code><code class="mi">4</code><code class="p">)</code>
<code class="go">'Hell'</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">s</code><code class="o">.</code><code class="n">read</code><code class="p">()</code>
<code class="go">'o\nWorld\n'</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="the_iostringio">The <code class="literal">io.StringIO</code> class should only be used for text. If you are
operating with binary data, use the <code class="literal">io.BytesIO</code> class instead. For
example:</p>
<pre class="programlisting" data-language="pycon" id="s__iobyte"><code class="gp">&gt;&gt;&gt; </code><code class="n">s</code> <code class="o">=</code> <code class="n">io</code><code class="o">.</code><code class="n">BytesIO</code><code class="p">()</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">s</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">b</code><code class="s">'binary data'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">s</code><code class="o">.</code><code class="n">getvalue</code><code class="p">()</code>
<code class="go">b'binary data'</code>
<code class="go">&gt;&gt;&gt;</code></pre>
</div>
<div class="sect2" id="_discussion_78">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="the_stringio_an">The <code class="literal">StringIO</code> and <code class="literal">BytesIO</code> classes are most useful in scenarios
where you need to mimic a normal file for some reason.  For example,
in unit tests, you might use <code class="literal">StringIO</code> to create a file-like object
containing test data that’s fed into a function that would otherwise
work with a normal file.</p>
<p id="be_aware_that_s_id2">Be aware that <code class="literal">StringIO</code> and <code class="literal">BytesIO</code> instances don’t have a proper
integer file-descriptor.  Thus, they do not work with code that
requires the use of a real system-level file such as a file, pipe, or
socket.<a id="id641121" class="indexterm"></a><a id="id641131" class="indexterm"></a><a id="id641141" class="indexterm"></a><a id="id641151" class="indexterm"></a><a id="id641161" class="indexterm"></a></p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="_reading_and_writing_compressed_datafiles">
<div class="titlepage"><div><div><h2 class="title">Reading and Writing Compressed Datafiles</h2></div></div></div>
<div class="sect2" id="_problem_79">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="bz_modulecompr_id1"><a id="ix_bz2_module" class="indexterm"></a><a id="ix_compressed_files_reading_writing" class="indexterm"></a><a id="ix_files_compressed_reading_writing" class="indexterm"></a><a id="ix_gzip_module" class="indexterm"></a>You need to read or write data in a file with gzip or bz2 compression.</p>
</div>
<div class="sect2" id="_solution_79">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="the_gzip_and_bz">The <code class="literal">gzip</code> and <code class="literal">bz2</code> modules make it easy to work with such files.
Both modules provide an alternative implementation of <code class="literal">open()</code> that can
be used for this purpose.  For example, to read compressed files as
text, do this:</p>
<pre class="programlisting" data-language="python" id="gzip_compress_id1"><code class="c"># gzip compression</code>
<code class="kn">import</code> <code class="nn">gzip</code>
<code class="k">with</code> <code class="n">gzip</code><code class="o">.</code><code class="n">open</code><code class="p">(</code><code class="s">'somefile.gz'</code><code class="p">,</code> <code class="s">'rt'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="n">text</code> <code class="o">=</code> <code class="n">f</code><code class="o">.</code><code class="n">read</code><code class="p">()</code>

<code class="c"># bz2 compression</code>
<code class="kn">import</code> <code class="nn">bz2</code>
<code class="k">with</code> <code class="n">bz2</code><code class="o">.</code><code class="n">open</code><code class="p">(</code><code class="s">'somefile.bz2'</code><code class="p">,</code> <code class="s">'rt'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="n">text</code> <code class="o">=</code> <code class="n">f</code><code class="o">.</code><code class="n">read</code><code class="p">()</code></pre>
<p id="similarly_to_w_id2">Similarly, to write compressed data, do this:</p>
<pre class="programlisting" data-language="python" id="gzip_compress_id2"><code class="c"># gzip compression</code>
<code class="kn">import</code> <code class="nn">gzip</code>
<code class="k">with</code> <code class="n">gzip</code><code class="o">.</code><code class="n">open</code><code class="p">(</code><code class="s">'somefile.gz'</code><code class="p">,</code> <code class="s">'wt'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">text</code><code class="p">)</code>

<code class="c"># bz2 compression</code>
<code class="kn">import</code> <code class="nn">bz2</code>
<code class="k">with</code> <code class="n">bz2</code><code class="o">.</code><code class="n">open</code><code class="p">(</code><code class="s">'somefile.bz2'</code><code class="p">,</code> <code class="s">'wt'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">text</code><code class="p">)</code></pre>
<p id="as_shown_all_i">As shown, all I/O will use text and perform Unicode encoding/decoding.  If you want to
work with binary data instead, use a file mode of <code class="literal">rb</code> or <code class="literal">wb</code>.</p>
</div>
<div class="sect2" id="_discussion_79">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="for_the_most_pa_id3">For the most part, reading or writing compressed data is straightforward.  However, be
aware that choosing the correct file mode is critically important.
If you don’t specify a mode, the default mode is binary, which will break
programs that expect to receive text.   Both <code class="literal">gzip.open()</code> and <code class="literal">bz2.open()</code>
accept the same parameters as the built-in <code class="literal">open()</code> function, including
<code class="literal">encoding</code>, <code class="literal">errors</code>, <code class="literal">newline</code>, and so forth.</p>
<p id="bz_modulecompr_id2"><a id="id641782" class="indexterm"></a><a id="id641789" class="indexterm"></a><a id="id641798" class="indexterm"></a>When writing compressed data, the compression level can be optionally specified
using the <code class="literal">compresslevel</code> keyword argument. For example:</p>
<pre class="programlisting" data-language="python" id="with_gzipopen"><code class="k">with</code> <code class="n">gzip</code><code class="o">.</code><code class="n">open</code><code class="p">(</code><code class="s">'somefile.gz'</code><code class="p">,</code> <code class="s">'wt'</code><code class="p">,</code> <code class="n">compresslevel</code><code class="o">=</code><code class="mi">5</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
     <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">text</code><code class="p">)</code></pre>
<p id="the_default_lev">The default level is 9, which provides the highest level of compression.  Lower
levels offer better performance, but not as much compression.</p>
<p id="finally_a_litt">Finally, a little-known feature of <code class="literal">gzip.open()</code> and <code class="literal">bz2.open()</code> is that
they can be layered on top of an existing file opened in binary mode.
For example, this works:</p>
<pre class="programlisting" data-language="python" id="import_gzip_f_"><code class="kn">import</code> <code class="nn">gzip</code>

<code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile.gz'</code><code class="p">,</code> <code class="s">'rb'</code><code class="p">)</code>
<code class="k">with</code> <code class="n">gzip</code><code class="o">.</code><code class="n">open</code><code class="p">(</code><code class="n">f</code><code class="p">,</code> <code class="s">'rt'</code><code class="p">)</code> <code class="k">as</code> <code class="n">g</code><code class="p">:</code>
     <code class="n">text</code> <code class="o">=</code> <code class="n">g</code><code class="o">.</code><code class="n">read</code><code class="p">()</code></pre>
<p id="this_allows_the_id2">This allows the <code class="literal">gzip</code> and <code class="literal">bz2</code> modules to work with various
file-like objects such as sockets, pipes, and in-memory files.<a id="id642109" class="indexterm"></a><a id="id642119" class="indexterm"></a><a id="id642129" class="indexterm"></a><a id="id642139" class="indexterm"></a></p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="iterrecords">
<div class="titlepage"><div><div><h2 class="title">Iterating Over Fixed-Sized Records</h2></div></div></div>
<div class="sect2" id="_problem_80">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="filesiterating_"><a id="id642176" class="indexterm"></a><a id="id642184" class="indexterm"></a><a id="id642192" class="indexterm"></a><a id="id642200" class="indexterm"></a>Instead of iterating over a file by lines, you want to iterate over
a collection of fixed-sized records or chunks.</p>
</div>
<div class="sect2" id="_solution_80">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="use_the_iter_">Use the <code class="literal">iter()</code> function and <code class="literal">functools.partial()</code> using this neat trick:</p>
<pre class="programlisting" data-language="python" id="from_functools__id1"><code class="kn">from</code> <code class="nn">functools</code> <code class="kn">import</code> <code class="n">partial</code>

<code class="n">RECORD_SIZE</code> <code class="o">=</code> <code class="mi">32</code>

<code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile.data'</code><code class="p">,</code> <code class="s">'rb'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="n">records</code> <code class="o">=</code> <code class="nb">iter</code><code class="p">(</code><code class="n">partial</code><code class="p">(</code><code class="n">f</code><code class="o">.</code><code class="n">read</code><code class="p">,</code> <code class="n">RECORD_SIZE</code><code class="p">),</code> <code class="n">b</code><code class="s">''</code><code class="p">)</code>
    <code class="k">for</code> <code class="n">r</code> <code class="ow">in</code> <code class="n">records</code><code class="p">:</code>
        <code class="o">...</code></pre>
<p id="the_records_obj">The <code class="literal">records</code> object in this example is an iterable that will
produce fixed-sized chunks until the end of the file is reached.
However, be aware that the last item may have fewer bytes than
expected if the file size is not an exact multiple of the record
size.</p>
</div>
<div class="sect2" id="_discussion_80">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="a_littleknown__id3">A little-known feature of the <code class="literal">iter()</code> function is that it can
create an iterator if you pass it a callable and a sentinel value.
The resulting iterator simply calls the supplied callable
over and over again until it returns the sentinel, at which point
iteration stops.</p>
<p id="in_the_solution_id1">In the solution, the <code class="literal">functools.partial</code> is used to create a
callable that reads a fixed number of bytes from a file each
time it’s called.  The sentinel of <code class="literal">b''</code> is what gets returned
when a file is read but the end of file has been reached.</p>
<p id="last_but_not_l_id9">Last, but not least, the solution shows the file being opened in
binary mode. For reading fixed-sized records, this would probably be
the most common case.  For text files, reading line by line (the default
iteration behavior) is more common.</p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="mutablebuffer">
<div class="titlepage"><div><div><h2 class="title">Reading Binary Data into a Mutable Buffer</h2></div></div></div>
<div class="sect2" id="_problem_81">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="binary_dataread_id2"><a id="ix_binary_data_reading_into_mutable_buffers" class="indexterm"></a><a id="ix_files_mutable_buffers_reading_into" class="indexterm"></a><a id="ix_mutable_buffers_reading_into" class="indexterm"></a><a id="ix_readinto_method_files_reading_into_mutable_buffers_with" class="indexterm"></a>You want to read binary data directly into a mutable buffer
without any intermediate copying.  Perhaps you want to
mutate the data in-place and write it back out to a file.</p>
</div>
<div class="sect2" id="_solution_81">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="to_read_data_in">To read data into a mutable array, use the <code class="literal">readinto()</code> method of files.
For example:</p>
<pre class="programlisting" data-language="python" id="import_ospath__id1"><code class="kn">import</code> <code class="nn">os.path</code>

<code class="k">def</code> <code class="nf">read_into_buffer</code><code class="p">(</code><code class="n">filename</code><code class="p">):</code>
    <code class="n">buf</code> <code class="o">=</code> <code class="nb">bytearray</code><code class="p">(</code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">getsize</code><code class="p">(</code><code class="n">filename</code><code class="p">))</code>
    <code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="n">filename</code><code class="p">,</code> <code class="s">'rb'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
         <code class="n">f</code><code class="o">.</code><code class="n">readinto</code><code class="p">(</code><code class="n">buf</code><code class="p">)</code>
    <code class="k">return</code> <code class="n">buf</code></pre>
<p id="here_is_an_exam_id8">Here is an example that illustrates the usage:</p>
<pre class="programlisting" data-language="pycon" id="_write_a_s"><code class="gp">&gt;&gt;&gt; </code><code class="c"># Write a sample file</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'sample.bin'</code><code class="p">,</code> <code class="s">'wb'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
<code class="gp">... </code>     <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">b</code><code class="s">'Hello World'</code><code class="p">)</code>
<code class="gp">...</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">buf</code> <code class="o">=</code> <code class="n">read_into_buffer</code><code class="p">(</code><code class="s">'sample.bin'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">buf</code>
<code class="go">bytearray(b'Hello World')</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">buf</code><code class="p">[</code><code class="mi">0</code><code class="p">:</code><code class="mi">5</code><code class="p">]</code> <code class="o">=</code> <code class="n">b</code><code class="s">'Hallo'</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">buf</code>
<code class="go">bytearray(b'Hallo World')</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'newsample.bin'</code><code class="p">,</code> <code class="s">'wb'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
<code class="gp">... </code>    <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">buf</code><code class="p">)</code>
<code class="gp">...</code>
<code class="go">11</code>
<code class="go">&gt;&gt;&gt;</code></pre>
</div>
<div class="sect2" id="_discussion_81">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="arraysreadinto"><a id="id643115" class="indexterm"></a>The <code class="literal">readinto()</code> method of files can be used to fill any preallocated
array with data.  This even includes arrays created from the <code class="literal">array</code> module
or libraries such as <code class="literal">numpy</code>.   Unlike the normal <code class="literal">read()</code> method, <code class="literal">readinto()</code>
fills the contents of an existing buffer rather than allocating new objects
and returning them.  Thus, you might be able to use it to avoid making
extra memory allocations.  For example, if you are reading a binary
file consisting of equally sized records, you can write code like this:</p>
<pre class="programlisting" data-language="python" id="record_size__"><code class="n">record_size</code> <code class="o">=</code> <code class="mi">32</code>           <code class="c"># Size of each record (adjust value)</code>

<code class="n">buf</code> <code class="o">=</code> <code class="nb">bytearray</code><code class="p">(</code><code class="n">record_size</code><code class="p">)</code>
<code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile'</code><code class="p">,</code> <code class="s">'rb'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="k">while</code> <code class="bp">True</code><code class="p">:</code>
        <code class="n">n</code> <code class="o">=</code> <code class="n">f</code><code class="o">.</code><code class="n">readinto</code><code class="p">(</code><code class="n">buf</code><code class="p">)</code>
        <code class="k">if</code> <code class="n">n</code> <code class="o">&lt;</code> <code class="n">record_size</code><code class="p">:</code>
            <code class="k">break</code>
        <code class="c"># Use the contents of buf</code>
        <code class="o">...</code></pre>
<p id="another_interes">Another interesting feature to use here might be a <a id="id643363" class="indexterm"></a>memoryview, which lets you
make zero-copy slices of an existing buffer and even change its contents. For example:</p>
<pre class="programlisting" data-language="python" id="buf_bytearr"><code class="o">&gt;&gt;&gt;</code> <code class="n">buf</code>
<code class="nb">bytearray</code><code class="p">(</code><code class="n">b</code><code class="s">'Hello World'</code><code class="p">)</code>
<code class="o">&gt;&gt;&gt;</code> <code class="n">m1</code> <code class="o">=</code> <code class="n">memoryview</code><code class="p">(</code><code class="n">buf</code><code class="p">)</code>
<code class="o">&gt;&gt;&gt;</code> <code class="n">m2</code> <code class="o">=</code> <code class="n">m1</code><code class="p">[</code><code class="o">-</code><code class="mi">5</code><code class="p">:]</code>
<code class="o">&gt;&gt;&gt;</code> <code class="n">m2</code>
<code class="o">&lt;</code><code class="n">memory</code> <code class="n">at</code> <code class="mh">0x100681390</code><code class="o">&gt;</code>
<code class="o">&gt;&gt;&gt;</code> <code class="n">m2</code><code class="p">[:]</code> <code class="o">=</code> <code class="n">b</code><code class="s">'WORLD'</code>
<code class="o">&gt;&gt;&gt;</code> <code class="n">buf</code>
<code class="nb">bytearray</code><code class="p">(</code><code class="n">b</code><code class="s">'Hello WORLD'</code><code class="p">)</code>
<code class="o">&gt;&gt;&gt;</code></pre>
<p id="one_caution_wit_id1">One caution with using <code class="literal">f.readinto()</code> is that you must always make sure to check its
return code, which is the number of bytes actually read.</p>
<p id="if_the_number_o">If the number of bytes
is smaller than the size of the supplied buffer, it might indicate truncated or
corrupted data (e.g., if you were expecting an exact number of bytes to be read).</p>
<p id="finally_be_on_">Finally, be on the lookout for other "into" related functions in
various library modules (e.g., <a id="id643615" class="indexterm"></a><a id="id643621" class="indexterm"></a><code class="literal">recv_into()</code>, <code class="literal">pack_into()</code>, etc.).
Many other parts of Python have support for direct I/O or data access
that can be used to fill or alter the contents of arrays and buffers.</p>
<p id="see_for_a_signi">See <a class="xref" href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html#nestedbinaryrecords" title="Reading Nested and Variable-Sized Binary Structures">“Reading Nested and Variable-Sized Binary Structures”</a> for a significantly more advanced example of interpreting
binary structures and usage of memoryviews.<a id="id643653" class="indexterm"></a><a id="id643663" class="indexterm"></a><a id="id643673" class="indexterm"></a><a id="id643683" class="indexterm"></a></p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="_memory_mapping_binary_files">
<div class="titlepage"><div><div><h2 class="title">Memory Mapping Binary Files</h2></div></div></div>
<div class="sect2" id="_problem_82">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="binary_datamemo"><a id="ix_binary_data_memory_mapping" class="indexterm"></a><a id="ix_files_memory_mapping" class="indexterm"></a><a id="ix_memory_mapping" class="indexterm"></a><a id="ix_memory_mapping2" class="indexterm"></a><a id="ix_mmap_module" class="indexterm"></a>You want to memory map a binary file into a mutable byte array,
possibly for random access to its contents or to make in-place
modifications.</p>
</div>
<div class="sect2" id="_solution_82">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="use_the_mmap_mo">Use the <code class="literal">mmap</code> module to memory map files.  Here is a utility function
that shows how to open a file and memory map it in a portable manner:</p>
<pre class="programlisting" data-language="python" id="import_os_impor_id2"><code class="kn">import</code> <code class="nn">os</code>
<code class="kn">import</code> <code class="nn">mmap</code>

<code class="k">def</code> <code class="nf">memory_map</code><code class="p">(</code><code class="n">filename</code><code class="p">,</code> <code class="n">access</code><code class="o">=</code><code class="n">mmap</code><code class="o">.</code><code class="n">ACCESS_WRITE</code><code class="p">):</code>
    <code class="n">size</code> <code class="o">=</code> <code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">getsize</code><code class="p">(</code><code class="n">filename</code><code class="p">)</code>
    <code class="n">fd</code> <code class="o">=</code> <code class="n">os</code><code class="o">.</code><code class="n">open</code><code class="p">(</code><code class="n">filename</code><code class="p">,</code> <code class="n">os</code><code class="o">.</code><code class="n">O_RDWR</code><code class="p">)</code>
    <code class="k">return</code> <code class="n">mmap</code><code class="o">.</code><code class="n">mmap</code><code class="p">(</code><code class="n">fd</code><code class="p">,</code> <code class="n">size</code><code class="p">,</code> <code class="n">access</code><code class="o">=</code><code class="n">access</code><code class="p">)</code></pre>
<p id="to_use_this_fun_id1">To use this function, you would need to have a file already
created and filled with data.   Here is an example of how you
could initially create a file and expand it to a desired size:</p>
<pre class="programlisting" data-language="pycon" id="size__"><code class="gp">&gt;&gt;&gt; </code><code class="n">size</code> <code class="o">=</code> <code class="mi">1000000</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'data'</code><code class="p">,</code> <code class="s">'wb'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
<code class="gp">... </code>     <code class="n">f</code><code class="o">.</code><code class="n">seek</code><code class="p">(</code><code class="n">size</code><code class="o">-</code><code class="mi">1</code><code class="p">)</code>
<code class="gp">... </code>     <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">b</code><code class="s">'</code><code class="se">\x00</code><code class="s">'</code><code class="p">)</code>
<code class="gp">...</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="now_here_is_an_">Now here is an example of memory mapping the contents using
the <a id="id644238" class="indexterm"></a><code class="literal">memory_map()</code> function:</p>
<pre class="programlisting" data-language="pycon" id="m__memory__id1"><code class="gp">&gt;&gt;&gt; </code><code class="n">m</code> <code class="o">=</code> <code class="n">memory_map</code><code class="p">(</code><code class="s">'data'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="nb">len</code><code class="p">(</code><code class="n">m</code><code class="p">)</code>
<code class="go">1000000</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">m</code><code class="p">[</code><code class="mi">0</code><code class="p">:</code><code class="mi">10</code><code class="p">]</code>
<code class="go">b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00'</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">m</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code>
<code class="go">0</code>
<code class="gp">&gt;&gt;&gt; </code><code class="c"># Reassign a slice</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">m</code><code class="p">[</code><code class="mi">0</code><code class="p">:</code><code class="mi">11</code><code class="p">]</code> <code class="o">=</code> <code class="n">b</code><code class="s">'Hello World'</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">m</code><code class="o">.</code><code class="n">close</code><code class="p">()</code>

<code class="gp">&gt;&gt;&gt; </code><code class="c"># Verify that changes were made</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'data'</code><code class="p">,</code> <code class="s">'rb'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
<code class="gp">... </code>     <code class="k">print</code><code class="p">(</code><code class="n">f</code><code class="o">.</code><code class="n">read</code><code class="p">(</code><code class="mi">11</code><code class="p">))</code>
<code class="gp">...</code>
<code class="go">b'Hello World'</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="the_mmap_object">The <code class="literal">mmap</code> object returned by <code class="literal">mmap()</code> can also be used as a context manager, in
which case the underlying file is closed automatically.  For example:</p>
<pre class="programlisting" data-language="pycon" id="with_memory"><code class="gp">&gt;&gt;&gt; </code><code class="k">with</code> <code class="n">memory_map</code><code class="p">(</code><code class="s">'data'</code><code class="p">)</code> <code class="k">as</code> <code class="n">m</code><code class="p">:</code>
<code class="gp">... </code>     <code class="k">print</code><code class="p">(</code><code class="nb">len</code><code class="p">(</code><code class="n">m</code><code class="p">))</code>
<code class="gp">... </code>     <code class="k">print</code><code class="p">(</code><code class="n">m</code><code class="p">[</code><code class="mi">0</code><code class="p">:</code><code class="mi">10</code><code class="p">])</code>
<code class="gp">...</code>
<code class="go">1000000</code>
<code class="go">b'Hello World'</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">m</code><code class="o">.</code><code class="n">closed</code>
<code class="go">True</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="by_default_the_id2">By default, the <code class="literal">memory_map()</code> function shown opens a file for both reading
and writing.  Any modifications made to the data are copied back to the
original file.   If read-only access is needed instead, supply <code class="literal">mmap.ACCESS_READ</code>
for the <code class="literal">access</code> argument.  For <span class="keep-together">example</span>:</p>
<pre class="programlisting" data-language="python" id="m__memory_map_id1"><code class="n">m</code> <code class="o">=</code> <code class="n">memory_map</code><code class="p">(</code><code class="n">filename</code><code class="p">,</code> <code class="n">mmap</code><code class="o">.</code><code class="n">ACCESS_READ</code><code class="p">)</code></pre>
<p id="if_you_intend_t_id1">If you intend to modify the data locally, but don’t want those changes
written back to the original file, use <a id="id644858" class="indexterm"></a><code class="literal">mmap.ACCESS_COPY</code>:</p>
<pre class="programlisting" data-language="python" id="m__memory_map_id2"><code class="n">m</code> <code class="o">=</code> <code class="n">memory_map</code><code class="p">(</code><code class="n">filename</code><code class="p">,</code> <code class="n">mmap</code><code class="o">.</code><code class="n">ACCESS_COPY</code><code class="p">)</code></pre>
</div>
<div class="sect2" id="_discussion_82">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="using_mmap_to_m">Using <code class="literal">mmap</code> to map files into memory can be an efficient and
elegant means for randomly accessing the contents of a file.  For
example, instead of opening a file and performing various combinations
of <code class="literal">seek()</code>, <code class="literal">read()</code>, and <code class="literal">write()</code> calls, you can simply map the file
and access the data using slicing operations.</p>
<p id="normally_the_m">Normally, the memory exposed by <code class="literal">mmap()</code> looks like a <code class="literal">bytearray</code> object.
However, you can interpret the data differently using a memoryview.  For
example:</p>
<pre class="programlisting" data-language="pycon" id="m__memory__id2"><code class="gp">&gt;&gt;&gt; </code><code class="n">m</code> <code class="o">=</code> <code class="n">memory_map</code><code class="p">(</code><code class="s">'data'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="c"># Memoryview of unsigned integers</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">v</code> <code class="o">=</code> <code class="n">memoryview</code><code class="p">(</code><code class="n">m</code><code class="p">)</code><code class="o">.</code><code class="n">cast</code><code class="p">(</code><code class="s">'I'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">v</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code> <code class="o">=</code> <code class="mi">7</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">m</code><code class="p">[</code><code class="mi">0</code><code class="p">:</code><code class="mi">4</code><code class="p">]</code>
<code class="go">b'\x07\x00\x00\x00'</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">m</code><code class="p">[</code><code class="mi">0</code><code class="p">:</code><code class="mi">4</code><code class="p">]</code> <code class="o">=</code> <code class="n">b</code><code class="s">'</code><code class="se">\x07\x01\x00\x00</code><code class="s">'</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">v</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code>
<code class="go">263</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="it_should_be_em">It should be emphasized that memory mapping a file does not cause the
entire file to be read into memory.  That is, it’s not copied into
some kind of memory buffer or array.  Instead, the operating system
merely reserves a section of virtual memory for the file contents.  As
you access different regions, those portions of the file will be read
and mapped into the memory region as needed.  However, parts of the
file that are never accessed simply stay on disk.  This all happens
transparently, behind the scenes.</p>
<p id="transmitting_da"><a id="id645259" class="indexterm"></a>If more than one Python interpreter memory maps the same file, the resulting
<code class="literal">mmap</code> object can be used to exchange data between interpreters.  That is,
all interpreters can read/write data simultaneously, and changes made to
the data in one interpreter will automatically appear in the others.
Obviously, some extra care is required to synchronize things, but this
kind of approach is sometimes used as an alternative to transmitting data
in messages over pipes or sockets.</p>
<p id="as_shown_this__id1">As shown, this recipe has been written to be as general purpose as
possible, working on both Unix and Windows.  Be aware that there are
some platform differences concerning the use of the <code class="literal">mmap()</code> call
hidden behind the scenes.  In addition, there are options to create
anonymously mapped memory regions.  If this is of interest to you,
make sure you carefully read the Python documentation
<a class="ulink" href="http://docs.python.org/3/library/mmap.html" target="_top">on the subject</a>. <a id="id645296" class="indexterm"></a><a id="id645306" class="indexterm"></a><a id="id645315" class="indexterm"></a><a id="id645324" class="indexterm"></a><a id="id645334" class="indexterm"></a></p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="pathnames">
<div class="titlepage"><div><div><h2 class="title">Manipulating Pathnames</h2></div></div></div>
<div class="sect2" id="_problem_83">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="filesmanipulati"><a id="ix_files_manipulating_pathnames" class="indexterm"></a><a id="ix_files_path_module_os" class="indexterm"></a><a id="ix_manipulating_pathnames" class="indexterm"></a><a id="ix_os_module_path_module_in" class="indexterm"></a><a id="ix_path_module_os" class="indexterm"></a><a id="ix_pathnames_manipulating" class="indexterm"></a>You need to manipulate pathnames in order to find the base filename,
directory name, absolute path, and so on.</p>
</div>
<div class="sect2" id="_solution_83">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="to_manipulate_p">To manipulate pathnames, use the functions in the <code class="literal">os.path</code> module.
Here is an interactive example that illustrates a few key features:</p>
<pre class="programlisting" data-language="pycon" id="import_os__id5"><code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">os</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">path</code> <code class="o">=</code> <code class="s">'/Users/beazley/Data/data.csv'</code>

<code class="gp">&gt;&gt;&gt; </code><code class="c"># Get the last component of the path</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">basename</code><code class="p">(</code><code class="n">path</code><code class="p">)</code>
<code class="go">'data.csv'</code>

<code class="gp">&gt;&gt;&gt; </code><code class="c"># Get the directory name</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">dirname</code><code class="p">(</code><code class="n">path</code><code class="p">)</code>
<code class="go">'/Users/beazley/Data'</code>

<code class="gp">&gt;&gt;&gt; </code><code class="c"># Join path components together</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">join</code><code class="p">(</code><code class="s">'tmp'</code><code class="p">,</code> <code class="s">'data'</code><code class="p">,</code> <code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">basename</code><code class="p">(</code><code class="n">path</code><code class="p">))</code>
<code class="go">'tmp/data/data.csv'</code>

<code class="gp">&gt;&gt;&gt; </code><code class="c"># Expand the user's home directory</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">path</code> <code class="o">=</code> <code class="s">'~/Data/data.csv'</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">expanduser</code><code class="p">(</code><code class="n">path</code><code class="p">)</code>
<code class="go">'/Users/beazley/Data/data.csv'</code>

<code class="gp">&gt;&gt;&gt; </code><code class="c"># Split the file extension</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">splitext</code><code class="p">(</code><code class="n">path</code><code class="p">)</code>
<code class="go">('~/Data/data', '.csv')</code>
<code class="go">&gt;&gt;&gt;</code></pre>
</div>
<div class="sect2" id="_discussion_83">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="for_any_manipul">For any manipulation of filenames, you should use the <code class="literal">os.path</code> module
instead of trying to cook up your own code using the standard string
operations.  In part, this is for portability. The <code class="literal">os.path</code> module
knows about differences between Unix and Windows and can reliably
deal with filenames such as <span class="emphasis"><em>Data/data.csv</em></span> and <span class="emphasis"><em>Data\data.csv</em></span>.
Second, you really shouldn’t spend your time reinventing the wheel.
It’s usually best to use the functionality that’s already provided for you.</p>
<p id="it_should_be_no_id2">It should be noted that the <code class="literal">os.path</code> module has many more features not
shown in this recipe. Consult the documentation for more functions
related to file testing, symbolic links, and so forth.<a id="id645909" class="indexterm"></a><a id="id645919" class="indexterm"></a><a id="id645928" class="indexterm"></a><a id="id645939" class="indexterm"></a><a id="id645949" class="indexterm"></a><a id="id645958" class="indexterm"></a></p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="_testing_for_the_existence_of_a_file">
<div class="titlepage"><div><div><h2 class="title">Testing for the Existence of a File</h2></div></div></div>
<div class="sect2" id="_problem_84">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="filestesting_fo"><a id="ix_files_testing_for_existence_of" class="indexterm"></a><a id="ix_path_module_os_testing_for_existing_files_with" class="indexterm"></a>You need to test whether or not a file or directory exists.</p>
</div>
<div class="sect2" id="_solution_84">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="use_the_ospath">Use the <code class="literal">os.path</code> module to test for the existence of a file or
directory. For example:</p>
<pre class="programlisting" data-language="pycon" id="import_os__id6"><code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">os</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">exists</code><code class="p">(</code><code class="s">'/etc/passwd'</code><code class="p">)</code>
<code class="go">True</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">exists</code><code class="p">(</code><code class="s">'/tmp/spam'</code><code class="p">)</code>
<code class="go">False</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="you_can_perform">You can perform further tests to see what kind of file it might be.  These tests return <code class="literal">False</code> if the file in question doesn’t
exist:</p>
<pre class="programlisting" data-language="pycon" id="_is_a_regu"><code class="gp">&gt;&gt;&gt; </code><code class="c"># Is a regular file</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">isfile</code><code class="p">(</code><code class="s">'/etc/passwd'</code><code class="p">)</code>
<code class="go">True</code>

<code class="gp">&gt;&gt;&gt; </code><code class="c"># Is a directory</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">isdir</code><code class="p">(</code><code class="s">'/etc/passwd'</code><code class="p">)</code>
<code class="go">False</code>

<code class="gp">&gt;&gt;&gt; </code><code class="c"># Is a symbolic link</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">islink</code><code class="p">(</code><code class="s">'/usr/local/bin/python3'</code><code class="p">)</code>
<code class="go">True</code>

<code class="gp">&gt;&gt;&gt; </code><code class="c"># Get the file linked to</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">realpath</code><code class="p">(</code><code class="s">'/usr/local/bin/python3'</code><code class="p">)</code>
<code class="go">'/usr/local/bin/python3.3'</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="if_you_need_to__id7">If you need to get metadata (e.g., the file size or modification
date), that is also available in the <code class="literal">os.path</code> module.</p>
<pre class="programlisting" data-language="pycon" id="ospathget_id1"><code class="gp">&gt;&gt;&gt; </code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">getsize</code><code class="p">(</code><code class="s">'/etc/passwd'</code><code class="p">)</code>
<code class="go">3669</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">getmtime</code><code class="p">(</code><code class="s">'/etc/passwd'</code><code class="p">)</code>
<code class="go">1272478234.0</code>
<code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">time</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">time</code><code class="o">.</code><code class="n">ctime</code><code class="p">(</code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">getmtime</code><code class="p">(</code><code class="s">'/etc/passwd'</code><code class="p">))</code>
<code class="go">'Wed Apr 28 13:10:34 2010'</code>
<code class="go">&gt;&gt;&gt;</code></pre>
</div>
<div class="sect2" id="_discussion_84">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="file_testing_is">File testing is a straightforward operation using <code class="literal">os.path</code>.
Probably the only thing to be aware of when writing scripts is that
you might need to worry about permissions—especially for
operations that get metadata.  For example<a id="id646628" class="indexterm"></a><a id="id646639" class="indexterm"></a>:</p>
<pre class="programlisting" data-language="pycon" id="ospathget_id2"><code class="gp">&gt;&gt;&gt; </code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">getsize</code><code class="p">(</code><code class="s">'/Users/guido/Desktop/foo.txt'</code><code class="p">)</code>
<code class="gt">Traceback (most recent call last):</code>
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">1</code>, in <code class="n">&lt;module&gt;</code>
  File <code class="nb">"/usr/local/lib/python3.3/genericpath.py"</code>, line <code class="m">49</code>, in <code class="n">getsize</code>
    <code class="k">return</code> <code class="n">os</code><code class="o">.</code><code class="n">stat</code><code class="p">(</code><code class="n">filename</code><code class="p">)</code><code class="o">.</code><code class="n">st_size</code>
<code class="gr">PermissionError: [Errno 13] Permission denied</code>: <code class="n">'/Users/guido/Desktop/foo.txt'</code>
<code class="go">&gt;&gt;&gt;</code></pre>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="dirlisting">
<div class="titlepage"><div><div><h2 class="title">Getting a Directory Listing</h2></div></div></div>
<div class="sect2" id="_problem_85">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="directory_listi"><a id="ix_directory_listings" class="indexterm"></a><a id="ix_files_directory_listings_getting" class="indexterm"></a><a id="ix_listdir_function_os_module" class="indexterm"></a><a id="ix_os_module_listdir_function" class="indexterm"></a>You want to get a list of the files contained in a directory on the filesystem.</p>
</div>
<div class="sect2" id="_solution_85">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="use_the_oslist">Use the <code class="literal">os.listdir()</code> function to obtain a list of files in a directory:</p>
<pre class="programlisting" data-language="python" id="import_os_names"><code class="kn">import</code> <code class="nn">os</code>
<code class="n">names</code> <code class="o">=</code> <code class="n">os</code><code class="o">.</code><code class="n">listdir</code><code class="p">(</code><code class="s">'somedir'</code><code class="p">)</code></pre>
<p id="this_will_give_">This will give you the raw directory listing, including all files, subdirectories,
symbolic links, and so forth.   If you need to filter the data in some way, consider
using a list comprehension combined with various functions in the <code class="literal">os.path</code> library.
For example:</p>
<pre class="programlisting" data-language="python" id="import_ospath__id2"><code class="kn">import</code> <code class="nn">os.path</code>
<code class="c"># Get all regular files</code>
<code class="n">names</code> <code class="o">=</code> <code class="p">[</code><code class="n">name</code> <code class="k">for</code> <code class="n">name</code> <code class="ow">in</code> <code class="n">os</code><code class="o">.</code><code class="n">listdir</code><code class="p">(</code><code class="s">'somedir'</code><code class="p">)</code>
         <code class="k">if</code> <code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">isfile</code><code class="p">(</code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">join</code><code class="p">(</code><code class="s">'somedir'</code><code class="p">,</code> <code class="n">name</code><code class="p">))]</code>

<code class="c"># Get all dirs</code>
<code class="n">dirnames</code> <code class="o">=</code> <code class="p">[</code><code class="n">name</code> <code class="k">for</code> <code class="n">name</code> <code class="ow">in</code> <code class="n">os</code><code class="o">.</code><code class="n">listdir</code><code class="p">(</code><code class="s">'somedir'</code><code class="p">)</code>
            <code class="k">if</code> <code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">isdir</code><code class="p">(</code><code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">join</code><code class="p">(</code><code class="s">'somedir'</code><code class="p">,</code> <code class="n">name</code><code class="p">))]</code></pre>
<p id="the_startswith_id2">The <code class="literal">startswith()</code> and <code class="literal">endswith()</code> methods of strings can be useful
for filtering the contents of a directory as well.  For example:</p>
<pre class="programlisting" data-language="python" id="pyfiles__name"><code class="n">pyfiles</code> <code class="o">=</code> <code class="p">[</code><code class="n">name</code> <code class="k">for</code> <code class="n">name</code> <code class="ow">in</code> <code class="n">os</code><code class="o">.</code><code class="n">listdir</code><code class="p">(</code><code class="s">'somedir'</code><code class="p">)</code>
           <code class="k">if</code> <code class="n">name</code><code class="o">.</code><code class="n">endswith</code><code class="p">(</code><code class="s">'.py'</code><code class="p">)]</code></pre>
<p id="for_filename_ma">For filename matching, you may want to use the <code class="literal">glob</code> or <code class="literal">fnmatch</code> modules instead.
For example:</p>
<pre class="programlisting" data-language="python" id="import_glob_pyf"><code class="kn">import</code> <code class="nn">glob</code>
<code class="n">pyfiles</code> <code class="o">=</code> <code class="n">glob</code><code class="o">.</code><code class="n">glob</code><code class="p">(</code><code class="s">'somedir/*.py'</code><code class="p">)</code>

<code class="kn">from</code> <code class="nn">fnmatch</code> <code class="kn">import</code> <code class="n">fnmatch</code>
<code class="n">pyfiles</code> <code class="o">=</code> <code class="p">[</code><code class="n">name</code> <code class="k">for</code> <code class="n">name</code> <code class="ow">in</code> <code class="n">os</code><code class="o">.</code><code class="n">listdir</code><code class="p">(</code><code class="s">'somedir'</code><code class="p">)</code>
           <code class="k">if</code> <code class="n">fnmatch</code><code class="p">(</code><code class="n">name</code><code class="p">,</code> <code class="s">'*.py'</code><code class="p">)]</code></pre>
</div>
<div class="sect2" id="_discussion_85">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="getting_a_direc">Getting a directory listing is easy, but it only gives you the names of
entries in the directory.  If you want to get additional metadata, such as
file sizes, modification dates, and so forth, you either need to use
additional functions in the <code class="literal">os.path</code> module or use the <code class="literal">os.stat()</code> function.
To collect the data.  For example:</p>
<pre class="programlisting" data-language="python" id="example_of_ge"><code class="c"># Example of getting a directory listing</code>

<code class="kn">import</code> <code class="nn">os</code>
<code class="kn">import</code> <code class="nn">os.path</code>
<code class="kn">import</code> <code class="nn">glob</code>

<code class="n">pyfiles</code> <code class="o">=</code> <code class="n">glob</code><code class="o">.</code><code class="n">glob</code><code class="p">(</code><code class="s">'*.py'</code><code class="p">)</code>

<code class="c"># Get file sizes and modification dates</code>
<code class="n">name_sz_date</code> <code class="o">=</code> <code class="p">[(</code><code class="n">name</code><code class="p">,</code> <code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">getsize</code><code class="p">(</code><code class="n">name</code><code class="p">),</code> <code class="n">os</code><code class="o">.</code><code class="n">path</code><code class="o">.</code><code class="n">getmtime</code><code class="p">(</code><code class="n">name</code><code class="p">))</code>
                <code class="k">for</code> <code class="n">name</code> <code class="ow">in</code> <code class="n">pyfiles</code><code class="p">]</code>

<code class="k">for</code> <code class="n">name</code><code class="p">,</code> <code class="n">size</code><code class="p">,</code> <code class="n">mtime</code> <code class="ow">in</code> <code class="n">name_sz_date</code><code class="p">:</code>
    <code class="k">print</code><code class="p">(</code><code class="n">name</code><code class="p">,</code> <code class="n">size</code><code class="p">,</code> <code class="n">mtime</code><code class="p">)</code>

<code class="c"># Alternative: Get file metadata</code>
<code class="n">file_metadata</code> <code class="o">=</code> <code class="p">[(</code><code class="n">name</code><code class="p">,</code> <code class="n">os</code><code class="o">.</code><code class="n">stat</code><code class="p">(</code><code class="n">name</code><code class="p">))</code> <code class="k">for</code> <code class="n">name</code> <code class="ow">in</code> <code class="n">pyfiles</code><code class="p">]</code>
<code class="k">for</code> <code class="n">name</code><code class="p">,</code> <code class="n">meta</code> <code class="ow">in</code> <code class="n">file_metadata</code><code class="p">:</code>
    <code class="k">print</code><code class="p">(</code><code class="n">name</code><code class="p">,</code> <code class="n">meta</code><code class="o">.</code><code class="n">st_size</code><code class="p">,</code> <code class="n">meta</code><code class="o">.</code><code class="n">st_mtime</code><code class="p">)</code></pre>
<p id="last_but_not_l_id10">Last, but not least, be aware that there are subtle issues that
can arise in filename handling related to encodings.   Normally,
the entries returned by a function such as <code class="literal">os.listdir()</code> are
decoded according to the system default filename encoding.
However, it’s possible under certain circumstances to encounter
un-decodable filenames. Recipes <a class="xref" href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#rawfilenames" title="Bypassing Filename Encoding"></a> and <a class="xref" href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#bad_filenames" title="Printing Bad Filenames"></a> have more details about
handling such names.<a id="id648106" class="indexterm"></a><a id="id648115" class="indexterm"></a><a id="id648126" class="indexterm"></a><a id="id648136" class="indexterm"></a></p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="rawfilenames">
<div class="titlepage"><div><div><h2 class="title">Bypassing Filename Encoding</h2></div></div></div>
<div class="sect2" id="_problem_86">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="filesbypassing_"><a id="ix_files_bypassing_name_encoding" class="indexterm"></a><a id="ix_files_getfilesystemencoding_function_sys_module" class="indexterm"></a><a id="ix_getfilesystemencoding_function_sys_module" class="indexterm"></a>You want to perform file I/O operations using raw filenames that
have not been decoded or encoded according to the default
filename encoding.</p>
</div>
<div class="sect2" id="_solution_86">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="by_default_all">By default, all filenames are encoded and decoded according to the
text encoding returned by <code class="literal">sys.getfilesystemencoding()</code>.  For example:</p>
<pre class="programlisting" data-language="pycon" id="sysgetfile"><code class="gp">&gt;&gt;&gt; </code><code class="n">sys</code><code class="o">.</code><code class="n">getfilesystemencoding</code><code class="p">()</code>
<code class="go">'utf-8'</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="if_you_want_to__id10">If you want to bypass this encoding for some reason, specify a
filename using a raw byte string instead.  For example:</p>
<pre class="programlisting" data-language="pycon" id="_wrte_a_fi"><code class="gp">&gt;&gt;&gt; </code><code class="c"># Wrte a file using a unicode filename</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="s">'jalape</code><code class="se">\xf1</code><code class="s">o.txt'</code><code class="p">,</code> <code class="s">'w'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
<code class="gp">... </code>    <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="s">'Spicy!'</code><code class="p">)</code>
<code class="gp">...</code>
<code class="go">6</code>
<code class="gp">&gt;&gt;&gt; </code><code class="c"># Directory listing (decoded)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">os</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">os</code><code class="o">.</code><code class="n">listdir</code><code class="p">(</code><code class="s">'.'</code><code class="p">)</code>
<code class="go">['jalapeño.txt']</code>

<code class="gp">&gt;&gt;&gt; </code><code class="c"># Directory listing (raw)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">os</code><code class="o">.</code><code class="n">listdir</code><code class="p">(</code><code class="n">b</code><code class="s">'.'</code><code class="p">)</code>        <code class="c"># Note: byte string</code>
<code class="go">[b'jalapen\xcc\x83o.txt']</code>

<code class="gp">&gt;&gt;&gt; </code><code class="c"># Open file with raw filename</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">with</code> <code class="nb">open</code><code class="p">(</code><code class="n">b</code><code class="s">'jalapen</code><code class="se">\xcc\x83</code><code class="s">o.txt'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
<code class="gp">... </code>    <code class="k">print</code><code class="p">(</code><code class="n">f</code><code class="o">.</code><code class="n">read</code><code class="p">())</code>
<code class="gp">...</code>
<code class="go">Spicy!</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="as_you_can_see__id2">As you can see in the last two operations, the filename handling
changes ever so slightly when byte strings are supplied to
file-related functions, such as <code class="literal">open()</code> and <code class="literal">os.listdir()</code>.</p>
</div>
<div class="sect2" id="_discussion_86">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="under_normal_ci">Under normal circumstances, you shouldn’t need to worry
about filename encoding and decoding—normal filename operations
should just work.  However, many operating systems may allow
a user through accident or malice to create files with names
that don’t conform to the expected encoding rules.   Such
filenames may mysteriously break Python programs that work
with a lot of files.</p>
<p id="reading_directo">Reading directories and working with filenames as raw undecoded bytes
has the potential to avoid such problems, albeit at the cost of
programming convenience.</p>
<p id="see_for_a_recip">See <a class="xref" href="http://chimera.labs.oreilly.com/books/1230000000393/ch05.html#bad_filenames" title="Printing Bad Filenames">“Printing Bad Filenames”</a> for a recipe on printing undecodable filenames.<a id="id648694" class="indexterm"></a><a id="id648705" class="indexterm"></a><a id="id648715" class="indexterm"></a></p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="bad_filenames">
<div class="titlepage"><div><div><h2 class="title">Printing Bad Filenames</h2></div></div></div>
<div class="sect2" id="_problem_87">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="filesprinting_b"><a id="ix_files_printing_bad_filenames_for" class="indexterm"></a><a id="ix_listdir_function_os_module_bad_filenames_printing" class="indexterm"></a>Your program received a directory listing, but when it tried to print the
filenames, it crashed with a <code class="literal">UnicodeEncodeError</code> exception and a
cryptic message about "surrogates not allowed."</p>
</div>
<div class="sect2" id="_solution_87">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="when_printing_f">When printing filenames of unknown origin, use this convention
to avoid errors:</p>
<pre class="programlisting" data-language="python" id="def_bad_filenam_id1"><code class="k">def</code> <code class="nf">bad_filename</code><code class="p">(</code><code class="n">filename</code><code class="p">):</code>
    <code class="k">return</code> <code class="nb">repr</code><code class="p">(</code><code class="n">filename</code><code class="p">)[</code><code class="mi">1</code><code class="p">:</code><code class="o">-</code><code class="mi">1</code><code class="p">]</code>

<code class="k">try</code><code class="p">:</code>
    <code class="k">print</code><code class="p">(</code><code class="n">filename</code><code class="p">)</code>
<code class="k">except</code> <code class="ne">UnicodeEncodeError</code><code class="p">:</code>
    <code class="k">print</code><code class="p">(</code><code class="n">bad_filename</code><code class="p">(</code><code class="n">filename</code><code class="p">))</code></pre>
</div>
<div class="sect2" id="_discussion_87">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="this_recipe_is__id2">This recipe is about a potentially rare but very annoying problem regarding
programs that must manipulate the filesystem.  By default, Python
assumes that all filenames are encoded according to the setting
reported by <code class="literal">sys.getfilesystemencoding()</code>.  However, certain filesystems don’t necessarily enforce this encoding restriction, thereby allowing
files to be created without proper filename encoding.  It’s
not common, but there is always the danger that some user will do
something silly and create such a file by accident (e.g., maybe
passing a bad filename to <code class="literal">open()</code> in some buggy code).</p>
<p id="when_executing__id1">When executing a command such as <code class="literal">os.listdir()</code>, bad filenames leave
Python in a bind.  On the one hand, it can’t just discard bad names.
On the other hand, it still can’t turn the filename into a proper
text string.  Python’s solution to this problem is to take an undecodable
byte value <code class="literal">\xhh</code> in a filename and map it into a so-called "surrogate encoding" represented by the Unicode character <code class="literal">\udchh</code>.
Here is an example of how a bad directory listing might look
if it contained a filename <span class="emphasis"><em>bäd.txt</em></span>, encoded as Latin-1 instead of UTF-8:</p>
<pre class="programlisting" data-language="pycon" id="import_os__id7"><code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">os</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">files</code> <code class="o">=</code> <code class="n">os</code><code class="o">.</code><code class="n">listdir</code><code class="p">(</code><code class="s">'.'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">files</code>
<code class="go">['spam.py', 'b\udce4d.txt', 'foo.txt']</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="if_you_have_cod">If you have code that manipulates filenames or even passes them to
functions such as <code class="literal">open()</code>, everything works normally.  It’s only in
situations where you want to output the filename that you run into
trouble (e.g., printing it to the screen, logging it, etc.).
Specifically, if you tried to print the preceding listing, your program will
crash:</p>
<pre class="programlisting" data-language="pycon" id="for_name_in_id1"><code class="gp">&gt;&gt;&gt; </code><code class="k">for</code> <code class="n">name</code> <code class="ow">in</code> <code class="n">files</code><code class="p">:</code>
<code class="gp">... </code>    <code class="k">print</code><code class="p">(</code><code class="n">name</code><code class="p">)</code>
<code class="gp">...</code>
<code class="go">spam.py</code>
<code class="gt">Traceback (most recent call last):</code>
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">2</code>, in <code class="n">&lt;module&gt;</code>
<code class="gr">UnicodeEncodeError</code>: <code class="n">'utf-8' codec can't encode character '\udce4' in</code>
<code class="go">position 1: surrogates not allowed</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="the_reason_it_c">The reason it crashes is that the character <code class="literal">\udce4</code> is technically
invalid Unicode. It’s actually the second half of a two-character combination
known as a surrogate pair.  However, since the first half is missing,
it’s invalid Unicode.   Thus, the only way to produce successful output is
to take corrective action when a bad filename is encountered.   For
example, changing the code to the recipe produces the following:</p>
<pre class="programlisting" data-language="pycon" id="for_name_in_id2"><code class="gp">&gt;&gt;&gt; </code><code class="k">for</code> <code class="n">name</code> <code class="ow">in</code> <code class="n">files</code><code class="p">:</code>
<code class="gp">... </code>    <code class="k">try</code><code class="p">:</code>
<code class="gp">... </code>            <code class="k">print</code><code class="p">(</code><code class="n">name</code><code class="p">)</code>
<code class="gp">... </code>    <code class="k">except</code> <code class="ne">UnicodeEncodeError</code><code class="p">:</code>
<code class="gp">... </code>            <code class="k">print</code><code class="p">(</code><code class="n">bad_filename</code><code class="p">(</code><code class="n">name</code><code class="p">))</code>
<code class="gp">...</code>
<code class="go">spam.py</code>
<code class="go">b\udce4d.txt</code>
<code class="go">foo.txt</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="the_choice_of_w_id3">The choice of what to do for the <code class="literal">bad_filename()</code> function is largely
up to you.   Another option is to re-encode the value in some
way, like this:</p>
<pre class="programlisting" data-language="python" id="def_bad_filenam_id2"><code class="k">def</code> <code class="nf">bad_filename</code><code class="p">(</code><code class="n">filename</code><code class="p">):</code>
    <code class="n">temp</code> <code class="o">=</code> <code class="n">filename</code><code class="o">.</code><code class="n">encode</code><code class="p">(</code><code class="n">sys</code><code class="o">.</code><code class="n">getfilesystemencoding</code><code class="p">(),</code> <code class="n">errors</code><code class="o">=</code><code class="s">'surrogateescape'</code><code class="p">)</code>
    <code class="k">return</code> <code class="n">temp</code><code class="o">.</code><code class="n">decode</code><code class="p">(</code><code class="s">'latin-1'</code><code class="p">)</code></pre>
<p id="using_this_vers">Using this version produces the following output:</p>
<pre class="programlisting" data-language="pycon" id="for_name_in_id3"><code class="gp">&gt;&gt;&gt; </code><code class="k">for</code> <code class="n">name</code> <code class="ow">in</code> <code class="n">files</code><code class="p">:</code>
<code class="gp">... </code>    <code class="k">try</code><code class="p">:</code>
<code class="gp">... </code>            <code class="k">print</code><code class="p">(</code><code class="n">name</code><code class="p">)</code>
<code class="gp">... </code>    <code class="k">except</code> <code class="ne">UnicodeEncodeError</code><code class="p">:</code>
<code class="gp">... </code>            <code class="k">print</code><code class="p">(</code><code class="n">bad_filename</code><code class="p">(</code><code class="n">name</code><code class="p">))</code>
<code class="gp">...</code>
<code class="go">spam.py</code>
<code class="go">bäd.txt</code>
<code class="go">foo.txt</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="this_recipe_wil_id1">This recipe will likely be
ignored by most readers.  However, if you’re writing mission-critical scripts that
need to work reliably with filenames and the filesystem, it’s
something to think about.  Otherwise, you might find yourself called
back into the office over the weekend to debug a seemingly
inscrutable error.<a id="id649722" class="indexterm"></a><a id="id649733" class="indexterm"></a></p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="_adding_or_changing_the_encoding_of_an_already_open_file">
<div class="titlepage"><div><div><h2 class="title">Adding or Changing the Encoding of an Already Open File</h2></div></div></div>
<div class="sect2" id="_problem_88">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="encoding_text_d_id2"><a id="ix_encoding_text_data_changing_in_open_files" class="indexterm"></a><a id="ix_files_changing_encoding_in_open" class="indexterm"></a><a id="ix_io_module2" class="indexterm"></a><a id="ix_TextIOWrapper_object_io_module" class="indexterm"></a>You want to add or change the Unicode encoding of an already open file
without closing it first.</p>
</div>
<div class="sect2" id="_solution_88">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="if_you_want_to__id11">If you want to add Unicode encoding/decoding to an already existing
file object that’s opened in binary mode, wrap it with an
<code class="literal">io.TextIOWrapper()</code> object. For example:</p>
<pre class="programlisting" data-language="python" id="import_urllibr_id1"><code class="kn">import</code> <code class="nn">urllib.request</code>
<code class="kn">import</code> <code class="nn">io</code>

<code class="n">u</code> <code class="o">=</code> <code class="n">urllib</code><code class="o">.</code><code class="n">request</code><code class="o">.</code><code class="n">urlopen</code><code class="p">(</code><code class="s">'http://www.python.org'</code><code class="p">)</code>
<code class="n">f</code> <code class="o">=</code> <code class="n">io</code><code class="o">.</code><code class="n">TextIOWrapper</code><code class="p">(</code><code class="n">u</code><code class="p">,</code><code class="n">encoding</code><code class="o">=</code><code class="s">'utf-8'</code><code class="p">)</code>
<code class="n">text</code> <code class="o">=</code> <code class="n">f</code><code class="o">.</code><code class="n">read</code><code class="p">()</code></pre>
<p id="if_you_want_to__id12">If you want to change the encoding of an already open text-mode file,
use its <span class="keep-together"><code class="literal">detach()</code></span> method to remove the existing text encoding layer
before replacing it with a new one.  Here is an example of changing the encoding
on <a id="id650022" class="indexterm"></a><code class="literal">sys.stdout</code>:</p>
<pre class="programlisting" data-language="pycon" id="import_sys__id2"><code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">sys</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">sys</code><code class="o">.</code><code class="n">stdout</code><code class="o">.</code><code class="n">encoding</code>
<code class="go">'UTF-8'</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">sys</code><code class="o">.</code><code class="n">stdout</code> <code class="o">=</code> <code class="n">io</code><code class="o">.</code><code class="n">TextIOWrapper</code><code class="p">(</code><code class="n">sys</code><code class="o">.</code><code class="n">stdout</code><code class="o">.</code><code class="n">detach</code><code class="p">(),</code> <code class="n">encoding</code><code class="o">=</code><code class="s">'latin-1'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">sys</code><code class="o">.</code><code class="n">stdout</code><code class="o">.</code><code class="n">encoding</code>
<code class="go">'latin-1'</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="doing_this_migh">Doing this might break the output of your terminal. It’s only meant to
illustrate.</p>
</div>
<div class="sect2" id="_discussion_88">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="the_io_system__id1">The I/O system is built as a series of layers.  You can see the layers
yourself by trying this simple example involving a text file:</p>
<pre class="programlisting" data-language="pycon" id="f__opens_id3"><code class="gp">&gt;&gt;&gt; </code><code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s">'sample.txt'</code><code class="p">,</code><code class="s">'w'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code>
<code class="go">&lt;_io.TextIOWrapper name='sample.txt' mode='w' encoding='UTF-8'&gt;</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code><code class="o">.</code><code class="n">buffer</code>
<code class="go">&lt;_io.BufferedWriter name='sample.txt'&gt;</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code><code class="o">.</code><code class="n">buffer</code><code class="o">.</code><code class="n">raw</code>
<code class="go">&lt;_io.FileIO name='sample.txt' mode='wb'&gt;</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="in_this_example_id4">In this example, <code class="literal">io.TextIOWrapper</code> is a text-handling layer that encodes
and decodes Unicode, <a id="id650373" class="indexterm"></a><code class="literal">io.BufferedWriter</code> is a buffered I/O layer that handles
binary data, and <a id="id650385" class="indexterm"></a><code class="literal">io.FileIO</code> is a raw file representing the low-level file
descriptor in the operating system.    Adding or changing the text
encoding involves adding or changing the topmost <span class="keep-together"><code class="literal">io.TextIOWrapper</code></span> layer.</p>
<p id="as_a_general_ru_id2">As a general rule, it’s not safe to directly manipulate the different
layers by accessing the attributes shown.  For example, see what
happens if you try to change the encoding using this technique:</p>
<pre class="programlisting" data-language="python" id="f__iotext_id1"><code class="o">&gt;&gt;&gt;</code> <code class="n">f</code>
<code class="o">&lt;</code><code class="n">_io</code><code class="o">.</code><code class="n">TextIOWrapper</code> <code class="n">name</code><code class="o">=</code><code class="s">'sample.txt'</code> <code class="n">mode</code><code class="o">=</code><code class="s">'w'</code> <code class="n">encoding</code><code class="o">=</code><code class="s">'UTF-8'</code><code class="o">&gt;</code>
<code class="o">&gt;&gt;&gt;</code> <code class="n">f</code> <code class="o">=</code> <code class="n">io</code><code class="o">.</code><code class="n">TextIOWrapper</code><code class="p">(</code><code class="n">f</code><code class="o">.</code><code class="n">buffer</code><code class="p">,</code> <code class="n">encoding</code><code class="o">=</code><code class="s">'latin-1'</code><code class="p">)</code>
<code class="o">&gt;&gt;&gt;</code> <code class="n">f</code>
<code class="o">&lt;</code><code class="n">_io</code><code class="o">.</code><code class="n">TextIOWrapper</code> <code class="n">name</code><code class="o">=</code><code class="s">'sample.txt'</code> <code class="n">encoding</code><code class="o">=</code><code class="s">'latin-1'</code><code class="o">&gt;</code>
<code class="o">&gt;&gt;&gt;</code> <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="s">'Hello'</code><code class="p">)</code>
<code class="n">Traceback</code> <code class="p">(</code><code class="n">most</code> <code class="n">recent</code> <code class="n">call</code> <code class="n">last</code><code class="p">):</code>
  <code class="n">File</code> <code class="s">"&lt;stdin&gt;"</code><code class="p">,</code> <code class="n">line</code> <code class="mi">1</code><code class="p">,</code> <code class="ow">in</code> <code class="o">&lt;</code><code class="n">module</code><code class="o">&gt;</code>
<code class="ne">ValueError</code><code class="p">:</code> <code class="n">I</code><code class="o">/</code><code class="n">O</code> <code class="n">operation</code> <code class="n">on</code> <code class="n">closed</code> <code class="nb">file</code><code class="o">.</code>
<code class="o">&gt;&gt;&gt;</code></pre>
<p id="it_doesnt_work">It doesn’t work because the original value of <code class="literal">f</code> got destroyed and
closed the underlying file in the process.</p>
<p id="the_detach_me">The <a id="id650821" class="indexterm"></a><a id="id650827" class="indexterm"></a><code class="literal">detach()</code> method disconnects the topmost layer of a file and returns
the next lower layer. Afterward, the top layer will no longer be usable.
For example:</p>
<pre class="programlisting" data-language="pycon" id="f__opens_id4"><code class="gp">&gt;&gt;&gt; </code><code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s">'sample.txt'</code><code class="p">,</code> <code class="s">'w'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code>
<code class="go">&lt;_io.TextIOWrapper name='sample.txt' mode='w' encoding='UTF-8'&gt;</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">b</code> <code class="o">=</code> <code class="n">f</code><code class="o">.</code><code class="n">detach</code><code class="p">()</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">b</code>
<code class="go">&lt;_io.BufferedWriter name='sample.txt'&gt;</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="s">'hello'</code><code class="p">)</code>
<code class="gt">Traceback (most recent call last):</code>
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">1</code>, in <code class="n">&lt;module&gt;</code>
<code class="gr">ValueError</code>: <code class="n">underlying buffer has been detached</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="once_detached_">Once detached, however, you can add a new top layer to
the returned result.  For example:</p>
<pre class="programlisting" data-language="pycon" id="f__iotext_id2"><code class="gp">&gt;&gt;&gt; </code><code class="n">f</code> <code class="o">=</code> <code class="n">io</code><code class="o">.</code><code class="n">TextIOWrapper</code><code class="p">(</code><code class="n">b</code><code class="p">,</code> <code class="n">encoding</code><code class="o">=</code><code class="s">'latin-1'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code>
<code class="go">&lt;_io.TextIOWrapper name='sample.txt' encoding='latin-1'&gt;</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="although_changi">Although changing the encoding has been shown, it is also possible
to use this technique to change the line handling, error policy, and
other aspects of file handling.   For example:</p>
<pre class="programlisting" data-language="pycon" id="sysstdout_"><code class="gp">&gt;&gt;&gt; </code><code class="n">sys</code><code class="o">.</code><code class="n">stdout</code> <code class="o">=</code> <code class="n">io</code><code class="o">.</code><code class="n">TextIOWrapper</code><code class="p">(</code><code class="n">sys</code><code class="o">.</code><code class="n">stdout</code><code class="o">.</code><code class="n">detach</code><code class="p">(),</code> <code class="n">encoding</code><code class="o">=</code><code class="s">'ascii'</code><code class="p">,</code>
<code class="gp">... </code>                              <code class="n">errors</code><code class="o">=</code><code class="s">'xmlcharrefreplace'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="k">print</code><code class="p">(</code><code class="s">'Jalape</code><code class="se">\u00f1</code><code class="s">o'</code><code class="p">)</code>
<code class="go">Jalape&amp;#241;o</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="notice_how_the__id1">Notice how the non-ASCII character ñ has been replaced by <code class="literal">&amp;#241;</code> in the output.<a id="id651301" class="indexterm"></a><a id="id651312" class="indexterm"></a><a id="id651322" class="indexterm"></a><a id="id651331" class="indexterm"></a></p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="_writing_bytes_to_a_text_file">
<div class="titlepage"><div><div><h2 class="title">Writing Bytes to a Text File</h2></div></div></div>
<div class="sect2" id="_problem_89">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="byte_stringswri"><a id="id651369" class="indexterm"></a><a id="id651377" class="indexterm"></a>You want to write raw bytes to a file opened in text mode.</p>
</div>
<div class="sect2" id="_solution_89">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="simply_write_th">Simply write the byte data to the files underlying <code class="literal">buffer</code>.  For
example:</p>
<pre class="programlisting" data-language="pycon" id="import_sys__id3"><code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">sys</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">sys</code><code class="o">.</code><code class="n">stdout</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">b</code><code class="s">'Hello</code><code class="se">\n</code><code class="s">'</code><code class="p">)</code>
<code class="gt">Traceback (most recent call last):</code>
  File <code class="nb">"&lt;stdin&gt;"</code>, line <code class="m">1</code>, in <code class="n">&lt;module&gt;</code>
<code class="gr">TypeError</code>: <code class="n">must be str, not bytes</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">sys</code><code class="o">.</code><code class="n">stdout</code><code class="o">.</code><code class="n">buffer</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">b</code><code class="s">'Hello</code><code class="se">\n</code><code class="s">'</code><code class="p">)</code>
<code class="go">Hello</code>
<code class="go">5</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="similarly_bina">Similarly, binary data can be read from a text file by
reading from its <a id="id651599" class="indexterm"></a><code class="literal">buffer</code> attribute instead.</p>
</div>
<div class="sect2" id="_discussion_89">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="the_io_system__id2">The I/O system is built from layers.  Text files are constructed by
adding a Unicode encoding/decoding layer on top of a buffered binary-mode
file.  The <code class="literal">buffer</code> attribute simply points at this underlying file.
If you access it, you’ll bypass the text encoding/decoding layer.</p>
<p id="the_example_inv">The example involving <code class="literal">sys.stdout</code> might be viewed as a special case.  By default, <code class="literal">sys.stdout</code> is always opened in text mode.
However, if you are writing a script that actually needs to dump
binary data to standard output, you can use the technique shown to
bypass the text encoding.)</p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="_wrapping_an_existing_file_descriptor_as_a_file_object">
<div class="titlepage"><div><div><h2 class="title">Wrapping an Existing File Descriptor As a File Object</h2></div></div></div>
<div class="sect2" id="_problem_90">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="file_descriptor_id1"><a id="ix_file_descriptor_wrapping_in_object" class="indexterm"></a><a id="ix_files_wrapping_descriptors_in_objects" class="indexterm"></a>You have an integer file descriptor correponding to an already open
I/O channel on the operating system (e.g., file, pipe, socket, etc.), and you
want to wrap a higher-level Python file object around it.</p>
</div>
<div class="sect2" id="_solution_90">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="a_file_descript">A file descriptor is different than a normal open file in that it is
simply an integer handle assigned by the operating system to refer to
some kind of system I/O channel.  If you happen to have such a file
descriptor, you can wrap a Python file object around it using the
<a id="id651728" class="indexterm"></a><code class="literal">open()</code> function.  However, you simply supply the integer file descriptor
as the first argument instead of the filename.  For example:</p>
<pre class="programlisting" data-language="python" id="open_a_lowle"><code class="c"># Open a low-level file descriptor</code>
<code class="kn">import</code> <code class="nn">os</code>
<code class="n">fd</code> <code class="o">=</code> <code class="n">os</code><code class="o">.</code><code class="n">open</code><code class="p">(</code><code class="s">'somefile.txt'</code><code class="p">,</code> <code class="n">os</code><code class="o">.</code><code class="n">O_WRONLY</code> <code class="o">|</code> <code class="n">os</code><code class="o">.</code><code class="n">O_CREAT</code><code class="p">)</code>

<code class="c"># Turn into a proper file</code>
<code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="n">fd</code><code class="p">,</code> <code class="s">'wt'</code><code class="p">)</code>
<code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="s">'hello world</code><code class="se">\n</code><code class="s">'</code><code class="p">)</code>
<code class="n">f</code><code class="o">.</code><code class="n">close</code><code class="p">()</code></pre>
<p id="when_the_highl">When the high-level file object is closed or destroyed, the underlying
file descriptor will also be closed.  If this is not desired, supply
the optional <a id="id651945" class="indexterm"></a><a id="id651950" class="indexterm"></a><code class="literal">closefd=False</code> argument to <code class="literal">open()</code>.  For example:</p>
<pre class="programlisting" data-language="python" id="create_a_file"><code class="c"># Create a file object, but don't close underlying fd when done</code>
<code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="n">fd</code><code class="p">,</code> <code class="s">'wt'</code><code class="p">,</code> <code class="n">closefd</code><code class="o">=</code><code class="bp">False</code><code class="p">)</code>
<code class="o">...</code></pre>
</div>
<div class="sect2" id="_discussion_90">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="on_unix_systems">On Unix systems, this technique of wrapping a file descriptor can be a
convenient means for putting a file-like interface on an existing I/O
channel that was opened in a different way (e.g., pipes, sockets,
etc.).  For instance, here is an example involving sockets:</p>
<pre class="programlisting" data-language="python" id="from_socket_imp_id1"><code class="kn">from</code> <code class="nn">socket</code> <code class="kn">import</code> <code class="n">socket</code><code class="p">,</code> <code class="n">AF_INET</code><code class="p">,</code> <code class="n">SOCK_STREAM</code>

<code class="k">def</code> <code class="nf">echo_client</code><code class="p">(</code><code class="n">client_sock</code><code class="p">,</code> <code class="n">addr</code><code class="p">):</code>
    <code class="k">print</code><code class="p">(</code><code class="s">'Got connection from'</code><code class="p">,</code> <code class="n">addr</code><code class="p">)</code>

    <code class="c"># Make text-mode file wrappers for socket reading/writing</code>
    <code class="n">client_in</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="n">client_sock</code><code class="o">.</code><code class="n">fileno</code><code class="p">(),</code> <code class="s">'rt'</code><code class="p">,</code> <code class="n">encoding</code><code class="o">=</code><code class="s">'latin-1'</code><code class="p">,</code>
                         <code class="n">closefd</code><code class="o">=</code><code class="bp">False</code><code class="p">)</code>
    <code class="n">client_out</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="n">client_sock</code><code class="o">.</code><code class="n">fileno</code><code class="p">(),</code> <code class="s">'wt'</code><code class="p">,</code> <code class="n">encoding</code><code class="o">=</code><code class="s">'latin-1'</code><code class="p">,</code>
                          <code class="n">closefd</code><code class="o">=</code><code class="bp">False</code><code class="p">)</code>

    <code class="c"># Echo lines back to the client using file I/O</code>
    <code class="k">for</code> <code class="n">line</code> <code class="ow">in</code> <code class="n">client_in</code><code class="p">:</code>
        <code class="n">client_out</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">line</code><code class="p">)</code>
        <code class="n">client_out</code><code class="o">.</code><code class="n">flush</code><code class="p">()</code>
    <code class="n">client_sock</code><code class="o">.</code><code class="n">close</code><code class="p">()</code>

<code class="k">def</code> <code class="nf">echo_server</code><code class="p">(</code><code class="n">address</code><code class="p">):</code>
    <code class="n">sock</code> <code class="o">=</code> <code class="n">socket</code><code class="p">(</code><code class="n">AF_INET</code><code class="p">,</code> <code class="n">SOCK_STREAM</code><code class="p">)</code>
    <code class="n">sock</code><code class="o">.</code><code class="n">bind</code><code class="p">(</code><code class="n">address</code><code class="p">)</code>
    <code class="n">sock</code><code class="o">.</code><code class="n">listen</code><code class="p">(</code><code class="mi">1</code><code class="p">)</code>
    <code class="k">while</code> <code class="bp">True</code><code class="p">:</code>
        <code class="n">client</code><code class="p">,</code> <code class="n">addr</code> <code class="o">=</code> <code class="n">sock</code><code class="o">.</code><code class="n">accept</code><code class="p">()</code>
        <code class="n">echo_client</code><code class="p">(</code><code class="n">client</code><code class="p">,</code> <code class="n">addr</code><code class="p">)</code></pre>
<p id="its_important__id3">It’s important to emphasize that the above example is only meant to
illustrate a feature of the built-in <code class="literal">open()</code> function and that it
only works on Unix-based systems.  <a id="id652648" class="indexterm"></a>If you are trying to put a
file-like interface on a socket and need your code to be cross
platform, use the <a id="id652659" class="indexterm"></a><code class="literal">makefile()</code> method of sockets instead.   However,
if portability is not a concern, you’ll find that the above solution
provides much better performance than using <code class="literal">makefile()</code>.</p>
<p id="you_can_also_us">You can also use this to make a kind of alias that allows an already
open file to be used in a slightly different way than how it was first
opened.  For example, here’s how you could create a file object that
allows you to emit binary data on <code class="literal">stdout</code> (which is normally opened
in text mode):</p>
<pre class="programlisting" data-language="python" id="import_sys__cr"><code class="kn">import</code> <code class="nn">sys</code>
<code class="c"># Create a binary-mode file for stdout</code>
<code class="n">bstdout</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="n">sys</code><code class="o">.</code><code class="n">stdout</code><code class="o">.</code><code class="n">fileno</code><code class="p">(),</code> <code class="s">'wb'</code><code class="p">,</code> <code class="n">closefd</code><code class="o">=</code><code class="bp">False</code><code class="p">)</code>
<code class="n">bstdout</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">b</code><code class="s">'Hello World</code><code class="se">\n</code><code class="s">'</code><code class="p">)</code>
<code class="n">bstdout</code><code class="o">.</code><code class="n">flush</code><code class="p">()</code></pre>
<p id="although_its_p">Although it’s possible to wrap an existing file descriptor as a proper
file, be aware that not all file modes may be supported and that
certain kinds of file descriptors may have funny side effects
(especially with respect to error handling, end-of-file conditions,
etc.).  The behavior can also vary according to operating system. In
particular, none of the examples are likely to work on non-Unix
systems.  The bottom line is that you’ll need to thoroughly test your
implementation to make sure it works as expected.</p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="_making_temporary_files_and_directories">
<div class="titlepage"><div><div><h2 class="title">Making Temporary Files and Directories</h2></div></div></div>
<div class="sect2" id="_problem_91">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="directoriestemp"><a id="ix_directories_temporary" class="indexterm"></a><a id="ix_files_temporary" class="indexterm"></a><a id="ix_tempfile_module" class="indexterm"></a><a id="ix_temporary_files" class="indexterm"></a>You need to create a temporary file or directory for use when your
program executes.  Afterward, you possibly want the file or directory
to be destroyed.</p>
</div>
<div class="sect2" id="_solution_91">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="the_tempfile_mo">The <code class="literal">tempfile</code> module has a variety of functions for performing this
task.  To make an unnamed temporary file, use <a id="id652962" class="indexterm"></a><code class="literal">tempfile.TemporaryFile</code>:</p>
<pre class="programlisting" data-language="python" id="from_tempfile_i_id1"><code class="kn">from</code> <code class="nn">tempfile</code> <code class="kn">import</code> <code class="n">TemporaryFile</code>

<code class="k">with</code> <code class="n">TemporaryFile</code><code class="p">(</code><code class="s">'w+t'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
     <code class="c"># Read/write to the file</code>
     <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="s">'Hello World</code><code class="se">\n</code><code class="s">'</code><code class="p">)</code>
     <code class="n">f</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="s">'Testing</code><code class="se">\n</code><code class="s">'</code><code class="p">)</code>

     <code class="c"># Seek back to beginning and read the data</code>
     <code class="n">f</code><code class="o">.</code><code class="n">seek</code><code class="p">(</code><code class="mi">0</code><code class="p">)</code>
     <code class="n">data</code> <code class="o">=</code> <code class="n">f</code><code class="o">.</code><code class="n">read</code><code class="p">()</code>

<code class="c"># Temporary file is destroyed</code></pre>
<p id="or_if_you_pref">Or, if you prefer, you can also use the file like this:</p>
<pre class="programlisting" data-language="python" id="f__temporaryfi"><code class="n">f</code> <code class="o">=</code> <code class="n">TemporaryFile</code><code class="p">(</code><code class="s">'w+t'</code><code class="p">)</code>
<code class="c"># Use the temporary file</code>
<code class="o">...</code>
<code class="n">f</code><code class="o">.</code><code class="n">close</code><code class="p">()</code>
<code class="c"># File is destroyed</code></pre>
<p id="the_first_argum_id2">The first argument to <code class="literal">TemporaryFile()</code> is the file mode, which is
usually <code class="literal">w+t</code> for text and <code class="literal">w+b</code> for binary.  This mode
simultaneously supports reading and writing, which is useful here
since closing the file to change modes would actually destroy it.
<code class="literal">TemporaryFile()</code> additionally accepts the same arguments as the
built-in <code class="literal">open()</code> function.  For example:</p>
<pre class="programlisting" data-language="python" id="with_temporaryf"><code class="k">with</code> <code class="n">TemporaryFile</code><code class="p">(</code><code class="s">'w+t'</code><code class="p">,</code> <code class="n">encoding</code><code class="o">=</code><code class="s">'utf-8'</code><code class="p">,</code> <code class="n">errors</code><code class="o">=</code><code class="s">'ignore'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
     <code class="o">...</code></pre>
<p id="on_most_unix_sy">On most Unix systems, the file created by <code class="literal">TemporaryFile()</code> is unnamed
and won’t even have a directory entry.  If you want to relax this
constraint, use <code class="literal">NamedTemporaryFile()</code> instead.  For example:</p>
<pre class="programlisting" data-language="python" id="from_tempfile_i_id2"><code class="kn">from</code> <code class="nn">tempfile</code> <code class="kn">import</code> <code class="n">NamedTemporaryFile</code>

<code class="k">with</code> <code class="n">NamedTemporaryFile</code><code class="p">(</code><code class="s">'w+t'</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="k">print</code><code class="p">(</code><code class="s">'filename is:'</code><code class="p">,</code> <code class="n">f</code><code class="o">.</code><code class="n">name</code><code class="p">)</code>
    <code class="o">...</code>

<code class="c"># File automatically destroyed</code></pre>
<p id="here_the_fnam">Here, the <code class="literal">f.name</code> attribute of the opened file contains the filename
of the temporary file.  This can be useful if it needs to be given to
some other code that needs to open the file.  As with <code class="literal">TemporaryFile()</code>,
the resulting file is automatically deleted when it’s closed.  If you
don’t want this, supply a <code class="literal">delete=False</code> keyword argument.  For example:</p>
<pre class="programlisting" data-language="python" id="with_namedtempo"><code class="k">with</code> <code class="n">NamedTemporaryFile</code><code class="p">(</code><code class="s">'w+t'</code><code class="p">,</code> <code class="n">delete</code><code class="o">=</code><code class="bp">False</code><code class="p">)</code> <code class="k">as</code> <code class="n">f</code><code class="p">:</code>
    <code class="k">print</code><code class="p">(</code><code class="s">'filename is:'</code><code class="p">,</code> <code class="n">f</code><code class="o">.</code><code class="n">name</code><code class="p">)</code>
    <code class="o">...</code></pre>
<p id="to_make_a_tempo">To make a temporary directory, use <a id="id653658" class="indexterm"></a><code class="literal">tempfile.TemporaryDirectory()</code>.
For example:</p>
<pre class="programlisting" data-language="python" id="from_tempfile_i_id3"><code class="kn">from</code> <code class="nn">tempfile</code> <code class="kn">import</code> <code class="n">TemporaryDirectory</code>
<code class="k">with</code> <code class="n">TemporaryDirectory</code><code class="p">()</code> <code class="k">as</code> <code class="n">dirname</code><code class="p">:</code>
     <code class="k">print</code><code class="p">(</code><code class="s">'dirname is:'</code><code class="p">,</code> <code class="n">dirname</code><code class="p">)</code>
     <code class="c"># Use the directory</code>
     <code class="o">...</code>
<code class="c"># Directory and all contents destroyed</code></pre>
</div>
<div class="sect2" id="_discussion_91">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="the_temporaryfi">The <code class="literal">TemporaryFile()</code>, <a id="id653794" class="indexterm"></a><a id="id653800" class="indexterm"></a><a id="id653805" class="indexterm"></a><code class="literal">NamedTemporaryFile()</code>, and
<code class="literal">TemporaryDirectory()</code> functions are probably the most convenient way to
work with temporary files and directories, because they automatically
handle all of the steps of creation and subsequent cleanup.  At
a lower level, you can also use the <code class="literal">mkstemp()</code> and <code class="literal">mkdtemp()</code>
to create temporary files and directories.  For example:</p>
<pre class="programlisting" data-language="pycon" id="import_temp"><code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">tempfile</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">tempfile</code><code class="o">.</code><code class="n">mkstemp</code><code class="p">()</code>
<code class="go">(3, '/var/folders/7W/7WZl5sfZEF0pljrEB1UMWE+++TI/-Tmp-/tmp7fefhv')</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">tempfile</code><code class="o">.</code><code class="n">mkdtemp</code><code class="p">()</code>
<code class="go">'/var/folders/7W/7WZl5sfZEF0pljrEB1UMWE+++TI/-Tmp-/tmp5wvcv6'</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="however_these_">However, these functions don’t really take care of further management.
For example, the <code class="literal">mkstemp()</code> function simply returns a raw OS file
descriptor and leaves it up to you to turn it into a proper file.
Similarly, it’s up to you to clean up the files if you want.</p>
<p id="normally_tempo">Normally, temporary files are created in the system’s default location,
such as <span class="emphasis"><em>/var/tmp</em></span> or similar. To find out the actual location,
use the <a id="id653951" class="indexterm"></a><code class="literal">tempfile.gettempdir()</code> function. For example:</p>
<pre class="programlisting" data-language="pycon" id="tempfilege"><code class="gp">&gt;&gt;&gt; </code><code class="n">tempfile</code><code class="o">.</code><code class="n">gettempdir</code><code class="p">()</code>
<code class="go">'/var/folders/7W/7WZl5sfZEF0pljrEB1UMWE+++TI/-Tmp-'</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="all_of_the_temp">All of the temporary-file-related functions allow you to override this
directory as well as the naming conventions using the <code class="literal">prefix</code>, <code class="literal">suffix</code>,
and <code class="literal">dir</code> keyword arguments.  For example:</p>
<pre class="programlisting" data-language="pycon" id="f__namedte"><code class="gp">&gt;&gt;&gt; </code><code class="n">f</code> <code class="o">=</code> <code class="n">NamedTemporaryFile</code><code class="p">(</code><code class="n">prefix</code><code class="o">=</code><code class="s">'mytemp'</code><code class="p">,</code> <code class="n">suffix</code><code class="o">=</code><code class="s">'.txt'</code><code class="p">,</code> <code class="nb">dir</code><code class="o">=</code><code class="s">'/tmp'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code><code class="o">.</code><code class="n">name</code>
<code class="go">'/tmp/mytemp8ee899.txt'</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="last_but_not_l_id11">Last, but not least, to the extent possible, the <code class="literal">tempfile()</code> module
creates temporary files in the most secure manner possible.  This
includes only giving access permission to the current user and taking
steps to avoid race conditions in file creation.  Be aware that
there can be differences between platforms.  Thus, you should make sure
to check <a class="ulink" href="http://docs.python.org/3/library/tempfile.html" target="_top">the official documentation</a> for the finer points.<a id="id654164" class="indexterm"></a><a id="id654174" class="indexterm"></a><a id="id654184" class="indexterm"></a><a id="id654194" class="indexterm"></a></p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="_communicating_with_serial_ports">
<div class="titlepage"><div><div><h2 class="title">Communicating with Serial Ports</h2></div></div></div>
<div class="sect2" id="_problem_92">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="ioserial_ports"><a id="ix_I_O_serial_ports_communicating_with" class="indexterm"></a><a id="ix_pySerial_package" class="indexterm"></a><a id="ix_serial_ports_communicating_with" class="indexterm"></a>You want to read and write data over a serial port, typically to interact with some kind of
hardware device (e.g., a robot or sensor).</p>
</div>
<div class="sect2" id="_solution_92">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="although_you_ca_id1">Although you can probably do this directly using Python’s built-in I/O primitives, your best bet for
serial communication is to use the <a class="ulink" href="http://pyserial.sourceforge.net/" target="_top">pySerial package</a>.  Getting
started with the package is very easy.  You simply open up a serial port using code like this:</p>
<pre class="programlisting" data-language="python" id="import_serial_s"><code class="kn">import</code> <code class="nn">serial</code>
<code class="n">ser</code> <code class="o">=</code> <code class="n">serial</code><code class="o">.</code><code class="n">Serial</code><code class="p">(</code><code class="s">'/dev/tty.usbmodem641'</code><code class="p">,</code>  <code class="c"># Device name varies</code>
                     <code class="n">baudrate</code><code class="o">=</code><code class="mi">9600</code><code class="p">,</code>
                     <code class="n">bytesize</code><code class="o">=</code><code class="mi">8</code><code class="p">,</code>
                     <code class="n">parity</code><code class="o">=</code><code class="s">'N'</code><code class="p">,</code>
                     <code class="n">stopbits</code><code class="o">=</code><code class="mi">1</code><code class="p">)</code></pre>
<p id="the_device_name">The device name will vary according to the kind of device and operating system.  For instance, on
Windows, you can use a device of 0, 1, and so on, to open up the communication ports such as "COM0" and "COM1."
Once open, you can read and write data using <code class="literal">read()</code>, <code class="literal">readline()</code>,  and <code class="literal">write()</code> calls.  For example:</p>
<pre class="programlisting" data-language="python" id="serwritebg_"><code class="n">ser</code><code class="o">.</code><code class="n">write</code><code class="p">(</code><code class="n">b</code><code class="s">'G1 X50 Y50</code><code class="se">\r\n</code><code class="s">'</code><code class="p">)</code>
<code class="n">resp</code> <code class="o">=</code> <code class="n">ser</code><code class="o">.</code><code class="n">readline</code><code class="p">()</code></pre>
<p id="for_the_most_pa_id4">For the most part, simple serial communication should be pretty simple from this point forward.</p>
</div>
<div class="sect2" id="_discussion_92">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="although_simple">Although simple on the surface, serial communication can sometimes get
rather messy.  One reason you should use a package such as pySerial is that
it provides support for advanced features (e.g., timeouts, control flow,
buffer flushing, handshaking, etc.).  For instance, if you want to
enable <a id="id654551" class="indexterm"></a>RTS-CTS handshaking, you simply provide a <code class="literal">rtscts=True</code>
argument to <code class="literal">Serial()</code>.   The provided documentation is excellent, so there’s
little benefit to paraphrasing it here.</p>
<p id="keep_in_mind_th">Keep in mind that all I/O involving serial ports is binary.  Thus, make
sure you write your code to use bytes instead of text (or perform
proper text encoding/decoding as needed).   The <code class="literal">struct</code> module may also be
useful should you need to create binary-coded commands or packets.<a id="id654586" class="indexterm"></a><a id="id654596" class="indexterm"></a><a id="id654606" class="indexterm"></a></p>
</div>
</div>
<div class="sect1" data-original-filename="chapter_5_files.asciidoc" id="_serializing_python_objects">
<div class="titlepage"><div><div><h2 class="title">Serializing Python Objects</h2></div></div></div>
<div class="sect2" id="_problem_93">
<div class="titlepage"><div><div><h3 class="title">Problem</h3></div></div></div>
<p id="datapickle_modu"><a id="ix_data_pickle_module_and" class="indexterm"></a><a id="ix_data_serializing" class="indexterm"></a><a id="ix_files_saving_objects_to" class="indexterm"></a><a id="ix_I_O_objects_serializing" class="indexterm"></a><a id="ix_objects_serializing" class="indexterm"></a><a id="ix_pickle_module" class="indexterm"></a>You need to serialize a Python object into a byte stream so that you can do things such as save it to a file,
store it in a database, or transmit it over a network connection.</p>
</div>
<div class="sect2" id="_solution_93">
<div class="titlepage"><div><div><h3 class="title">Solution</h3></div></div></div>
<p id="dump_function"><a id="id654740" class="indexterm"></a>The most common approach for serializing data is to use the <code class="literal">pickle</code>
module.  To dump an object to a file, you do this:</p>
<pre class="programlisting" data-language="python" id="import_pickle_d"><code class="kn">import</code> <code class="nn">pickle</code>

<code class="n">data</code> <code class="o">=</code> <code class="o">...</code>   <code class="c"># Some Python object</code>
<code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile'</code><code class="p">,</code> <code class="s">'wb'</code><code class="p">)</code>
<code class="n">pickle</code><code class="o">.</code><code class="n">dump</code><code class="p">(</code><code class="n">data</code><code class="p">,</code> <code class="n">f</code><code class="p">)</code></pre>
<p id="dumps_functio"><a id="id654874" class="indexterm"></a><a id="id654879" class="indexterm"></a><a id="id654885" class="indexterm"></a>To dump an object to a string, use <code class="literal">pickle.dumps()</code>:</p>
<pre class="programlisting" data-language="python" id="s__pickledump"><code class="n">s</code> <code class="o">=</code> <code class="n">pickle</code><code class="o">.</code><code class="n">dumps</code><code class="p">(</code><code class="n">data</code><code class="p">)</code></pre>
<p id="to_recreate_an">To re-create an object from a byte stream, use either the <code class="literal">pickle.load()</code> or <code class="literal">pickle.loads()</code> functions.
For example:</p>
<pre class="programlisting" data-language="python" id="restore_from_"><code class="c"># Restore from a file</code>
<code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somefile'</code><code class="p">,</code> <code class="s">'rb'</code><code class="p">)</code>
<code class="n">data</code> <code class="o">=</code> <code class="n">pickle</code><code class="o">.</code><code class="n">load</code><code class="p">(</code><code class="n">f</code><code class="p">)</code>

<code class="c"># Restore from a string</code>
<code class="n">data</code> <code class="o">=</code> <code class="n">pickle</code><code class="o">.</code><code class="n">loads</code><code class="p">(</code><code class="n">s</code><code class="p">)</code></pre>
</div>
<div class="sect2" id="_discussion_93">
<div class="titlepage"><div><div><h3 class="title">Discussion</h3></div></div></div>
<p id="for_most_progra">For most programs, usage of the <code class="literal">dump()</code> and <code class="literal">load()</code> function is all
you need to effectively use pickle.  It simply works with most Python
data types and instances of user-defined classes.  If you’re working
with any kind of library that lets you do things such as save/restore
Python objects in databases or transmit objects over the network,
there’s a pretty good chance that <code class="literal">pickle</code> is being used.</p>
<p id="pickle_is_a_pyt"><code class="literal">pickle</code> is a Python-specific self-describing data encoding.  By
self-describing, the serialized data contains information related to
the start and end of each object as well as information about its
type.  Thus, you don’t need to worry about defining records—it simply
works. For example, if working with multiple objects, you can do this:</p>
<pre class="programlisting" data-language="pycon" id="import_pick"><code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">pickle</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somedata'</code><code class="p">,</code> <code class="s">'wb'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">pickle</code><code class="o">.</code><code class="n">dump</code><code class="p">([</code><code class="mi">1</code><code class="p">,</code> <code class="mi">2</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">4</code><code class="p">],</code> <code class="n">f</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">pickle</code><code class="o">.</code><code class="n">dump</code><code class="p">(</code><code class="s">'hello'</code><code class="p">,</code> <code class="n">f</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">pickle</code><code class="o">.</code><code class="n">dump</code><code class="p">({</code><code class="s">'Apple'</code><code class="p">,</code> <code class="s">'Pear'</code><code class="p">,</code> <code class="s">'Banana'</code><code class="p">},</code> <code class="n">f</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code><code class="o">.</code><code class="n">close</code><code class="p">()</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s">'somedata'</code><code class="p">,</code> <code class="s">'rb'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">pickle</code><code class="o">.</code><code class="n">load</code><code class="p">(</code><code class="n">f</code><code class="p">)</code>
<code class="go">[1, 2, 3, 4]</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">pickle</code><code class="o">.</code><code class="n">load</code><code class="p">(</code><code class="n">f</code><code class="p">)</code>
<code class="go">'hello'</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">pickle</code><code class="o">.</code><code class="n">load</code><code class="p">(</code><code class="n">f</code><code class="p">)</code>
<code class="go">{'Apple', 'Pear', 'Banana'}</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="you_can_pickle_">You can pickle functions, classes, and instances, but the resulting data only
encodes name references to the associated code objects.  For example:</p>
<pre class="programlisting" data-language="pycon" id="import_math_id3"><code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">math</code>
<code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">pickle.</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">pickle</code><code class="o">.</code><code class="n">dumps</code><code class="p">(</code><code class="n">math</code><code class="o">.</code><code class="n">cos</code><code class="p">)</code>
<code class="go">b'\x80\x03cmath\ncos\nq\x00.'</code>
<code class="go">&gt;&gt;&gt;</code></pre>
<p id="when_the_data_i">When the data is unpickled, it is assumed that all of the required
source is available.  Modules, classes, and functions will
automatically be imported as needed.  For applications where Python
data is being shared between interpreters on different machines, this
is a potential maintenance issue, as all machines must have access to
the same source code.</p>
<div class="warning" id="load_function_id1"><p id="load_function_id2"><a id="id655675" class="indexterm"></a><a id="id655683" class="indexterm"></a><code class="literal">pickle.load()</code> should never be used
on untrusted data.  As a side effect of loading, <code class="literal">pickle</code> will
automatically load modules and make instances.  However, an evildoer
who knows how pickle works can create "malformed" data that causes
Python to execute arbitrary system commands.  Thus, it’s essential
that pickle only be used internally with interpreters that have some ability to authenticate one another.</p></div>
<p id="pickle_moduleli"><a id="id655714" class="indexterm"></a>Certain kinds of objects can’t be pickled.  These are typically
objects that involve some sort of external system state, such as open
files, open network connections, threads, processes, stack frames, and
so forth.  User-defined classes can sometimes work around these
limitations by providing <code class="literal">__getstate__()</code> and <code class="literal">__setstate__()</code>
methods.  If defined, <code class="literal">pickle.dump()</code> will call <code class="literal">__getstate__()</code> to
get an object that can be pickled.  Similarly, <code class="literal">__setstate__()</code> will
be invoked on unpickling.  To illustrate what’s
possible, here is a class that internally defines a thread but can
still be pickled/unpickled:</p>
<pre class="programlisting" data-language="python" id="countdownpy_"><code class="c"># countdown.py</code>
<code class="kn">import</code> <code class="nn">time</code>
<code class="kn">import</code> <code class="nn">threading</code>

<code class="k">class</code> <code class="nc">Countdown</code><code class="p">:</code>
    <code class="k">def</code> <code class="nf">__init__</code><code class="p">(</code><code class="bp">self</code><code class="p">,</code> <code class="n">n</code><code class="p">):</code>
        <code class="bp">self</code><code class="o">.</code><code class="n">n</code> <code class="o">=</code> <code class="n">n</code>
        <code class="bp">self</code><code class="o">.</code><code class="n">thr</code> <code class="o">=</code> <code class="n">threading</code><code class="o">.</code><code class="n">Thread</code><code class="p">(</code><code class="n">target</code><code class="o">=</code><code class="bp">self</code><code class="o">.</code><code class="n">run</code><code class="p">)</code>
        <code class="bp">self</code><code class="o">.</code><code class="n">thr</code><code class="o">.</code><code class="n">daemon</code> <code class="o">=</code> <code class="bp">True</code>
        <code class="bp">self</code><code class="o">.</code><code class="n">thr</code><code class="o">.</code><code class="n">start</code><code class="p">()</code>

    <code class="k">def</code> <code class="nf">run</code><code class="p">(</code><code class="bp">self</code><code class="p">):</code>
        <code class="k">while</code> <code class="bp">self</code><code class="o">.</code><code class="n">n</code> <code class="o">&gt;</code> <code class="mi">0</code><code class="p">:</code>
            <code class="k">print</code><code class="p">(</code><code class="s">'T-minus'</code><code class="p">,</code> <code class="bp">self</code><code class="o">.</code><code class="n">n</code><code class="p">)</code>
            <code class="bp">self</code><code class="o">.</code><code class="n">n</code> <code class="o">-=</code> <code class="mi">1</code>
            <code class="n">time</code><code class="o">.</code><code class="n">sleep</code><code class="p">(</code><code class="mi">5</code><code class="p">)</code>

    <code class="k">def</code> <code class="nf">__getstate__</code><code class="p">(</code><code class="bp">self</code><code class="p">):</code>
        <code class="k">return</code> <code class="bp">self</code><code class="o">.</code><code class="n">n</code>

    <code class="k">def</code> <code class="nf">__setstate__</code><code class="p">(</code><code class="bp">self</code><code class="p">,</code> <code class="n">n</code><code class="p">):</code>
        <code class="bp">self</code><code class="o">.</code><code class="n">__init__</code><code class="p">(</code><code class="n">n</code><code class="p">)</code></pre>
<p id="try_the_followi">Try the following experiment involving pickling:</p>
<pre class="programlisting" data-language="pycon" id="import_coun"><code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">countdown</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">c</code> <code class="o">=</code> <code class="n">countdown</code><code class="o">.</code><code class="n">Countdown</code><code class="p">(</code><code class="mi">30</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">T</code><code class="o">-</code><code class="n">minus</code> <code class="mi">30</code>
<code class="go">T-minus 29</code>
<code class="go">T-minus 28</code>
<code class="gp">...</code>

<code class="gp">&gt;&gt;&gt; </code><code class="c"># After a few moments</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s">'cstate.p'</code><code class="p">,</code> <code class="s">'wb'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="kn">import</code> <code class="nn">pickle</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">pickle</code><code class="o">.</code><code class="n">dump</code><code class="p">(</code><code class="n">c</code><code class="p">,</code> <code class="n">f</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">f</code><code class="o">.</code><code class="n">close</code><code class="p">()</code></pre>
<p id="now_quit_python">Now quit Python and try this after restart:</p>
<pre class="programlisting" data-language="pycon" id="f__openc"><code class="gp">&gt;&gt;&gt; </code><code class="n">f</code> <code class="o">=</code> <code class="nb">open</code><code class="p">(</code><code class="s">'cstate.p'</code><code class="p">,</code> <code class="s">'rb'</code><code class="p">)</code>
<code class="gp">&gt;&gt;&gt; </code><code class="n">pickle</code><code class="o">.</code><code class="n">load</code><code class="p">(</code><code class="n">f</code><code class="p">)</code>
<code class="go">countdown.Countdown object at 0x10069e2d0&gt;</code>
<code class="go">T-minus 19</code>
<code class="go">T-minus 18</code>
<code class="gp">...</code></pre>
<p id="you_should_see_">You should see the thread magically spring to life again, picking up
where it left off when you first pickled it.</p>
<p id="pickle_is_not_a"><code class="literal">pickle</code> is not a particularly efficient encoding for large data
structures such as binary arrays created by libraries like the
<code class="literal">array</code> module or <code class="literal">numpy</code>.  If you’re moving large amounts of array
data around, you may be better off simply saving bulk array data in a
file or using a more standardized encoding, such as HDF5 (supported by
third-party libraries).</p>
<p id="encoding_text_d_id3"><a id="id656624" class="indexterm"></a>Because of its Python-specific nature and attachment to
source code, you probably shouldn’t use <code class="literal">pickle</code> as a format for
long-term storage. For example, if the source code changes, all of
your stored data might break and become unreadable.  Frankly, for
storing data in databases and archival storage, you’re probably better off
using a more standard data encoding, such as XML, CSV, or JSON.
These encodings are more standardized, supported by many different
languages, and more likely to be better adapted to changes in your
source code.</p>
<p id="last_but_not_l_id12">Last, but not least, be aware that <code class="literal">pickle</code> has a huge variety of
options and tricky corner cases. For the most common uses, you don’t
need to worry about them, but a look at the <a class="ulink" href="http://docs.python.org/3/library/pickle.html" target="_top">official documentation</a> should
be required if you’re going to build a signficant application that
uses <code class="literal">pickle</code> for serialization.<a id="id656676" class="indexterm"></a><a id="id656687" class="indexterm"></a><a id="id656696" class="indexterm"></a><a id="id656707" class="indexterm"></a><a id="id656716" class="indexterm"></a><a id="id656726" class="indexterm"></a><a id="id656736" class="indexterm"></a><a id="id656745" class="indexterm"></a></p>
</div>
</div></section><footer><div class="navfooter">
<hr>
<table style="width: 100%; ">
<tbody><tr>
<td style="width: 40%; text-align: left; ">
<a accesskey="p" href="http://chimera.labs.oreilly.com/books/1230000000393/ch04.html">Prev</a>&nbsp;</td>
<td style="width: 20%; text-align: center; ">&nbsp;</td>
<td style="width: 40%; text-align: right; ">&nbsp;<a accesskey="n" href="http://chimera.labs.oreilly.com/books/1230000000393/ch06.html">Next</a>
</td>
</tr>
<tr>
<td style="width: 40%; text-align: left; vertical-align: top; ">Chapter&nbsp;4.&nbsp;Iterators and Generators&nbsp;</td>
<td style="width: 20%; text-align: center; "><a accesskey="h" href="http://chimera.labs.oreilly.com/books/1230000000393/index.html">Home</a></td>
<td style="width: 40%; text-align: right; vertical-align: top; ">&nbsp;Chapter&nbsp;6.&nbsp;Data Encoding and Processing</td>
</tr>
</tbody></table>
</div></footer>


	<div class="extra-footer">
		<p>© 2013, O’Reilly Media, Inc.</p>
		<ul>
			<li><a href="http://oreilly.com/terms/">Terms of Service</a></li>
			<li><a href="http://oreilly.com/oreilly/privacy.csp">Privacy Policy</a></li>
			<li>Interested in <a href="mailto:scordesse@oreilly.com">sponsoring content?</a></li>
		</ul>
	</div>
<script type="text/javascript">if (!NREUMQ.f) { NREUMQ.f=function() {
NREUMQ.push(["load",new Date().getTime()]);
var e=document.createElement("script");
e.type="text/javascript";
e.src=(("http:"===document.location.protocol)?"http:":"https:") + "//" +
  "js-agent.newrelic.com/nr-100.js";
document.body.appendChild(e);
if(NREUMQ.a)NREUMQ.a();
};
NREUMQ.a=window.onload;window.onload=NREUMQ.f;
};
NREUMQ.push(["nrfj","beacon-3.newrelic.com","3e361aebcf","2194180","IApbRUBZXg1WEEoHDAwORh5aQl8N",28,64,new Date().getTime(),"","","","",""]);</script>
<script src="Python%20Cookbookch5_files/nr-100.js" type="text/javascript"></script><iframe data-captureiframeloadeventbound="yes" class="" style="display: none;" src="Python%20Cookbookch5_files/a.html" id="captureIFrame_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" data-transactionid="fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" name="captureIFrame_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb"></iframe><div style="left: 0px; top: 0px; bottom: 0px; right: 0px; position: fixed; background-color: rgb(0, 0, 0); opacity: 0.4; display: none; z-index: 1000;" id="janrainModalOverlay"></div><div style="width: 380px; height: 131px; position: absolute; z-index: 1000; display: none;" id="janrainModal"><a class="janrain_modal_closebutton" href="#" style="position: absolute; cursor: pointer; z-index: 1000;"><span class="janrain-icon-16 janrain-icon-ex2"></span></a><div data-captureventadded="true" data-capturescreenname="signIn" class="janrain-capture-ui capture-ui-content capture_screen_container" style="display: block;" id="signIn">
    <div class="capture_signin">
      <h2>Log in</h2>
      <form next="{&quot;noop&quot;:&quot;&quot;}" id="capture_signIn_userInformationForm" name="userInformationForm" data-capturefield="userInformationForm" action="https://oreilly.janraincapture.com/widget/traditional_signin.jsonp" class="capture_form capture_userInformationForm" method="POST" novalidate="novalidate" data-transactionid="fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" target="captureIFrame_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" accept-charset="UTF-8"><div id="capture_signIn_userInformationForm_defaultSavedProfileMessage"></div><div id="capture_signIn_userInformationForm_errorMessages"></div><input id="capture_signIn_utf8" data-capturefield="undefined" value="✓" class="capture_utf8" name="utf8" type="hidden"><input id="capture_signIn_screen_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" data-capturefield="undefined" value="signIn" class="capture_screen_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" name="capture_screen" type="hidden"><input id="capture_signIn_js_version_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" data-capturefield="undefined" value="fdb2cc1" class="capture_js_version_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" name="js_version" type="hidden"><input id="capture_signIn_transactionId_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" data-capturefield="undefined" value="fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" class="capture_transactionId_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" name="capture_transactionId" type="hidden"><input id="capture_signIn_form_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" data-capturefield="undefined" value="userInformationForm" class="capture_form_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" name="form" type="hidden"><input id="capture_signIn_flow_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" data-capturefield="undefined" value="signIn" class="capture_flow_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" name="flow" type="hidden"><input id="capture_signIn_client_id_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" data-capturefield="undefined" value="6n5q2k9vesqgn93k3mhevka6c3c3rsre" class="capture_client_id_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" name="client_id" type="hidden"><input id="capture_signIn_redirect_uri_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" data-capturefield="undefined" value="http://stupidsettings.com" class="capture_redirect_uri_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" name="redirect_uri" type="hidden"><input id="capture_signIn_response_type_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" data-capturefield="undefined" value="code" class="capture_response_type_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" name="response_type" type="hidden"><input id="capture_signIn_flow_version_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" data-capturefield="undefined" value="a179175c-cf4f-416b-b3c3-fc409a6089fa" class="capture_flow_version_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" name="flow_version" type="hidden"><input id="capture_signIn_settings_version_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" data-capturefield="undefined" value="" class="capture_settings_version_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" name="settings_version" type="hidden"><input id="capture_signIn_locale_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" data-capturefield="undefined" value="en-US" class="capture_locale_fckozndh8kq2zwc1yo9u8oexxtbte21h7fb6p7vb" name="locale" type="hidden">
        <div id="capture_signIn_form_item_traditionalSignIn_emailAddress" class="capture_form_item capture_email capture_form_item_traditionalSignIn_emailAddress" data-capturefield="undefined"><input id="capture_signIn_traditionalSignIn_emailAddress" data-capturefield="traditionalSignIn_emailAddress" class="capture_traditionalSignIn_emailAddress capture_required capture_text_input" placeholder="email address" name="traditionalSignIn_emailAddress" type="email"><div class="capture_tip" style="display:none;"></div><div class="capture_tip_validating" data-elementname="traditionalSignIn_emailAddress">Validating</div><div class="capture_tip_error" data-elementname="traditionalSignIn_emailAddress"></div></div>
        <div id="capture_signIn_form_item_traditionalSignIn_password" class="capture_form_item capture_password capture_form_item_traditionalSignIn_password" data-capturefield="undefined"><input id="capture_signIn_traditionalSignIn_password" data-capturefield="traditionalSignIn_password" value="" class="capture_traditionalSignIn_password capture_required capture_text_input" placeholder="password" name="traditionalSignIn_password" type="password"><div class="capture_tip"><a href="#" data-capturescreen="forgotPassword">Forgot your password?</a></div><div class="capture_tip_validating" data-elementname="traditionalSignIn_password">Validating</div><div class="capture_tip_error" data-elementname="traditionalSignIn_password"></div></div>
        <div class="capture_rightText">
          <button id="capture_signIn_traditionalSignIn_signInButton" class="capture_secondary capture_btn_half capture_traditionalSignIn_signInButton capture_btn capture_primary" type="submit" data-capturefield="traditionalSignIn_signInButton" value="Sign In" name="traditionalSignIn_signInButton"><span class="janrain-icon-16 janrain-icon-key"></span> Sign In</button><button id="capture_signIn_traditionalSignIn_createButton" class="capture_secondary capture_btn_half capture_traditionalSignIn_createButton capture_btn capture_primary" type="submit" data-capturefield="traditionalSignIn_createButton" value="Create Account" name="traditionalSignIn_createButton"><span class="janrain-icon-16 janrain-icon-plus"></span> Create Account</button>
        </div>
      </form>
    </div>
    <div class="capture_signin">
      <h2>Log in with a social account</h2>
      <div id="capture_signIn_login_widget" class="login_widget capture_login_widget" data-capturefield="undefined"><div style="display: block;" id="janrainEngageEmbed"><div style="width: 348px; height: 79px; padding-left: 5px; padding-right: 5px; background-color: rgb(255, 255, 255); border: 1px solid rgb(255, 255, 255); border-radius: 5px; overflow: hidden; position: relative;" class="janrainContent"><div id="janrainView"><div style="padding-top: 5px; left: 5px; top: 0px; position: absolute;" id="janrainProviderPages"><div pageindex="0" class="janrainPage"><ul style="float: left; list-style-type: none; margin: 0px; padding: 0px;" id="janrainProviders_0" class="providers"><li role="button" id="janrain-facebook" style="list-style: none outside none; height: 30px; width: 169px; margin-top: 0px; margin-right: 5px; margin-bottom: 5px; position: relative; border: 1px solid rgb(204, 204, 204); border-radius: 5px; cursor: pointer; white-space: nowrap; overflow: hidden; background-image: -moz-linear-gradient(center bottom , rgb(238, 238, 238), rgb(255, 255, 255));"><a href="javascript:void(0);" style="font-family: Helvetica,lucida grande,Verdana,sans-serif; font-size: 12px; line-height: 14px; margin-left: auto; margin-right: auto; text-decoration: none; display: block; padding-left: 5px; padding-right: 5px; text-align: left; width: auto;" tabindex="1"><span style="margin-top: 3px; background-color: transparent;" class="janrain-provider-icon-24 janrain-provider-icon-facebook"></span><span style="font-family: Helvetica,Lucida Grande,Verdana,sans-serif; cursor: pointer; margin-left: 7px; text-align: left; margin-top: 9px; vertical-align: top; display: inline-block;" class="janrain-provider-text-color-facebook">Facebook</span></a></li><li role="button" id="janrain-google" style="list-style: none outside none; height: 30px; width: 169px; margin-top: 0px; margin-right: 5px; margin-bottom: 5px; position: relative; border: 1px solid rgb(204, 204, 204); border-radius: 5px; cursor: pointer; white-space: nowrap; overflow: hidden; background-image: -moz-linear-gradient(center bottom , rgb(238, 238, 238), rgb(255, 255, 255));"><a href="javascript:void(0);" style="font-family: Helvetica,lucida grande,Verdana,sans-serif; font-size: 12px; line-height: 14px; margin-left: auto; margin-right: auto; text-decoration: none; display: block; padding-left: 5px; padding-right: 5px; text-align: left; width: auto;" tabindex="3"><span style="margin-top: 3px; background-color: transparent;" class="janrain-provider-icon-24 janrain-provider-icon-google"></span><span style="font-family: Helvetica,Lucida Grande,Verdana,sans-serif; cursor: pointer; margin-left: 7px; text-align: left; margin-top: 9px; vertical-align: top; display: inline-block;" class="janrain-provider-text-color-google">Google</span></a></li></ul><ul style="float: left; list-style-type: none; margin: 0px; padding: 0px;" id="janrainProviders_1" class="providers"><li role="button" id="janrain-twitter" style="list-style: none outside none; height: 30px; width: 169px; margin-top: 0px; margin-right: 5px; margin-bottom: 5px; position: relative; border: 1px solid rgb(204, 204, 204); border-radius: 5px; cursor: pointer; white-space: nowrap; overflow: hidden; background-image: -moz-linear-gradient(center bottom , rgb(238, 238, 238), rgb(255, 255, 255));"><a href="javascript:void(0);" style="font-family: Helvetica,lucida grande,Verdana,sans-serif; font-size: 12px; line-height: 14px; margin-left: auto; margin-right: auto; text-decoration: none; display: block; padding-left: 5px; padding-right: 5px; text-align: left; width: auto;" tabindex="2"><span style="margin-top: 3px; background-color: transparent;" class="janrain-provider-icon-24 janrain-provider-icon-twitter"></span><span style="font-family: Helvetica,Lucida Grande,Verdana,sans-serif; cursor: pointer; margin-left: 7px; text-align: left; margin-top: 9px; vertical-align: top; display: inline-block;" class="janrain-provider-text-color-twitter">Twitter</span></a></li><li role="button" id="janrain-linkedin" style="list-style: none outside none; height: 30px; width: 169px; margin-top: 0px; margin-right: 5px; margin-bottom: 5px; position: relative; border: 1px solid rgb(204, 204, 204); border-radius: 5px; cursor: pointer; white-space: nowrap; overflow: hidden; background-image: -moz-linear-gradient(center bottom , rgb(238, 238, 238), rgb(255, 255, 255));"><a href="javascript:void(0);" style="font-family: Helvetica,lucida grande,Verdana,sans-serif; font-size: 12px; line-height: 14px; margin-left: auto; margin-right: auto; text-decoration: none; display: block; padding-left: 5px; padding-right: 5px; text-align: left; width: auto;" tabindex="4"><span style="margin-top: 3px; background-color: transparent;" class="janrain-provider-icon-24 janrain-provider-icon-linkedin"></span><span style="font-family: Helvetica,Lucida Grande,Verdana,sans-serif; cursor: pointer; margin-left: 7px; text-align: left; margin-top: 9px; vertical-align: top; display: inline-block;" class="janrain-provider-text-color-linkedin">LinkedIn</span></a></li></ul></div></div></div></div></div></div> <br>
    </div>
  </div></div><script src="Python%20Cookbookch5_files/3e361aebcf" type="text/javascript"></script></body></html>