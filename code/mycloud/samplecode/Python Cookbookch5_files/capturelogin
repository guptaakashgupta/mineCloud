/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: 2014.WID.1.99.4_widgets_383
 -*- Capture UI Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: 2014.WID.1.99.4_widgets_383
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var $b,Cb,Db,Gc,nd,te,ue,hb,Rd,ve,we,xe,ye,mb,nb;function ac(a){janrain.ready?a():document.addEventListener?document.addEventListener("DOMContentLoaded",a,!1):window.attachEvent("onload",a)}function od(){var a;a="http:"===document.location.protocol?"http://cdn.quilt.janrain.com/2.2.14/":"https://d3hmp0045zy3cs.cloudfront.net/2.2.14/";if(janrain.settings.capture&&janrain.settings.capture.quiltVersion){a=a.split("/");if("cdn.quilt.janrain.com"===a[2]||"d3hmp0045zy3cs.cloudfront.net"===
a[2])a[a.length-2]=janrain.settings.capture.quiltVersion;a=a.join("/")}janrain.settings.capture&&janrain.settings.capture.quiltUrl&&(a=janrain.settings.capture.quiltUrl+"/2.2.14/");return a}function sa(a){function b(Sa){var t=a(Sa);j&&0===Sa%j&&n.error(s);t||(Sa<g?c=setTimeout(function(){b(Sa+1)},e):(n.warn("A poll operation failed."),G()))}var c,e=100,g=1,j=0,s="",G=function(){},a="function"===typeof a?a:function(){return!0};return{start:function(){b(1);return this},stop:function(){clearTimeout(c);
return this},setDelay:function(a){"number"===typeof a&&0<a&&(e=a);return this},setMaxAttempts:function(a){"number"===typeof a&&0<a&&(g=a);return this},setFailCallback:function(a){"function"===typeof a&&(G=a);return this},errorEvery:function(a,b){"number"===typeof a&&0<a&&"string"===typeof b&&(j=a,s=b);return this}}}function Hc(a,b,c){var e;if(document.getElementById(a))return!1;if(f){e="";var g=document.createElement("div");g.innerHTML=e+"<iframe "+('name="'+a+'" ')+('id="'+a+'" ')+('src="'+b+'" ')+
'style="display: none;"></iframe>';document.body&&document.body.appendChild(g);e=document.getElementById(a)}else e=document.createElement("iframe"),e.setAttribute("name",a),e.id=a,e.setAttribute("src",b),e.style.display="none",document.body&&document.body.appendChild(e);"function"===typeof c&&c();return e}function Ja(a){for(var b="",c=0;c<a;)b+=Ja.possible[Math.floor(Math.random()*Ja.possible.length)],c++;return b}function Ic(){function a(a,b,c,e){b={action:a,key:b,messageId:c};"set"===a&&(b.value=
e);return"janrainCapture:"+H.stringify(b)}function b(a,b){sa(function(){return"undefined"!==typeof s[a]?("get"===s[a].action&&"function"===typeof b&&b(s[a].storedValue),!0):!1}).setDelay(50).setMaxAttempts(10).setFailCallback(function(){n.warn("Poll that checks message queue for request failed. requestId: "+a)}).start()}function c(c,e){var j=Ja(40);window.setTimeout(function(){G.contentWindow.postMessage(a("get",c,j),Sa)});b(j,e)}function e(a,b){if(j)Jc?c(a,b):setTimeout(function(){e(a,b)},50);else return window.localStorage.getItem(a)}
function g(a){if(0!==a.data.indexOf("janrainCapture:")||!z(t,a.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;a=H.parse(a.data.replace("janrainCapture:",""));s[a.messageId]=a}var j=!1,s={},G,Sa,t=janrain.settings&&janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(c,e){if(j){var g=Ja(40);window.setTimeout(function(){G.contentWindow.postMessage(a("set",c,g,e),Sa)});return b(g)}return window.localStorage.setItem(c,e)},removeItem:function(c){if(j){var e=
Ja(40);window.setTimeout(function(){G.contentWindow.postMessage(a("remove",c,e),Sa)});return b(e)}return window.localStorage.removeItem(c)},getItem:e,setMultiDomain:function(a){if(j=a)window.addEventListener?window.addEventListener("message",g,!1):window.attachEvent?window.attachEvent("onmessage",g):document.attachEvent&&document.attachEvent("onmessage",g),G=document.getElementById("xDomainLocalStorageJanrain"),Sa=janrain.settings.storageServerDomain}}}function w(){function a(){if(g&&pc){var a=new Ic;
a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.removeItem(e);a.removeItem(e+"_Expires")}else{var a=s?"; domain="+s:"",b=new Date;b.setTime(b.getTime()+-864E6);document.cookie=e+"="+j+";expires="+b.toUTCString()+a+"; path="+G}}function b(b,c,j){var s,G,h,f,n,j="undefined"===typeof j?!0:j;if(g&&pc)if(n=new Ic,janrain.settings.multiDomainLocalStorage)n.setMultiDomain(!0),n.getItem(b,function(g){g?j?n.getItem(b+"_Expires",function(j){j?Math.round((new Date).getTime()/1E3)>Math.round((new Date(j)).getTime()/
1E3)?(e=b,a(),"function"===typeof c&&c(!1)):"function"===typeof c&&c(g):(new w).getCookie(b+"_session")?"function"===typeof c&&c(g):(e=b,a())}):"function"===typeof c&&c(g):"function"===typeof c&&c(!1)});else if(f=n.getItem(b),s=n.getItem(b+"_Expires"),f){if(!j||!(s&&Math.round((new Date).getTime()/1E3)>Math.round((new Date(s)).getTime()/1E3))&&(s||(new w).getCookie(b+"_session")))return f;e=b;a()}else return!1;else{s=document.cookie.split(";");G=s.length;for(var o=0;o<G;o++)if(h=s.pop(),f=h.split("="),
h=f[0],f=f[1],h.trim()===b)return f;return!1}}var c,e,g=!1,j,s,G="/";return{create:function(){if(g&&pc){var a=new Ic;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.setItem(e,j);c?a.setItem(e+"_Expires",c):(new w).setName(e+"_session").setValue("session").create()}else document.cookie=e+"="+j+(c?"; expires="+c:"")+(s?"; domain="+s:"")+"; path="+G},remove:a,setExpirationDirectly:function(a){a&&(c=a);return this},setExpiration:function(a){if(a){var b=new Date;b.setTime(b.getTime()+864E5*
a);c=b.toUTCString()}return this},setName:function(a){a&&(e=a);return this},setValue:function(a){"undefined"!==typeof a&&(j=a);return this},setUseLocalStorage:function(a){g=a;return this},setPath:function(a){a&&(G=a);return this},setDomain:function(a){a&&(s=a);return this},getCookie:function(a,c,e){return b(a,c,e)}}}function bc(a,b){a=a||navigator.appName;b=b||ta;return"Microsoft Internet Explorer"===a&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(b)?parseFloat(RegExp.$1):!1}function Kc(a){a=a||ta;return!/CriOS\//.test(a||
ta)&&!/Chrome\//.test(a||ta)&&/Safari\//.test(a)}function pd(a){a=a||ta;return-1<a.indexOf("iPod")?"iPod":-1<a.indexOf("iPhone")?"iPhone":-1<a.indexOf("iPad")?"iPad":0}function ua(a,b,c,e,g,j){"number"===typeof c&&"number"===typeof e&&"number"===typeof g&&"number"===typeof j?("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=c+"px "+e+"px "+g+"px "+j+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=c+"px "+e+"px "+g+"px "+j+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&
(a.style.webkitBorderRadius=c+"px "+e+"px "+g+"px "+j+"px")):("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=b+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=b+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=b+"px"));return a}function Eb(a,b){if("undefined"===typeof a||"undefined"===typeof b)return!1;var c=a-b;0>c&&(c=0);c>a&&(c=a);return c}function Lc(a,b){if(f&&(9>=f||document.documentMode&&9>=document.documentMode))return a.style.backgroundImage=
"url('"+qc("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+"')",!0;var c;if(c=Kc()){a:{if((c=ta)&&Kc(c))if((c=c.match(/ Version\/(\d)[\d\.]+ /))&&c[1]){c=1*c[1];break a}c=0}c=4>=c}if(c||Ma.getMobileDevice()){var e=c="",g="",j=b.split(","),s={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};j[0]&&s[j[0]]&&(c=s[j[0]]);j[1]&&(e="from("+j[1]+")");j[j.length-1]&&(g="to("+j[j.length-1]+")");a.style.backgroundImage="-webkit-gradient(linear,"+
c+","+e+","+g+")"}a.style.backgroundImage="-moz-linear-gradient("+b+")";a.style.backgroundImage="-webkit-linear-gradient("+b+")";a.style.backgroundImage="-ms-linear-gradient("+b+")";a.style.backgroundImage="-o-linear-gradient("+b+")";a.style.backgroundImage="linear-gradient("+b+")"}function Ob(a,b,c,e){var g=Mc(c),j=Mc(c,e);if(c=Td(c))c.a=e,j="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")";if(0<b){a.style.backgroundColor=g;a.style.padding=b+"px";if(0<f&&8>=f||f&&ea)return!1;a.style.backgroundColor=j;a.style.padding=
b+"px"}else a.style.backgroundColor="",a.style.padding="0px"}function Td(a){var b={};if("string"!==typeof a||!a)return!1;a=a.replace(/\s+/g,"");a=a.replace(/,{2,}/g,",");a=a.replace(/[^\d.,]/g,"");a=a.split(",");if(3>a.length||4<a.length)return!1;b.r=a[0];b.g=a[1];b.b=a[2];b.a=a[3]?a[3]:1;return b}function Mc(a,b){var c=a.split("");if("#"!==c[0])return a;4===a.length&&(a=c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);var a=a.substring(1,7),c=parseInt(a.substring(0,2),16),e=parseInt(a.substring(2,4),16),g=parseInt(a.substring(4,
6),16);return isNaN(b)?"rgb("+c+","+e+","+g+")":"rgba("+c+","+e+","+g+","+b+")"}function y(a,b,c){if(null==a)return!1;"object"===typeof window.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)}function Fb(a,b){if(document.createEvent){var c=document.createEvent("HTMLEvents");c.initEvent(b,!1,!1);a.dispatchEvent(c)}else document.createEventObject&&a.fireEvent("on"+b)}function Gb(a,b,c){"object"===typeof window.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener(b,c,!1)}function rc(){var a,
b;"undefined"!=typeof window.innerWidth?(a=window.innerWidth,b=window.innerHeight):(a=document.documentElement.offsetWidth,b=document.documentElement.offsetHeight);return{width:a,height:b}}function Hb(a){return{width:a.style&&a.style.width?parseInt(a.style.width):a.offsetWidth?parseInt(a.offsetWidth):0,height:a.style&&a.style.height?parseInt(a.style.height):a.offsetHeight?parseInt(a.offsetHeight):0}}function Be(a,b){var c=document.getElementById(a);if(!c)return null;if("object"===typeof c.currentStyle)var e=
c.currentStyle[b];else window.getComputedStyle&&(e=document.defaultView.getComputedStyle(c,null).getPropertyValue(b));return e}function Ud(a){var b,c,e,g;if("string"!==typeof a)return!1;a=a.trim();if(0===a.length)return!1;b=document.createElement("a");-1===a.indexOf("//")?a="http://"+a:0===a.indexOf("//")&&(a="http:"+a);"#"===a.charAt(a.length-1)&&(a=a.slice(0,a.length-1));b.href=a;if(2>b.protocol.length||""===b.host||0===b.hostname.length)return!1;g=""!==b.port&&"0"!==b.port&&"21"!==b.port&&"80"!==
b.port&&"443"!==b.port;e="/"!==b.pathname.charAt(0);c=-1<a.indexOf(b.hostname+(g?":"+b.port:"")+(e?"/":"")+b.pathname+b.search+b.hash);b=b.protocol+"//"+b.hostname+(g?":"+b.port:"")+(c?(e?"/":"")+b.pathname:"")+b.search+b.hash;c=encodeURI(a);return 0===b.indexOf(a)||0===b.indexOf(c)?b:!1}function P(a,b,c,e,g){var j=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,s=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("array"===a){if(!q(e))return g||F.log(e+" is wrong type, must be array, using default value instead"),
c;if(b&&q(b))for(var G=0;G<e.length;G++)if(0>b.indexOf(e[G]))return g||F.log(e+" is not within the valid range, using default value instead"),c;return e}if("url"===a){if("string"!==typeof e)return c;e=e.trim();if(0===e.length)return c;if(G=Ud(e))return G;g||F.log(e+" failed url validation, please double check the url.");return e}if("text"===a){if(b){if(0<=b.indexOf(e))return e;g||F.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');
return c}return j.test(e)?e:c}if("usertext"===a){if("string"!==typeof e&&"number"!==typeof e)return c;if(q(b)){if(1===b.length){if(e.length<=b[0])return e;g||F.log(e+" is too long, using default value instead");return c}if(2===b.length){if(e.length<=b[1]&&e.length>=b[0])return e;g||F.log(e+" is not within the valid range, using default value instead");return c}g||F.log("usertext range is invalid, using default value instead");return c}return e}"string"===typeof e&&0==e.length&&(e=" ");if(!j.test(e))return g||
F.log(e+" contains invalid character(s)"),c;if("boolean"===a){if("boolean"===typeof e)return e;g||F.log(e+" is wrong type, must be boolean, using default value instead");return c}if("text"===a)return e;if("number"===a){if(isNaN(parseInt(e)))return g||F.log(e+" is wrong type, must be a valid number"),c;e=parseFloat(e)}if("color"===a){e&&(e=e.trim());if("transparent"===e||s.test(e))return e;g||F.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+
c+'" instead');return c}if(typeof e!=a&&"color"!=a)return g||F.log(e+" for "+arguments.callee.caller.name+" is "+typeof e+" expected "+a),c;if("object"===typeof b&&"string"===a){if(0<=b.indexOf(e))return e;g||F.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if("object"===typeof b&&"number"===a){2===b.length?(j=b[0],s=b[1]):(j=b.shift(),s=b.pop(),G=b);if(e<j)return g||F.log("Value of "+e+" for "+arguments.callee.caller.name+
" is below minimum of "+j+", using minimum value of "+j+" instead"),j;if(e>s)return g||F.log("Value of "+e+" for "+arguments.callee.caller.name+" is above maximum of "+s+", using maximum value of "+s+" instead"),s;if(G&&"number"===typeof G.indexOf(e)||e==j||e==s)return e;return G?(g||F.log("Value of "+e+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+c+" instead"),c):e}return 0!=e&&!e?c:e}function Ib(a){for(var b=Ib.options,a=b.parser[b.strictMode?"strict":"loose"].exec(a),
c={},e=14;e--;)c[b.key[e]]=a[e]||"";c[b.q.name]={};c[b.key[12]].replace(b.q.parser,function(a,e,s){e&&(c[b.q.name][e]=s)});return c}function Qa(a){return document.getElementById(M(a).getAttribute("id"))}function M(a){return a.target?a.target:a.srcElement}function qd(a,b){function c(a){o=!0;"undefined"!==typeof h&&clearTimeout(h);if("string"===typeof a)return"function"===typeof G&&G(a),!0;if("object"===typeof a||"undefined"===typeof a)return"object"===typeof a&&"error"===a.type?"function"===typeof G&&
G(a):"function"===typeof g&&g(),!0}function e(){sa(function(){return o}).setDelay(50).setMaxAttempts(j).setFailCallback(function(){n.warn("Polling for script loader failed. src: "+a);c("Load Timeout Error")}).start()}var g=b,j=200,s=!1,G,h,t=document.createElement("script"),f=document.getElementsByTagName("script")[0],o=!1;t.src=a;t.setAttribute("type","text/javascript");t.onload=t.onerror=t.onreadystatechange=function(a){!o&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&
c(a)};return{setTimeoutCallback:function(a){s=!0;G=a;return this},setCallback:function(a){g=a;return this},setTimeoutLimit:function(a){j=a;return this},load:function(){f.parentNode.insertBefore(t,f);s&&e()}}}function va(a,b){qd(a,b).load()}function Ce(a,b){f&&9>f&&sc(a,b)}function sc(a,b,c){function e(c){cssNotFound=!1;"function"===typeof b&&b();var e=janrain.events.onCssLoad,c={source:a,noload:c,save:!0};e.fire(c);e.permaArgs||(e.permaArgs=[]);e.permaArgs.push(c)}function g(){sa(function(){for(h=
G.length;0<=--h;)if(G[h].href===s.href)return e(),!0;return!1}).setDelay(50).setMaxAttempts(200).setFailCallback(function(){n.warn("Dynamic stylesheet poll check failed.");e(!0)}).start()}function j(){sa(function(){e();return!0}).setDelay(50).setMaxAttempts(200).setFailCallback(function(){n.warn("Dynamic stylesheet poll check failed.")}).start()}if(z(rd,a))c&&"function"===typeof b&&b();else{rd.push(a);var s,G=document.styleSheets,h;"undefined"===typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=
new ub);Nc?(s=document.createElement("style"),s.innerHTML='@import "'+a+'";'):(s=document.createElement("link"),s.rel="stylesheet",s.href=a,s.type="text/css");Oc||Nc?(Oc&&g(),Nc&&j()):(s.onload=function(){e()},s.onerror=function(){e(!0)});document.getElementsByTagName("head")[0].appendChild(s)}}function o(a){var b;b=a&&a.className?a.className.split(" "):[];return{append:function(c){-1===b.indexOf(c)&&(b.push(c),a&&(a.className=b.join(" ")));return this},remove:function(c){-1!==b.indexOf(c)&&(b.splice([b.indexOf(c)],
1),a&&(a.className=b.join(" ").trim()));return this},has:function(a){return-1!==b.indexOf(a)}}}function De(a,b){wa(a.style,b)}function ma(a,b){a.appendChild(document.createTextNode(b))}function vb(a,b){a.innerHTML="";ma(a,b)}function Vd(a){for(var b=a.lastChild;b;)a.removeChild(b),b=a.lastChild}function Wd(a){var b=typeof a;return("number"===b||"string"===b&&0<a.length)&&Wa(a)?parseFloat(a):null}function ob(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getMonth())}function q(a){return"[object Array]"===
Object.prototype.toString.call(a)}function Jb(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)}function z(a,b){return!q(a)?!1:-1<a.indexOf(b)}function S(a,b){for(var c in a)za(a,c)&&b.call(a[c],c,a[c]);return a}function Aa(a,b){if("undefined"===typeof b||0===b.length||!Jb(a)&&!q(a))return a;for(var c=b.split("."),e=a,g=0,j=c.length;g<j&&!(e=e[c[g]],void 0===e||null===e);++g);return e}function U(a,b,c){for(var e=0,g=a.length;e<g;e++)b.call(c,a[e],e,a)}function Pc(a){a()}function Pb(a){a&&
a.parentNode&&a.parentNode.removeChild(a);return a}function Xd(a,b){for(var c=b.parentNode;null!=c;){if(c==a)return!0;c=c.parentNode}return!1}function W(a){var b=q(a)?[]:{},c;for(c in a)za(a,c)&&(b[c]=W.isCloneable(a[c])?W(a[c]):a[c]);return b}function Qc(a,b){var c=[],e=!(b&&!1===b.encode),g=b&&!0===b.allowDupes;S(a,function(a,b){var h=g&&q(b)?b:[b];c.push.apply(c,h.map(function(b){return e?encodeURIComponent(a)+"="+encodeURIComponent(b):a+"="+b}))});return(c.length?"?":"")+c.join("&")}function af(a,
b){for(var c,e={},g=a.split(b||"&"),j=0,s=g.length;j<s;j++)c=g[j].split("="),c[0]&&(e[c[0]]=c[1]);return e}function sd(a,b,c){if(!a)return"";if(!b)return a;var e=Ib(a),a=e.protocol+"://"+e.authority+e.path,g=e.anchor?"#"+e.anchor:"",j={};S(b,function(a,b){var e=c&&q(b)?b:[b];j[encodeURIComponent(a)]=e.map(encodeURIComponent)});b=Qc(wa(e.queryKey,j),{encode:!1,allowDupes:c});return a+b+g}function Yd(a,b){S(b,function(b,e){za(a,b)?q(a[b])?a[b].push(e):a[b]=[a[b],e]:a[b]=e});return a}function Q(a){if(!a)return!1;
if(a.preventDefault)a.preventDefault();else try{a.returnValue=!1}catch(b){}}function Rc(a){if(!a)return!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function bf(a){var b;a&&(b=pb(a.getElementsByTagName("input")),b=b.concat(pb(a.getElementsByTagName("button"))),b=Ee(b,{type:"submit"})[0]);return b}function Wa(a){return!isNaN(parseFloat(a))&&isFinite(a)}function Fe(a){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a)){var b=a.split("/"),a=parseInt(b[1],10),c=parseInt(b[0],10),b=parseInt(b[2],10),
e=new Date(b,c-1,a);return e.getFullYear()==b&&e.getMonth()==c-1&&e.getDate()==a?!0:!1}return!1}function Xa(a,b,c){var e,g=Ge,j=cf;void 0===a&&(a="{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}");void 0===b&&(b=new Date);c&&(c.monthNames&&q(c.monthNames)&&12===c.monthNames.length&&(g=c.monthNames),c.dayNames&&q(c.dayNames)&&7===c.dayNames.length&&(j=c.dayNames));c=function(){var a=b.getHours();12<a&&(a-=12);0===a&&(a=12);return a};e=function(a){return 10>a?"0"+a:a};a=a.replace(/{yyyy}/g,b.getFullYear());
a=a.replace(/{month}/g,g[b.getMonth()]);a=a.replace(/{mmm}/g,g[b.getMonth()].substring(0,3));a=a.replace(/{day}/g,j[b.getDay()]);a=a.replace(/{0m}/g,e(b.getMonth()+1));a=a.replace(/{m}/g,b.getMonth()+1);a=a.replace(/{0d}/g,e(b.getDate()));a=a.replace(/{d}/g,b.getDate());a=a.replace(/{ord}/g,function(){var a=["th","st","nd","rd"],c=b.getDate()%100;return a[(c-20)%10]||a[c]||a[0]}());a=a.replace(/{0hour}/g,e(c()));a=a.replace(/{hour}/g,c());a=a.replace(/{0h}/g,e(b.getHours()));a=a.replace(/{h}/g,b.getHours());
a=a.replace(/{minute}/g,e(b.getMinutes()));a=a.replace(/{second}/g,e(b.getSeconds()));return a=a.replace(/{ampm}/g,11<b.getHours()?"PM":"AM")}function td(a,b,c){function e(){var a=f.search(t);if(-1===a)return!1;var b=f.substring(a,a+2);isNaN(b)||12<b?(h.setMonth(f.substring(a,a+1)-1),f=f.substring(a+1)):(h.setMonth(b-1),f=f.substring(a+2));return y=!0}function g(){var a=f.search(t);if(-1===a)return!1;var b=f.substring(a,a+2);isNaN(b)||31<b?(h.setDate(f.substring(a,a+1)),f=f.substring(a+1)):(h.setDate(b),
f=f.substring(a+2));return tb=!0}function j(){var a;a=f.search(t);if(-1===a)return!1;f=f.substring(a);a=f.match(n)[0];h.setFullYear(a);f=f.substring(a.length);return z=!0}function s(){var a,b,c=-1,e;for(e=0;12>e;++e)a=f.search(o[e]),-1===c&&-1<a&&(c=a,b=e),-1<a&&a<c&&(c=a,b=e);if(-1===c)return!1;h.setMonth(b);f=f.substring(c);a=f.search(q);-1===a&&(a=f.length);f=f.substring(a);return y=!0}var h=new Date,a=a.match(/\{+([a-z0])+\}/g),f=b,t=/[0-9]{1}/,n=/[0-9]+/,o=[/jan/i,/feb/i,/mar/i,/apr/i,/may/i,
/jun/i,/jul/i,/aug/i,/sep/i,/oct/i,/nov/i,/dec/i],q=/[^a-zA-Z]/,y=!1,z=!1,tb=!1;if("string"!==typeof b)return new Date("Invalid Date");"undefined"===typeof c&&(c=!1);h.setMonth(0);h.setFullYear(0);h.setDate(1);h.setMinutes(0);h.setSeconds(0);h.setHours(0);h.setMilliseconds(0);for(var b=0,Ka=a.length;b<Ka;++b){var C=!0;switch(a[b]){case "{m}":y||(C=!1,c||(C=s()),C||(C=e()));break;case "{0m}":y||(C=!1,c||(C=s()),C||(C=e()));break;case "{month}":y||(C=s(),!C&&!c&&(C=e()));break;case "{mmm}":y||(C=s(),
!C&&!c&&(C=e()));break;case "{d}":tb||(C=g());break;case "{0d}":tb||(C=g());break;case "{yyyy}":z||(C=j())}if(!C){h=new Date("Invalid Date");break}if(y&&z&&tb)break}return h}function wa(a,b){for(var c in b)za(b,c)&&(a[c]=b[c]);return a}function He(a,b){if(!W.isCloneable(a)||!W.isCloneable(b))return a;for(var c in b)za(b,c)&&(a[c]="undefined"===typeof a[c]||!W.isCloneable(a[c])?W.isCloneable(b[c])?W(b[c]):b[c]:W.isCloneable(b[c])?He(a[c],b[c]):b[c]);return a}function Ie(a,b){var c=!0;if(!W.isCloneable(a)||
!W.isCloneable(b))return a===b;for(var e in a)if(za(a,e)&&(c=W.isCloneable(a[e])?Ie(a[e],b[e]):a[e]===b[e],!c))return!1;return!0}function T(a,b){for(var c=b,e=/\{\|(.*?)\|\}/,g;g=e.exec(c);)try{var j=g[1].trim(),s=Aa(a,j),s="undefined"!==typeof s?s:"",c=c.replace(g[0],s)}catch(h){return window.console&&window.console.log&&console.log(h.name+": "+h.message,"error"),!1}return c}function df(a,b){var c=W(a);S(b,function(b,g){var j=Aa(a,b);if(j&&Jb(g)&&"date"===g.type&&(j=td("{yyyy}-{0m}-{0d}",j),j=Xa(g.format,
j),!("undefined"===typeof b||0===b.length||!Jb(c)&&!q(c)))){for(var s=b.split("."),h=c,f,t=0,n=s.length-1;t<n;++t)f=h[s[t]],W.isCloneable(f)||(h[s[t]]={}),h=h[s[t]];h[s.pop()]=j}});return c}function ib(a,b){if(a){if(a.nodeName.toLowerCase()===b.toLowerCase())return a;if(!a.parentNode)return!1;var c=a.parentNode.nodeName.toLowerCase();return"body"===c?!1:c===b.toLowerCase()?a.parentNode:ib(a.parentNode,b)}}function ud(a,b){return!a?!1:"body"===a.nodeName.toLowerCase()?!1:o(a).has(b)?a:ud(a.parentNode,
b)}function Qb(a){var b=[],c;for(c in a)za(a,c)&&b.push(c+'="'+a[c]+'"');return b.join(" ")}function pb(a){return"string"===typeof a?a.split(""):Array.prototype.map.call(a,function(a){return a})}function Je(a){if(a&&0<a.length)for(var a=a[0].children,b=a.length,c=0;c<b;++c)a[c].blur&&a[c].blur()}function ef(a,b){for(var c=[],e=0,g=a.length;e<g;e++)b(a[e])&&c.push(a[e]);return c}function Ee(a,b){return ef(a,function(a){for(var e in b)if(za(b,e)&&a[e]!==b[e])return!1;return!0})}function ff(a,b,c){for(var e=
[],g=0,j=a.length;g<j;g++)e.push(b.call(c,a[g],g,a));return e}function Ke(a){var b,c;if(a&&(a.blur&&a.blur(),a.children)){c=a.children;a=0;for(b=c.length;a<b;a++)Ke(c[a])}}function za(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function vd(a){if("string"!==typeof a)return a;for(var b=a.length,c=[],e;b--;)e=a.charCodeAt(b),c[b]="&#"+e+";";return c.join("")}function wd(){function a(a){var a=a||"img",c=document.createElement(a);c.style.position="absolute";c.style.cursor="pointer";c.style.zIndex=
1E3;"a"===a?(c.setAttribute("href","#"),c.className="janrain_modal_closebutton",wa&&(c.innerHTML=wa)):(c.src=$,sa||(c.style.right="-6px",c.style.top="-7px",c.style.height="31px",c.style.width="28px"));c.onclick=oa?e:b;return c}function b(a){Ya||(D.style.display="none",H.style.display="none",ja.style.display="none");Ta&&Ma.deactivate();("object"===typeof a||!a)&&janrain.events.onModalClose.fire();("object"===typeof a||!a)&&Ua.fire();"object"===typeof a&&Q(a)}function c(){var a=document.createElement("div"),
c=document.createElement("div"),e=document.createElement("a"),j=document.createElement("a"),g=document.createElement("h3");e.innerHTML=ta;j.innerHTML=va;g.innerHTML=za;e.setAttribute("href","#");j.setAttribute("href","#");a.className="janrain_close_confirm_container";c.className="janrain_close_confirm";e.className="janrain_modal_confirm";j.className="janrain_modal_cancel";y(e,"click",function(a){b();D.removeChild(Fa);Fa=null;Q(a)});y(j,"click",function(a){D.removeChild(Fa);Fa=null;Q(a)});c.appendChild(g);
c.appendChild(j);c.appendChild(e);a.appendChild(c);return a}function e(a){Fa||(Fa=c(),D.appendChild(Fa));Q(a)}function g(a){var b=document.documentElement.scrollTop>=document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,c=document.documentElement.scrollLeft>=document.body.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,e=rc(),j=Hb(a),g=e.height-j.height,e=e.width-j.width,b=b+g/2,c=c+e/2;Ka()&&(0>g&&(document.documentElement.scrollTop=0,document.body.scrollTop=
0,b=10),0>e&&(document.documentElement.scrollLeft=0,c=document.body.scrollLeft=0),a.style.top=b+"px",a.style.left=c+"px");"absolute"!==a.style.position&&(a.style.position="absolute")}function j(){if(Ya){var a=document.getElementById("previewMode");a.style.position="relative";a.appendChild(D)}else g(D);Ya||F.show()}function h(a){na||(ba=P("number",[0,20],10,a),Na.fire({radius:Eb(T,ba)}))}function n(a){na||(U=P("color",null,"#000000",a))}function o(a){na||(T=P("number",[0,20],10,a),xa.fire({radius:Eb(T,
ba),refresh:!0}))}function t(a){na||(W=P("number",[0,1],0.5,a),"object"==typeof D&&Ob(D,ba,U,W))}function ze(){if("undefined"===typeof ya)return!0;var a=rc();return!!Math.floor(ya)!==!!Math.floor(a.width/a.height)}function q(){var a=rc();ya=a.width/a.height}function Sd(a){if("portrait"===a){Za="portrait";var b="one column"}"landscape"===a&&(Za="landscape",b="two column");$a.fire({orientation:Za,format:b,width:C,height:fa});ze()&&j();q()}function z(a){a&&(xb=a);f&&ea&&(xb+=ba-2);"object"==typeof D&&
(D.style.width=xb+"px");return this}function w(a){a&&(S=a);f&&ea&&(S=S+2*ba-4);a&&"object"==typeof D&&(D.style.height=S+"px");return this}function tb(){var a=rc(),a=a.width>=a.height,b="undefined"===typeof window.orientation,a=90===window.orientation||-90===window.orientation||b&&a?"landscape":"portrait";Za!==a&&Sd(a);j()}function Ka(){return"object"===typeof D&&"none"!==D.style.display}var C=380,fa=131,D,M="janrainModal",H,ja,ka,xb=C,S=fa,ba=10,U="#000000",T=10,W=0.5,oa=!1,$=qc("rel/img/17c96fc4b9c8464d1c95cd785dd3120b.png"),
wa="",na=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,sa=!1,za="Are you sure you want to quit?",ta="Yes, quit",va="No, stay",Fa,Za="landscape",ma=!0,Ta="boolean"===typeof Ta?Ta:"number"===typeof window.orientation?!0:!1,ab="boolean"===typeof ab?ab:janrain.settings.previewMode,Ya=ab,Z=Z||!1,ya,Aa=!1;janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&($=janrain.settings.capture.modalCloseImage,sa=!0);janrain.settings&&
janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(wa=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=X());window.janrain.events.onModalOpen||(window.janrain.events.onModalOpen=X());var Ua=X(),bb=X(),xa=X(),Na=X(),$a=X();Ma&&Ma.onOrientationChange&&Ma.onViewportChange&&(Ma.onOrientationChange.addHandler(function(a){Sd(a.orientation)},!0),Ma.onViewportChange.addHandler(function(){ze()&&g(D);q()},!0));"undefined"!==typeof janrain.events.onCaptureRenderComplete&&
(janrain.events.onCaptureRenderComplete.addHandler(function(){Ka()&&(Aa=!0)},!0),janrain.events.onCaptureContentChange.addHandler(function(){Ka()&&Aa&&(j(),Aa=!1)},!0));return{isOpen:function(){return Ka()},setWidth:function(a){z(a);return this},setHeight:function(a){w(a);return this},setBorder:function(a){("string"==typeof a||"number"==typeof a)&&h(a);na||"object"==typeof D&&Ob(D,ba,U,W);return this},setBorderColor:function(a){a&&n(a);na||"object"==typeof D&&Ob(D,ba,U,W);return this},setBorderRadius:function(a){("string"==
typeof a||"number"==typeof a)&&o(a);na||"object"==typeof D&&ua(D,T);return this},setBorderOpacity:function(a){("number"===typeof a||"string"===typeof a)&&t(a);return this},setZIndex:function(a){ja.style.zIndex=a},setPreviewMode:function(a){"boolean"===typeof a&&(Ya=a);return this},setId:function(a){M=a;D&&(D.id=a);return this},show:function(){Ta||(D.style.display="block");"object"==typeof H&&ma&&(H.style.display="block");Ya?Ta&&(D.style.display="block"):(ja.style.display="block",Ta?(Ma.setElement(D).activate(),
D.style.display="block"):(y(window,"resize",tb),tb()));na||xa.fire({radius:Eb(T,ba),refresh:!1});bb.fire();janrain.events.onModalOpen.fire();$b.fire();D.focus()},close:function(a){b(a)},closeConfirm:function(){e()},refresh:function(a){Z||D.appendChild(ka);a&&a.center&&j()},remove:function(){if(Ya){var a=document.getElementById("previewMode");"object"===typeof ka&&D.removeChild(ka);"object"===typeof D&&a.removeChild(D);"object"===typeof ja&&document.body.removeChild(ja);if(a=document.getElementById("janrainEngageEmbed_old"))a.id=
"janrainEngageEmbed";ja=D=""}else"object"===typeof ka&&D.removeChild(ka),"object"===typeof ja&&document.body.removeChild(ja),"object"===typeof D&&document.body.removeChild(D)},addContent:function(b){var c=janrain.events.onAuthWidgetContentPlaced;c&&c.fire();H=b;if(!D){D=document.createElement("div");D.id=M;if("number"===typeof xb||"string"===typeof xb)D.style.width=xb+"px";D.style.height=S+"px";D.style.position="absolute";na||(D.style.padding=ba+"px",ua(D,T),Ob(D,ba,U,W));D.style.zIndex=1E3;D.style.display=
"none";var e,g,h,s,f,t,c=document.documentElement?document.documentElement:{clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0,offsetWidth:0,offsetHeight:0};t=c.scrollWidth?c.scrollWidth:0;b=c.scrollHeight?c.scrollHeight:0;s=c.offsetWidth?c.offsetWidth:0;f=c.offsetHeight?c.offsetHeight:0;g=document.body.scrollWidth?document.body.scrollWidth:0;h=document.body.scrollHeight?document.body.scrollHeight:0;e=document.body.offsetWidth?document.body.offsetWidth:0;c=document.body.offsetHeight?document.body.offsetHeight:
0;s=Math.max(g,t,e,s);b=Math.max(h,b,c,f);c=2*Math.max(s,b);ja=document.createElement("div");ja.id="janrainModalOverlay";b=ja.style;b.left="0px";b.top="0px";gf?(b.width=c+"px",b.height=c+"px",b.position="absolute"):(b.bottom="0px",b.right="0px",b.position="fixed");b.backgroundColor="#000000";c=ja;"undefined"!==typeof c.style.filter&&(c.style.filter="alpha(opacity=40)");"undefined"!==typeof c.style.opacity&&(c.style.opacity="0.4");"undefined"!==typeof c.style.KhtmlOpacity&&(c.style.KhtmlOpacity="0.4");
"undefined"!==typeof c.style.MozOpacity&&(c.style.MozOpacity="0.4");b.display="none";b.zIndex=1E3;ka=wa?a("a"):a();D.appendChild(ka);document.body.appendChild(ja);document.body.appendChild(D)}D.appendChild(H);Ya&&j();return this},getContent:function(){return H},getBorderWidth:function(){return ba},getState:function(){return{width:xb,borderWidth:ba,borderColor:U,borderRadius:T,borderOpacity:W,orientation:Za}},setState:function(a){O("customizable_auth_widget_styling")&&("undefined"!==typeof a.borderWidth&&
h(a.borderWidth),"undefined"!==typeof a.borderColor&&n(a.borderColor),"undefined"!==typeof a.borderOpacity&&t(a.borderOpacity),"undefined"!==typeof a.orientation&&Sd(a.orientation),"undefined"!==typeof a.borderRadius&&(("string"==typeof a.borderRadius||"number"==typeof a.borderRadius)&&o(a.borderRadius),"object"==typeof D&&ua(D,T)))},setConfirmClose:function(a){oa=a;return this},setShowContentOnLoad:function(a){ma=a;return this},setConfirmMessageText:function(a){za=a},setConfirmLinkText:function(a){ta=
a},setCancelLinkText:function(a){va=a},onClose:Ua,onShow:bb,onOrientationChange:$a,onBorderRadiusChange:xa,onBorderWidthChange:Na}}function hf(a){function b(a){"janrainReadyToClose:True"===a.data&&(top.focus(),f=!0,Gb(window,"message",b))}function c(a){"janrainPopupHasClosed"===a.data&&(Gb(window,"message",c),n&&n.parentNode&&n.parentNode.removeChild(n),"function"===typeof t&&t())}function e(){var a=window.open(g,"","top="+((window.screen.availHeight||window.screen.height)/2-h/2)+",left="+((window.screen.availWidth||
window.screen.width)/2-j/2)+",width="+j+",height="+h+",status=1,location=1,resizable=1,scrollbars=1");jf&&y(window,"message",b);if(kf)y(window,"message",c),n=Hc("janrain-xdr-iframe",janrain.settings.appUrl+"/xdr_iframe");else var e=window.setInterval(function(){f&&a&&(a.close(),f=!1);if(a&&(a.closed||"undefined"===typeof a.closed)||"undefined"===typeof a)window.clearInterval(e),"function"===typeof t&&t()},500)}var g=a,j=400,h=400,f=!1,n,t;return{show:function(){e()},setWidth:function(a){a&&(j=a);
return this},setHeight:function(a){a&&(h=a);return this},setCallback:function(a){a&&(t=a);return this}}}function lf(){function a(a){"function"===typeof a&&(Ae=a);return this}function b(){h=[];q.innerHTML="";U(arguments,function(a,b){var c=document.createElement("button");c.className="capture_btn capture_secondary";vb(c,a);c.setAttribute("data-index",b.toString());y(c,"click",function(a){a.index=parseInt(M(a).getAttribute("data-index"));Ae(a)});h.push(c);q.appendChild(c)});c(h.length-1);return this}
function c(a){var b=h[z];b&&o(b).remove("capture_primary").append("capture_secondary");z=a;(b=h[z])&&o(b).remove("capture_secondary").append("capture_primary");return this}function e(){janrain.capture.ui.modal.close();return this}var g,j,h,f,n,t,q,Ae,z;g="Notice";j="This is a notice.";z=0;(function(){f=document.createElement("div");var a=document.createElement("div"),b=document.createElement("h1"),c=document.createElement("h2"),e=document.createElement("div");a.className="capture_header";b.className=
"capture_dialog_title";c.className="capture_dialog_message";e.className="capture_footer";vb(b,g);vb(c,j);a.appendChild(b);f.appendChild(a);f.appendChild(c);f.appendChild(e);n=b;t=c;q=e;return this})();b("OK");a(e);return{open:function(){janrain.capture.ui.renderScreen("janrainDialog");var a=document.getElementById("captureDialogBuiltIn");a.innerHTML="";a.appendChild(f);return this},close:e,setTitle:function(a){g=a;vb(n,g);return this},setMessage:function(a){j=a;vb(t,j);return this},setPrimaryIndex:c,
setButtons:b,setCallback:a}}function Zd(){function a(){z=(new Date).getTime()-g;if(z<e){var a=Math.round(b()*o+f);j.style[t]=a+"px"}else clearInterval(q),j.style[t]=n+"px",H()}function b(){if("flat"==w)return z*(1/e);if("sinusoidal"==w)return Math.abs(Math.sin(z*(Math.PI/(2*e))))}function c(a){return{x:function(){var b=a.event.clientX-Le(a.boundary).x,b=b<this.boundary_x()?b:this.boundary_x();return 0<b?b:0},boundary_x:function(){var b=a.boundary.getBoundingClientRect();return b.width||b.right-b.left}}}
var e="1000",g,j,h=document,f,n,t="left",o,q,z,w="flat",H,M;return{setAcceleration:function(a){w=a;return this},setCallback:function(a){H=a;return this},setDuration:function(a){e=a;return this},setDirection:function(a){"horizontal"===a&&(t="left");"vertical"===a&&(t="top");return this},setElement:function(a){j=a;return this},setElementBoundary:function(a){h=a;return this},startPosition:function(a){f=a;return this},endPosition:function(a){n=a;return this},animate:function(){o=n-f;g=(new Date).getTime();
q=setInterval(a,10);return this},drag:function(a){var b=this;this.moveHandler=function(a){var b=c({event:a.targetTouches&&a.targetTouches.length?a.targetTouches[0]:a,boundary:h}).x();j.style.left=b+"px";Rc(a);Q(a);M&&clearTimeout(M);M=setTimeout(function(){H({pos_x:b})},500)};this.upHandler=function(a){b.unbindDragHandlers();Rc(a);Q(a)};y(document,Gc,this.moveHandler);y(document,nd,this.upHandler);Rc(a);Q(a)},unbindDragHandlers:function(){Gb(document,nd,this.upHandler);Gb(document,Gc,this.moveHandler);
return this}}}function Le(a){var b=curtop=0;if(a.offsetParent){do b+=a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent);return{x:b,y:curtop}}}function X(){return new ub}function ub(){this.eventHandlers=[];this.firedEvents=[];this.fireCount=0}function mf(a,b){a.addHandler(b,!0);if(a.permaArgs)for(var c=0,e=a.permaArgs.length;c<e;++c)b(a.permaArgs[c])}function Sc(){S(janrain.events,function(a,b){b.eventName=a})}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;
var b=Object(this),c=b.length>>>0;if(0===c)return-1;var e=0;0<arguments.length&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&Infinity!=e&&-Infinity!=e&&(e=(0<e||-1)*Math.floor(Math.abs(e))));if(e>=c)return-1;for(e=0<=e?e:Math.max(c-Math.abs(e),0);e<c;e++)if(e in b&&b[e]===a)return e;return-1});Array.prototype.map||(Array.prototype.map=function(a,b){if(null===this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var g=Array(e),j=0;j<e;j++)j in c&&(g[j]=
a.call(b,c[j],j,c));return g});Array.prototype.filter||(Array.prototype.filter=function(a,b){if(null==this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!=typeof a)throw new TypeError;for(var g=[],j=0;j<e;j++)if(j in c){var h=c[j];a.call(b,h,j,c)&&g.push(h)}return g});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var H;H||(H={});(function(){function a(a){return 10>a?"0"+a:a}function b(a){g.lastIndex=0;return g.test(a)?'"'+a.replace(g,
function(a){var b=f[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,e){var g,f,o,q,y=j,G,C=e[a];C&&"object"===typeof C&&"function"===typeof C.toJSON&&(C=C.toJSON(a));"function"===typeof n&&(C=n.call(e,a,C));switch(typeof C){case "string":return b(C);case "number":return isFinite(C)?""+C:"null";case "boolean":case "null":return""+C;case "object":if(!C)return"null";j+=h;G=[];if("[object Array]"===Object.prototype.toString.apply(C)){q=
C.length;for(g=0;g<q;g+=1)G[g]=c(g,C)||"null";o=0===G.length?"[]":j?"[\n"+j+G.join(",\n"+j)+"\n"+y+"]":"["+G.join(",")+"]";j=y;return o}if(n&&"object"===typeof n){q=n.length;for(g=0;g<q;g+=1)"string"===typeof n[g]&&(f=n[g],(o=c(f,C))&&G.push(b(f)+(j?": ":":")+o))}else for(f in C)Object.prototype.hasOwnProperty.call(C,f)&&(o=c(f,C))&&G.push(b(f)+(j?": ":":")+o);o=0===G.length?"{}":j?"{\n"+j+G.join(",\n"+j)+"\n"+y+"}":"{"+G.join(",")+"}";j=y;return o}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=
function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
j,h,f={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;"function"!==typeof H.stringify&&(H.stringify=function(a,b,e){var g;h=j="";if("number"===typeof e)for(g=0;g<e;g+=1)h+=" ";else"string"===typeof e&&(h=e);if((n=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return c("",{"":a})});"function"!==typeof H.parse&&(H.parse=function(a,b){function c(a,e){var g,j,h=a[e];if(h&&"object"===typeof h)for(g in h)Object.prototype.hasOwnProperty.call(h,
g)&&(j=c(h,g),void 0!==j?h[g]=j:delete h[g]);return b.call(a,e,h)}var g,a=""+a;e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+a+")"),"function"===typeof b?c({"":g},""):g;throw new SyntaxError("JSON.parse");})})();var n;(function(){function a(a){return function(b){if("boolean"!==
typeof b)throw Error("argument must be true or false");janrain.settings.debug.tagFilter[a]=b;window.localStorage&&(localStorage.janrainDebugTagFilter=H.stringify(janrain.settings.debug.tagFilter))}}janrain.settings.debug=janrain.settings.debug||{};var b={enabled:!1,logLevel:"log",logEvents:!1,tagFilter:{untagged:!0}};if(window.localStorage&&("true"===localStorage.janrainDebugEnabled&&(janrain.settings.debug.enabled=!0),localStorage.janrainDebugLogLevel&&(janrain.settings.debug.logLevel=localStorage.janrainDebugLogLevel),
localStorage.janrainDebugTagFilter))try{janrain.settings.debug.tagFilter=H.parse(localStorage.janrainDebugTagFilter)}catch(c){}wa(b,janrain.settings.debug);janrain.settings.debug=b;var e=function(){return function(a){if(!a||1>a.length)a="";var b=Error(a),a="Error: "+a+" at:\n";return"string"===typeof b.stack?0===b.stack.indexOf("Error:")?b.stack:a+b.stack:"[stack trace unavailable]"}}();n=function(){function a(b){var c=b.level>=f[janrain.settings.debug.logLevel]&&janrain.settings.debug.tagFilter[b.tag];
if(window.console&&c){c="#"+b.id+" "+b.message;"untagged"!==b.tag&&(c="["+b.tag+"] "+c);try{console[b.type](c)}catch(e){console[b.type](c)}}}function b(j,o){return function(){var b,q;1===arguments.length?(b="untagged",q=arguments[0]):2===arguments.length?(b=arguments[0],q=arguments[1]):n.forceError("debug logging functions must be called with exactly 1 or 2 arguments");if(janrain.settings.debug.enabled||o)h++,q={stack:e(q),level:f[j],tag:b,id:h,type:j,date:new Date,message:q},c.push(q),a(q)}}var c=
[],h=0,f={};U(["log","info","warn","error"],function(a,b){f[a]=b});return{log:b("log"),info:b("info"),warn:b("warn"),error:b("error"),forceWarn:b("warn",!0),forceError:b("error",!0),logEvents:function(){for(var a in janrain.events)"function"===typeof janrain.events[a].addHandler&&janrain.events[a].addHandler(function(a){return function(b){n.log(a+": "+b)}}(a))},trace:function(a){var b=c[a-1];b?console.log(b.stack):console.error("No such log entry #"+a)},dump:function(){U(c,a)}}}();janrain.debug={dump:n.dump,
trace:n.trace,enable:function(){window.localStorage&&(localStorage.janrainDebugEnabled="true")},disable:function(){window.localStorage&&(localStorage.janrainDebugEnabled="false")},$__UNSUPPORTED_MODULE__$:"This module is not provided for customer use, but is intended only for debugging purposes."};U(["jtl","event","untagged"],function(b){janrain.debug["show"+(b.charAt(0).toUpperCase()+b.substring(1))]=a(b)})})();var nf=window.innerWidth?window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:
document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:0;mb=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0;nb=nf;var pc=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&window.localStorage.setItem,rd=[],Jc=!1,ea="CSS1Compat"!==document.compatMode,Tb=!1,oa=!1,
h=[],Ub="fdb2cc1";document.createElement("input");var Tc=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),Uc=null!==Tc?Tc[0]:!1,Ua="number"===typeof window.orientation||null!==Tc,cf="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
Ge="January,February,March,April,May,June,July,August,September,October,November,December".split(","),of=[16,20,30,32,48,50,64],Me=[{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",
value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",
value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"}],pf=[{text:"AB",value:"AB"},{text:"BC",value:"BC"},{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",
value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}];hb=13;we=38;ye=40;ve=37;xe=39;ue=9;Rd=27;var vc="ontouchstart"in window;te=vc?"touchstart":"mousedown";nd=vc?"touchend":"mouseup";Gc=vc?"touchmove":"mousemove";janrain.settings&&janrain.settings.storageServer&&Hc("xDomainLocalStorageJanrain",janrain.settings.storageServer,function(){y(document.getElementById("xDomainLocalStorageJanrain"),"load",function(){Jc=!0})});Ja.possible="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,0,1,2,3,4,5,6,7,8,9".split(",");
var ta=navigator.userAgent,f=bc(),xd=document.documentMode,Nc=/Gecko\//.test(ta),Oc=/AppleWebKit\//.test(ta);/Chrome\//.test(ta);var kf=/CriOS\//.test(ta),yd=Kc(),qf=pd(),rf=function(a){var a=a||ta,b=a.indexOf("OS "),c=0;pd(a)&&-1<b&&(c=Number(a.substr(b+3).split(" ")[0].split("_")[0]));return c}(),jf=qf&&6===rf&&yd,gf=function(a){a=a||ta;return/android/i.test(a)&&/linux/i.test(a)&&!/chrome/i.test(a)&&!/opera/i.test(a)&&!/firefox/i.test(a)}(),O=function(){var a=function(a){for(var b=[],g=0;g<a.length;g++)b.push(a[g]);
return b},b={};janrain.settings&&janrain.settings.permissions&&(b.login=a(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(b.share=a(janrain.settings.share.permissions));return function(a,e){e=e||"login";return!b[e]?!1:0<=b[e].indexOf(a)}}();Ib.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},
parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};W.isCloneable=function(a){return a&&(Jb(a)||q(a))};var Ne=function(){var a=document.createElement("div");return function(b){b&&"string"===typeof b&&
(b=b.replace(/<script[^>]*>([\S\s]*?)<\/script>/gmi,""),b=b.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gmi,""),a.innerHTML=b,b=a.textContent||a.innerText,a.innerHTML="");return b}}(),$=function(a,b,c){$=document.getElementsByClassName?function(a,b,c){for(var a=(b||document).getElementsByClassName(a),c=c?RegExp("\\b"+c+"\\b","i"):null,b=[],h,f=0,n=a.length;f<n;f+=1)h=a[f],(!c||c.test(h.nodeName))&&b.push(h);return b}:function(a,b,c){var c=c||"*",b=b||document,h=a.split(" "),a=[],b="*"===c&&b.all?
b.all:b.getElementsByTagName(c),c=[],f;f=0;for(var n=h.length;f<n;f+=1)a.push(RegExp("(^|\\s)"+h[f]+"(\\s|$)"));for(var n=0,o=b.length;n<o;n+=1){h=b[n];f=!1;for(var q=0,y=a.length;q<y&&!(f=a[q].test(h.className),!f);q+=1);f&&c.push(h)}return c};return $(a,b,c)},Oe=function(){return!1};n.info("Debugging mode is on. Run: \nlocalStorage.janrainDebugEnabled = false; \nin the console to turn it off.");window.localStorage&&"true"===localStorage.janrainLocalWidgetCodeEnabled&&n.forceWarn("Local code mode is on. Run: \nlocalStorage.janrainLocalWidgetCodeEnabled = false; \nin the console to turn it off.");
f&&(n.info("[ Internet Explorer ]\nVersion       : "+f+"\nDocument Mode : "+xd),f!==xd&&n.warn("IE version and document mode do not match! This could cause issues."));30<function(){var a=document.getElementsByTagName("style"),b=document.getElementsByTagName("link"),c=a.length;U(b,function(a){"stylesheet"===a.rel&&c++});return c}()&&n.warn("The page has more than 30 stylsheets. IE 8 and 9 cannot load more than 32 stylesheets.");window.top!==window.self&&n.warn("The widget might be running inside a frame. Watch out for cross origin issues.");
janrain.settings.custom&&n.warn("janrain.settings.custom is true. Customer must provide their own UI.");setTimeout(function(){janrain.ready||n.warn("janrain.ready is still not true after waiting for 10 seconds. The widget will not load until this is true. Check your widget loading code block.")},1E4);for(var Ma=function(){function a(){if("undefined"===typeof window.orientation)return!1;var a;e(document.body,w);z=n().content;o();q();document.body.style.padding="0px";document.body.style.margin="0px";
"object"===typeof window.onresize&&(a="resize");"object"===typeof window.onorientationchange&&(a="orientationchange");a&&(window.addEventListener(a,function(){C(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:0},{height:window.innerHeight,width:window.innerWidth});f()},!1),setTimeout(f,30),window.addEventListener("beforeunload",function(){window.removeEventListener(a,f,!1)},!1));F.addHandler(function(){b({height:window.innerHeight,width:window.innerWidth},0)},!0);Q.addHandler(function(a){mb=
a.height;nb=a.width},!0);window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,f,!1)},!1)}function b(a,c){var e=window.innerHeight,h=window.innerWidth,f=!0,g=!0;e!=a.height&&(f=!1);h!=a.width&&(g=!1);f&&g?20>c?setTimeout(function(){b({height:e,width:h},++c)},100):Q.fire({height:e,width:h}):setTimeout(function(){b({height:e,width:h},0)},100)}function c(){setTimeout(function(){y(z)},20);e(w,document.body)}function e(a,b){for(var c=0;c<a.style.length;c++){var e=a.style[c];
b.style.setProperty(e,a.style.getPropertyValue(e),a.style.getPropertyPriority(e))}}function h(){var a;a=(0===window.orientation||180===window.orientation)&&nb>mb||(90===window.orientation||-90===window.orientation)&&mb>nb?!1:!0;var b="landscape";if(a&&(0===window.orientation||180===window.orientation))b="portrait";if(!a&&(90===window.orientation||-90===window.orientation))b="portrait";return b}function f(){var a=h();O||y("width=device-width, initial-scale=1, maximum-scale=1");F.fire({orientation:a})}
function n(){var a=document.getElementsByTagName("meta"),b;for(b in a)if("viewport"===a[b].name)return a[b];return!1}function o(){if("undefined"===typeof document.getElementsByTagName||n())return!1;var a=document.getElementsByTagName("head")[0],b=document.createElement("meta");b.setAttribute("name","viewport");a.appendChild(b);return!0}function q(){if("undefined"===typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var a=document.createElement("meta");a.setAttribute("name",
"HandheldFriendly");a.content="true"}function y(a){var b=n();if(!b||b.content==a)return!1;if("undefined"===typeof a){var c=n();document.getElementsByTagName("head")[0].removeChild(c)}b.content=a;return!0}var z,w=document.createElement("div"),H=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
M=null!==H?H[0]:!1,F=X(),Q=X(),O=M?M.match(/android|\Wsilk\W/):!1,C=function(){var a=window.orientation,b={height:screen?screen.height:0,width:screen?screen.width:0},c={height:window.innerHeight,width:window.innerWidth},e=!1;return function(h,f,g){var j=!1,n=function(a,b){return a.height>=a.width&&b.height>=b.width||a.width>a.height&&b.width>b.height?!0:!1},o=a===h,s=n(f,b),q=n(g,c);if(!o&&(!s||!q))j=!0;!o&&!s&&(e=!0);j&&(e&&!n(f,g)&&(j=g.height,g.height=g.width,g.width=j),mb=g.height,nb=g.width);
a=h;b={height:f.height,width:f.width};c={height:g.height,width:g.width}}}();return{setElement:function(){return this},onOrientationChange:F,onViewportChange:Q,getMobileDevice:function(){return M},getOrientation:function(){return h()},activate:function(){a()},deactivate:function(){c()},isAndroid:function(){return O}}}(),qc=function(a){var b;b="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";b=b.replace(/\/$/,"");return b+"/"+a},Vc={openId:{blogger:{identifier:"blogger",
flow:"openid1",width:800,height:600,color:"#FF6600",friendlyName:"Blogger"},livejournal:{identifier:"livejournal",flow:"openid1",width:800,height:600,color:"##213368",friendlyName:"LiveJournal"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000",friendlyName:"Netlog"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b",friendlyName:"WordPress"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311",friendlyName:"OpenID"}},
openId2:{aol:{flow:"aol",width:514,height:550,color:"#0FD6FF",friendlyName:"AOL"},flickr:{flow:"flickr",width:500,height:500,color:"#FF0084",friendlyName:"Flickr"},google:{flow:"google",width:500,height:450,color:"#1C69F5",friendlyName:"Google"},hyves:{flow:"hyves",width:800,height:600,color:"#659BC8",friendlyName:"Hyves"},myopenid:{flow:"myopenid",width:800,height:600,color:"#8cc63f",friendlyName:"MyOpenID"},paypal:{flow:"paypal",width:800,height:600,color:"#1A3665",friendlyName:"PayPal"},verisign:{flow:"verisign",
width:945,height:600,color:"#B8004D",friendlyName:"VeriSign"},yahoo:{flow:"yahoo",width:500,height:500,color:"#650065",friendlyName:"Yahoo!",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",width:640,height:480,color:"#3B5998",friendlyName:"Facebook",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,
media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",friendlyName:"Myspace",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF",friendlyName:"Twitter",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,
urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#006699",friendlyName:"LinkedIn",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"microsoftaccount",
width:950,height:550,color:"#3E73B4",friendlyName:"Microsoft Account"},salesforce:{flow:"salesforce",width:800,height:500,color:"#333333",friendlyName:"Salesforce"},orkut:{flow:"orkut",width:800,height:600,color:"#333",friendlyName:"Orkut"},vzn:{flow:"vzn",width:600,height:450,color:"#333",friendlyName:"VZnet"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333",friendlyName:"Foursquare"},sinaweibo:{flow:"sinaweibo",width:950,height:550,color:"#333",friendlyName:"Sina Weibo"},tencentweibo:{flow:"tencentweibo",
width:800,height:650,color:"#93C5EA",friendlyName:"Tencent Weibo",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,url:!0,image:!0,media:!0}}}},qq:{flow:"qq",width:800,height:650,color:"#4BB6EE",friendlyName:"QQ",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,url:!0}}}},tumblr:{flow:"tumblr",width:950,height:550,color:"#333",friendlyName:"Tumblr"},microsoft_live_connect:{flow:"microsoft_live_connect",width:950,
height:550,color:"#333",friendlyName:"Microsoft Live Connect"},renren:{flow:"renren",width:950,height:550,color:"#333",friendlyName:"Renren"},disqus:{flow:"disqus",width:950,height:550,color:"#333",friendlyName:"Disqus"},soundcloud:{flow:"soundcloud",width:950,height:550,color:"#333",friendlyName:"SoundCloud"},vk:{flow:"vk",width:950,height:550,color:"#333",friendlyName:"VK"},amazon:{flow:"amazon",width:950,height:550,color:"#FF9900",friendlyName:"Amazon"},microsoftaccount:{flow:"microsoftaccount",
width:950,height:550,color:"#3E73B4",friendlyName:"Microsoft Account"},instagram:{flow:"instagram",width:950,height:550,color:"#FFFFFF",friendlyName:"Instagram"},googleplus:{flow:"googleplus",width:445,height:665,color:"#D34836",friendlyName:"Google"},mydigipass:{flow:"mydigipass",width:900,height:650,color:"#D34836",friendlyName:"MYDIGIPASS.COM"},doccheck:{flow:"doccheck",width:850,height:600,color:"#D34836",friendlyName:"DocCheck"},medikey:{flow:"medikey",width:850,height:650,color:"#D34836",friendlyName:"Medikey"},
xing:{flow:"xing",width:950,height:550,color:"#006567",friendlyName:"XING",shareSettings:{broadcast:{counter:{max:420,urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},mixi:{flow:"mixi",width:950,height:550,color:"#333",friendlyName:"Mixi",shareSettings:{broadcast:{counter:{},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,googleplus:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},fimnet:{fimnet:{flow:"fimnet",
width:514,height:550,color:"#336699",friendlyName:"FiMnet"}},saml2:{samltest:{flow:"saml2",width:514,height:550,color:"#336699",friendlyName:"SAML Test"},lilly:{flow:"saml2",width:910,height:565,color:"#ED1D23",friendlyName:"Lilly"},jnj:{flow:"saml2",width:514,height:550,color:"#336699",friendlyName:"J&J"}}},jb={},Wc=["openId","openId2","oauth","fimnet","saml2"];0<Wc.length;){var Xc=Wc.pop(),Yc;for(Yc in Vc[Xc])jb[Yc]=Vc[Xc][Yc]}var $d=[],F=function(){var a=[];return{log:function(b){var c={};c.id=
a.length+1;c.message=b;a.push(c);return this},show:function(){if(0!=a.length){for(var b in a)if("undefined"!==typeof a[b].id){var c=a[b];"object"===typeof console&&("function"===typeof console.error?console.error("WARNING ID:"+c.id+" MESSAGE: "+c.message):"function"===typeof console.log&&console.log("WARNING ID:"+c.id+" MESSAGE: "+c.message))}a=[]}}}}();ub.prototype.addHandler=function(a,b){var b=b||!1,c=this.eventName?this.eventName:"???";0<this.fireCount&&n.warn("Adding handler for event "+c+" but it has already been fired "+
this.fireCount+" time(s).");"???"!==c&&0<Db.fireCount&&!1===b&&n.warn("Adding handler for event "+c+" but janrain.capture.ui.start() has already been called.");this.eventHandlers.push(a);return this.eventHandlers.length-1};ub.prototype.removeHandler=function(a){return this.eventHandlers[a]?(this.eventHandlers[a]=null,!0):!1};ub.prototype.fire=function(a){this.fireCount++;this.eventName&&n.log("event",this.eventName);U(this.eventHandlers,function(b){try{"function"===typeof b&&b(a)}catch(c){n.forceError(c)}});
a&&!0===a.save&&(delete a.save,this.firedEvents.push({event:this,args:a}))};"undefined"===typeof janrain.events&&(janrain.events={});$b=void 0;Cb=void 0;Db=void 0;Cb||(Cb=X());$b||($b=X());Db||(Db=X());janrain.events.onCustomizationChange||(janrain.events.onCustomizationChange=X());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=X());janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=X());janrain.events.onProviderLoginError||(janrain.events.onProviderLoginError=
X());janrain.events.onProviderLoginSuccess||(janrain.events.onProviderLoginSuccess=X());janrain.events.onProviderLoginToken||(janrain.events.onProviderLoginToken=X());janrain.events.onProviderLogoutStart||(janrain.events.onProviderLogoutStart=X());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=X());(function(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;
for(var a="onAuthWidgetLoad,onAuthWidgetContentPlaced,onCustomizationChange,onProviderLoginComplete,onProviderLoginCancel,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),c=0;c<a.length;c++)if("object"!==typeof janrain.events[a[c]])return!1;return!0}sa(function(){return a()?(janrain.events.onAuthWidgetLoad.fire(),!0):!1}).setDelay(5).setMaxAttempts(Infinity).errorEvery(2E3,"Auth widget loaded poll failing. Is the auth widget loading?").start()})();
janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureRegistrationStart,onCaptureLoginStart,onCaptureLoginSuccess,onCaptureProfileSaveSuccess,onCaptureProfileSaveFailed,onCaptureFieldsChanged,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFederateRefreshedToken,onCaptureLoginFailed,onCaptureRegistrationSuccess,onCaptureRegistrationFailed,onCaptureEmailVerificationSuccess,onCaptureEmailVerificationFailed,onCaptureForgotPasswordCodeSuccess,onCaptureForgotPasswordCodeFailed,onCaptureSaveSuccess,onCaptureSaveFailed,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureServerValidationFailed,onCaptureFormError,onCaptureProfileCookieSet,onCaptureExpiredToken,onCaptureInvalidToken,onCaptureTransactionTimeout,onCaptureCustomEvent,onCaptureProfileLink,onCaptureEmailSent,onCaptureProfileUnlink,onCapturePhotoUploadSuccess,onCaptureBackplaneReady,onCaptureBackplaneInitFailed,onCaptureAutoSaveUpdate,onCaptureControlSuccess,onCaptureControlFailed,onModalClose,onModalOpen,onCaptureAccountReactivateSuccess,onCaptureAccountReactivateFailed,onCaptureAccountDeactivateSuccess,onCaptureAccountDeactivateFailed,onCaptureLinkAccountError,onCaptureError,onCaptureSubscriptionUpdate,onCaptureRegistrationSuccessNoLogin,onCapturePostLoginScreen,onCapturePluralItemEdit,onCapturePluralItemCreate,onCapturePluralItemDelete,onCapturePluralItemSave,onCaptureOTPLoginSuccess,onCaptureOTPLoginFailed".split(",");
for(var wc=0,sf=janrain.events.captureEvents.length;wc<sf;wc++)"undefined"===typeof janrain.events[janrain.events.captureEvents[wc]]&&(janrain.events[janrain.events.captureEvents[wc]]=new ub);janrain.events.onCaptureEmailVerficationSuccess=janrain.events.onCaptureEmailVerificationSuccess;janrain.events.onCaptureControlSuccesss=janrain.events.onCaptureControlSuccess;janrain.settings.capture.oldEvents&&(janrain.events.onCaptureStartRegistration=janrain.events.onCaptureRegistrationStart,janrain.events.onCaptureStartLogin=
janrain.events.onCaptureLoginStart,janrain.events.onCaptureSuccessfulLogin=janrain.events.onCaptureLoginSuccess,janrain.events.onCaptureSuccessfulProfileSave=janrain.events.onCaptureProfileSaveSuccess,janrain.events.onCaptureFailedProfileSave=janrain.events.onCaptureProfileSaveFailed,janrain.events.onCaptureFailedLogin=janrain.events.onCaptureLoginFailed,janrain.events.onCaptureSuccessfulRegistration=janrain.events.onCaptureRegistrationSuccess,janrain.events.onCaptureFailedRegistration=janrain.events.onCaptureRegistrationFailed,
janrain.events.onCaptureSuccessfulEmailVerification=janrain.events.onCaptureEmailVerificationSuccess,janrain.events.onCaptureFailedEmailVerification=janrain.events.onCaptureEmailVerificationFailed,janrain.events.onCaptureSuccessfulSave=janrain.events.onCaptureSaveSuccess,janrain.events.onCaptureFailedSave=janrain.events.onCaptureSaveFailed,janrain.events.onCaptureFailedServerValidation=janrain.events.onCaptureServerValidationFailed);janrain.federateJSLoaded=!1;janrain.settings.capture.federate&&qd(janrain.settings.capture.ssoFileUrl||
(janrain.settings.enforceSecureCloudfront?"https://ssl-cdn.janrainsso.com":"https://d1v9u0bgi1uimx.cloudfront.net")+"/sso.js",function(){janrain.federateJSLoaded=!0}).setTimeoutLimit(1E4).setTimeoutCallback(function(){janrain.settings.capture.federate=!1}).load();(function(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var a=0,c=janrain.events.captureEvents.length;a<c;a++)if("object"!==typeof janrain.events[janrain.events.captureEvents[a]])return!1;
return janrain.settings.capture.federate&&!janrain.federateJSLoaded||!janrain.ready?!1:!0}sa(function(){return a()?(U(janrain.settings.capture.beforeJanrainCaptureWidgetOnLoad||[],Pc),"function"===typeof janrainCaptureWidgetOnLoad&&janrainCaptureWidgetOnLoad(),!0):!1}).setDelay(5).setMaxAttempts(Infinity).errorEvery(2E3,"Capture widget loaded poll failing. Is the capture widget loading?").start()})();Sc();var uf=new function(){function a(){function a(){return{twoColumn:{actionText:"Sign in using your account with",
providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function b(){var a;Oa&&(ib=r());l=g();tb=z();B=document.createElement("div");B.className="janrainContent";B.style.width=J+"px";B.style.height=j()+"px";B.style.paddingLeft=x+"px";B.style.paddingRight=x+"px";B.style.boxSizing="content-box";40===cb&&(B.style.paddingTop=x-1+"px");oa||(B.style.backgroundColor=V);oa||(B.style.border=La?"1px solid "+Ja:"1px solid "+V);B=
ua(B,R);oa||(B.style.overflow="hidden");B.style.position=La?"relative":"absolute";Ka=u();2==l||0==l?(Va=(new q).setSide("right").create(),db=(new q).setSide("left").create()):(Va=(new q).setSide("top").create(),db=(new q).setSide("bottom").create());a=t();" "!==e()&&a.appendChild(tb);if(oa){var i=M("blank");i.style.display="none";a.appendChild(i)}a.appendChild(Ka);!oa&&Va&&db&&(a.appendChild(Va),a.appendChild(db));0<l&&Oa&&a.appendChild(ib);B.appendChild(a);O("customizable_auth_widget_styling")||
c(B);Tb||F.show();setTimeout(function(){Cb.fire()},0)}function c(a){function b(a){var c="string"===typeof a.getAttribute("style")?a.getAttribute("style"):null;c&&(c.cssText&&(c=c.cssText),a.style.setAttribute?a.style.setAttribute("cssText",c.replace(/(((?!!important).)+?);/g,"$1 !important;")):a.setAttribute("style",c.replace(/(((?!!important).)+?);/g,"$1 !important;")))}for(var e=a.getElementsByTagName("*"),i=0,h=e.length;i<h;i++)"janrainProviderPages"===e[i].id||"janrainSlideControl"===e[i].className||
"janrainSlideControl"===e[i].parentNode.className||b(e[i]);b(a)}function e(){if(ca&&(ca==a().twoColumn.actionText||ca==a().oneColumn.actionText||ca==a().oneRow.actionText))Da=!1;return Da&&ca?ca:h.translate.HEADER?h.translate.HEADER:"two column"===v?a().twoColumn.actionText:"one column"===v?a().oneColumn.actionText:"one row"===v?a().oneRow.actionText:ca}function g(){var a=v;if("default"==a||"two column"==a)return 2;if("one column"==a)return 1;if("one row"==a)return 0}function j(){var a=" "===ca?0:
eb+x,b=Oa&&"one row"!==v?Qa+x:0;return o()+a+b}function n(){var a=parseInt(Ka.style.left),b=parseInt(Ka.style.top),c;1==l?parseInt(Ka.style.height):parseInt(Ka.style.width);2==l&&(c=(J-3*x-(2==l?10:0))/l);if("one column"===v){if(" "===ca&&(b+=11,0<b||-9<=b))return 0;if(9>b)return 1;if(0<b||b>=-(eb-(x+1)))return 0}0==l&&(c=J-100);if(0>a&&a<-c)return 1;if(0<a||a>=-x)return 0}function o(){if("two column"===v)var a=la/2;"one column"===v&&(a=la);"one row"===v&&(a=1);var b="one row"===v?0:2*a,c="one column"===
v?3*x:0;if(7===f||6===f||f&&ea){if("two column"===v&&(c=x,7===f||6===f))c=2*x;if("one column"===v&&(c=3*x,(7===f||6===f)&&!ea))c+=x;if("one row"===v&&(7===f||6===f))c=x}"one column"===v&&Ra<=la&&(c=f&&ea?c+2*x:c-2*x);return N*a+x*(a+1)+b+c}function q(){function a(){var b;j="over";var qb=n();if(0==qb&&"left"===i||0==qb&&"top"===i||1==qb&&"right"===i||1==qb&&"bottom"===i)return this.style.cursor="default",r.onclick="",!1;var h=this;setTimeout(function(){if(1===l){if("over"!==j)return!1;f&&(e.style.display=
"block");g.style.display="block";r.onclick=c;h.style.cursor="pointer";var a=document.getElementById("janrainProviderPages");b="top"==i||"bottom"==i?parseInt(a.style.top):parseInt(a.style.left);var qb="right"===i||"bottom"===i?b-Na:b+Na;"top"===i||"bottom"===i?a.style.top=qb+"px":a.style.left=qb+"px";l=2}},f?50:100)}function b(){var a;j="out";var c=n();if(1==c&&"right"===i||0==c&&"left"===i||0==c&&"top"===i||1==c&&"bottom"===i)return!1;setTimeout(function(){if(2===l){if("out"!==j)return!1;f&&(e.style.display=
"none");g.style.display="none";var b=document.getElementById("janrainProviderPages");a="top"==i||"bottom"==i?parseInt(b.style.top):parseInt(b.style.left);var c="right"===i||"bottom"===i?a+Na:a-Na;"top"===i||"bottom"===i?b.style.top=c+"px":b.style.left=c+"px";l=1}},f?200:400)}function c(){g.style.display="none";r.style.cursor="default";s(i,function(a){D(a);l=1})}var e,i,h,g,I={left:"-33px -16px",right:"0px -16px",top:"-16px -33px",bottom:"-16px 0px"},j="",l=1,r;return{setSide:function(a){i=a;return this},
create:function(){var f;if(Ra<=la)f=!1;else{f=document.createElement("div");f.setAttribute("id","janrainShim_"+i);f.style.background="black";"top"===i||"bottom"===i?(f.style.height="19px",f.style.width="100%"):(f.style.height="100%",f.style.width="17px");ma?(f.style.filter="alpha(opacity=100)",f.style.opacity=100):(f.style.filter="alpha(opacity=0)",f.style.opacity=0);f.style.position="absolute";f.style.zindex="99";if("top"===i||"bottom"===i)f.style.left="0";f.style[i]=x+"px";f.style.top="one column"!==
v?x+1+"px":"top"===i?"10px":"0px";f.style.display="none";e=f;f=document.createElement("div");f.style.backgroundColor=ma?"green":V;f.className="janrainSlideControllerMask";f.style.position="absolute";"one column"!==v&&(f.style.width=x+"px",f.style.height="100%",f.style.top="0px",f.style[i]="0px",f.style.borderWidth="1px","right"===i&&(!Oa||"one row"===v)&&ua(f,null,0,0,R,0),"left"===i&&(!Oa||"one row"===v)&&ua(f,null,0,0,0,R),"right"===i&&" "===ca&&ua(f,null,0,R,R,0),"left"===i&&" "===ca&&ua(f,null,
R,0,0,R));"one column"===v&&(f.style.height=x+"px",f.style.fontSize="0px",f.style.width="100%",f.style.padding="0px",f.style[i]="0px","top"===i&&" "===ca?ua(f,null,R,R,0,0):"bottom"===i&&!Oa&&ua(f,null,0,0,R,R));"one row"===v&&(f.style.height="105.5%");h=f;f=document.createElement("div");f.setAttribute("id","janrainArrow_"+i);f.style.background="url("+qc("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+") no-repeat scroll "+I[i]+" transparent";f.style.height="19px";f.style.width="17px";f.style.position=
"absolute";if("top"===i||"bottom"===i)f.style.left=J/2+"px";f.style[i]=x+"px";f.style.top="one column"!==v?o()/2-2*x+1+"px":"top"===i?"10px":"0px";f.style.display="none";g=f;f=document.createElement("div");f.className="janrainSlideControl";f.style.backgroundColor=ma?"purple":"transparent";"one column"===v?(f.style.width=J+4+"px",f.style.left="3px","top"==i?(f.style.height=x+"px",f.style.top=eb+x+"px"," "===ca&&(f.style.left="0px",f.style.top="0px",f.style.width=J+10+"px")):(f.style.height="20px",
f.style.bottom=(Oa?Qa+x:0)+"px",ua(f,null,0,0,R,R))):(f.style.width="right"===i?"20px":"0px",f.style[i]="0px",f.style.height=o()-(x*(" "===ca)?1:2)+"px",40===cb&&"one row"===v&&"left"===i&&(f.style.left=Ma+"px"),"right"===i&&!Oa&&ua(f,null,0,0,R,0),"left"===i&&!Oa&&ua(f,null,0,0,0,R));f.style.position="absolute";f.style.zIndex="100";f.style.cursor="pointer";f.onmouseover=a;f.onmouseout=b;f.onclick=c;r=f;r.appendChild(h);r.appendChild(e);r.appendChild(g);f=r}return f}}}function s(a,b){var c=document.getElementById("janrainProviderPages"),
e=new Zd;if("top"===a||"bottom"===a){if(" "===ca)var i=-(o()-N),h=0;else i=-(o()-N-eb-x),h=eb+x;50===N&&(i-=20);f&&ea&&(i+=x," "!==ca&&(h+=x));e.setElement(c).setAcceleration("sinusoidal").setDuration(100*la).startPosition(parseInt(c.style.top)).endPosition("bottom"===a?i:h).setDirection("vertical").setCallback(function(){b(a)}).animate()}else f&&ea?(i=-(J-2*x-39),"one row"===v&&(i=-(Ma-1*x))):(i=-(J-32),"one row"===v&&(i=-(J-24))),e.setElement(c).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(c.style.left)).endPosition("right"==
a?i:x).setDirection("horizontal").setCallback(function(){b(a)}).animate()}function r(){var a=document.createElement("div");a.style.backgroundColor=ma?"aqua":V;a.style.width=J+"px";a.style.height=Qa+"px";a.style.position="absolute";a.style.left="0px";a.style.paddingLeft=x+"px";a.style.paddingRight=x+"px";a.style.paddingBottom=x+"px";a.style.bottom="0px";a.style.fontSize="10px";a.style.textAlign="left";a.style.color=xa;a.style.fontFamily=Ca;ua(a,null,0,0,R,R);var b=document.createElement("div"),c=janrain.settings.translate.POWERED_BY_PREFIX&&
"en"!==janrain.settings.language?janrain.settings.translate.POWERED_BY_PREFIX:"Social Login",e=janrain.settings.translate.POWERED_BY_SUFFIX&&"en"!==janrain.settings.language?janrain.settings.translate.POWERED_BY_SUFFIX:" by Janrain";b.style.paddingLeft="1px";var i=document.createElement("a");i.setAttribute("href","http://janrain.com/products/engage/social-login?utm_source="+Ib(janrain.settings.appUrl).host+"&utm_medium=Partner&utm_campaign=attribution");i.setAttribute("target","_blank");i.appendChild(document.createTextNode(c+
e));b.appendChild(i);a.appendChild(b);return a}function z(){var a=document.createElement("div");a.style.backgroundColor=ma?"orange":V;a.className="janrainHeader";a.style.fontSize=va+"px";a.style.color=xa;a.style.position="relative";a.style.height=eb+"px";40===cb&&(a.style.cssFloat="left");a.style.left=40===cb?"-6px":"-5px";a.style.paddingLeft=x+"px";a.style.paddingRight=x+"px";a.style.paddingTop=x+"px";a.style.paddingBottom="0px";a.style.whiteSpace="nowrap";a.style.width=40===cb?"81px":J+"px";a.style.zIndex=
"100";40===cb?ua(a,null,R,0,0,R):ua(a,null,R,R,0,0);40===cb&&(a.style.marginTop="-3px");a.style.textAlign="one column"===v?"center":"left";var b=e();Fa=document.createElement("div");Fa.style.paddingLeft="1px";Fa.style.fontFamily=Ca;" "!==b&&Fa.appendChild(document.createTextNode(b));a.appendChild(Fa);return a}function t(){var a=document.createElement("div");a.id="janrainView";return a}function u(){var a,b;function c(e){e=e.touches[0];"one column"===v?a=e.pageY:b=e.pageX}function e(c){c.preventDefault();
c=c.touches[0];c="one column"===v?a-c.pageY:b-c.pageX;if(35<c||-35>c){var i;i="one column"===v?0<c?"bottom":"top":0<c?"right":"left";var f=n(),h=!0;"bottom"===i&&f+1==o&&(h=!1);"top"===i&&0==f&&(h=!1);"left"===i&&0==f&&(h=!1);"right"===i&&f+1==o&&(h=!1);h&&("one column"===v?g.style.top=parseInt(g.style.top)-c+"px":g.style.left=parseInt(g.style.left)-c+"px",s(i,function(){D()}),g.ontouchmove="")}}function i(){g.ontouchmove=e}var h,g,j,I,o,r=l,q=[];I=C();o=oa?1:Math.ceil(Ra/la);2<o&&F.log("Either reduce the number of providers, or increase the setting for providersPerPage.");
g=document.createElement("div");g.setAttribute("id","janrainProviderPages");oa&&(g.className="janrainConfigureMode");g.style.paddingTop=(6===f||7===f)&&f&&ea?2*x:x+"px";if((6===f||7===f)&&!ea)g.style.paddingTop=x+4+"px";1<o&&(g.ontouchstart=c,g.ontouchmove=e,g.ontouchend=i);40===cb&&"one row"===v?g.style.left=Ma+x+"px":f&&ea?"one column"!==v&&(g.style.left=x+"px"):g.style.left=x+"px";40===cb&&"one row"===v&&(g.style.cssFloat="left");40===cb&&"one row"===v&&(g.style.marginTop="1px");"one column"===
v&&(g.style.top=(f&&ea?1:0)+eb+x+"px");"one row"!==v&&" "===ca&&(g.style.top="0px");"one column"===v&&" "===ca&&(g.style.top="0px");h=J*o;g.style.position=f&&ea&&"one column"===v?"relative":"absolute";"two column"===v&&!(Ra<=la)&&(g.style.width=h+"px");"one row"===v&&(g.style.width=(!0===oa?J+x:2*J)+"px");oa&&(r=0);b=0;a=0;for(var u=0;u<o;u++){for(j=0;j<=r;j++)q[j]=document.createElement("ul"),q[j].className="providers",q[j].id="janrainProviders_"+j,1<r&&(q[j].style.cssFloat="left"),1<r&&(q[j].style.styleFloat=
"left"),q[j].style.listStyleType="none",q[j].style.marginTop="0px",q[j].style.marginLeft="0px",q[j].style.marginRight="0px",q[j].style.marginBottom="0px",q[j].style.padding="0px";h=document.createElement("div");h.className="janrainPage";h.setAttribute("pageIndex",u);f&&ea&&1===o&&(h.style.width="110%");for(j=0;j<r;j++)h.appendChild(q[j]);if(oa||1>l)for(j=0;j<=r;j++)h.appendChild(q[j]);for(var y=I.length%2,tf=oa?Ra:la,z=0;z<tf&&!(0==I.length);z++){if(2==r)var Cd=1==y?q[I.length%2?0:1]:q[I.length%2];
if(1==r||0==r)Cd=q[0];j=I.shift();Cd.appendChild(j)}g.appendChild(h)}return g}function D(a){0==n()?("left"===a&&(db.style.width=x+"px",Va.style.display="block",Va.style.width="20px"),"top"===a&&(Va.style.height=x+"px",db.style.display="block",db.style.height="20px")):("right"===a&&(Va.style.width=x+"px",db.style.display="block",db.style.width="20px"),"bottom"===a&&(db.style.height=x+"px",Va.style.display="block",Va.style.height="20px"))}function C(){for(var a=[],b=0;b<Ra;b++){var c=M(pa[b],b+1);a.push(c)}if("one column"==
v){var e=a.slice(0),b=function(){var a=-Infinity,b,c,i=function(){b=e[c].children[0].children[1];return void 0!==b};for(c=0;c<e.length;c++)i()&&(a=Math.max(a,b.offsetWidth));for(c=0;c<e.length;c++)i()&&(b.style.width=a+"px")};janrain.events.onModalOpen?janrain.events.onModalOpen.addHandler(b,!0):janrain.events.onAuthWidgetContentPlaced.addHandler(b,!0);janrain.events.onCustomizationChange.addHandler(b,!0)}return a}function w(a,b){b.style.cursor="pointer";b.style.whiteSpace="nowrap";b.style.overflow=
"hidden";b.setAttribute("id","janrain-"+a);b.setAttribute("role","button");"one row"===v?b.style.background="transparent":("gradient"===fb&&Lc(b,"bottom, #eeeeee, #ffffff"),"gray"===fb&&(b.style.backgroundColor="#eeeeee"),"white"===fb&&(b.style.backgroundColor="#ffffff"));y(b,"mouseover",function(){bc();"one row"===v?b.style.background="transparent":(b.style.backgroundColor="#E3E3E3",b.style.backgroundImage="")});y(b,"mouseout",function(){bc();"one row"===v?b.style.background="transparent":("gradient"===
fb&&Lc(b,"bottom, #eeeeee, #ffffff"),"gray"===fb&&(b.style.backgroundColor="#eeeeee"),"white"===fb&&(b.style.backgroundColor="#ffffff"))});Tb||G(b,a);return b}function M(a,b){function c(b){if(jb&&jb[a])return jb[a][b]}var e=document.createElement("li");e.style.listStyle="none";0==l&&!1===oa&&(e.style.cssFloat="left");0==l&&!1===oa&&(e.style.styleFloat="left");e.style.height=f&&ea?N+2:N+"px";if("two column"==v){var i=oa?3*x:Ra<=la?0:3*x;e.style.width=6===f||bc&&ea?(J-i-4*x)/l+"px":(J-i-(2==l?10:0))/
l+"px"}e.style.marginTop="0px";if("one column"==v){if(7==f||6==f)e.style.marginTop="-1px";f&&ea?e.style.marginRight="0px":e.style.width=J-x/2+"px";e.style.marginLeft="0px"}else e.style.marginRight=x+"px";0==l&&(e.style.width=N+"px");e.style.marginBottom=(7===f||6===f||f&&ea?3:x)+"px";e.style.position="relative";0!=l&&(e.style.border="1px solid "+Ga);0!=l&&ua(e,Ha);var i=document.createElement("a"),h=document.createElement("span"),g=document.createElement("span");"undefined"!==typeof b&&(i.tabIndex=
b);i.style.fontFamily="Helvetica, lucida grande, Verdana, sans-serif";i.style.fontSize="12px";i.style.lineHeight="14px";i.style.marginLeft="auto";i.style.marginRight="auto";i.href="javascript:void(0);";i.style.textDecoration="none";i.style.display="block";i.style.paddingLeft="5px";i.style.paddingRight="5px";i.style.textAlign="left";g.className="janrain-provider-text-color-"+a;g.style.fontFamily=Ca;g.style.cursor="pointer";g.style.marginLeft="7px";g.style.textAlign="left";30==N&&(h.className="janrain-provider-icon-24 janrain-provider-icon-"+
a,h.style.marginTop="3px",g.style.marginTop="9px",g.style.verticalAlign="top",g.style.display="inline-block");50==N&&(h.className="janrain-provider-icon-32 janrain-provider-icon-"+a,h.style.marginTop="9px",h.style.backgroundColor="transparent",g.style.marginTop="16px",g.style.fontSize="16px",g.style.lineHeight="20px",g.style.verticalAlign="top",g.style.display="inline-block");"one column"==v&&(i.style.textAlign="center");"two column"==v&&275>J&&(g.style.textIndent="-9999px",g.style.fontSize="0",g.style.marginLeft=
0,i.style.textAlign="center");2==l&&(30==N&&(i.style.width="auto"),50==N&&(h.style.marginLeft="5px"));if(0==l&&(30==N||50==N)){var h=document.createElement("a"),j=document.createElement("span"),I=document.createTextNode(a);"undefined"!==typeof b&&(h.tabIndex=b);h.className="janrain-provider-icon-32 janrain-provider-icon-bg janrain-provider-icon-"+a;h.style.marginTop="0px";h.href="javascript:void(0);";h.style.textDecoration="none";h.style.display="block";j.style.display="inline-block";j.style.textIndent=
"-9999px"}if(c("customSAML")||c("customOpenid")){var n=c("friendlyName")||"Sign In",o=document.createTextNode(n);if(1==l||2==l){if(30==N||50==N)h.style.backgroundImage="url("+c("largeIcon")+")",g.appendChild(o),g.style.color=c("color")||"#000000";if(15<=o.length){var q="undefined"!==typeof o.textContent?"textContent":"nodeValue";o[q]=o[q].substr(0,15)}}if(0==l&&(30==N||50==N))I=document.createTextNode(n),h.style.backgroundImage="url("+c("largeIcon")+")";f&&10>f&&(h.style.backgroundImage="none",h.style.filter=
"progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+c("largeIcon")+"')")}else if("blank"!==a&&(1==l||2==l))30==N&&(h.style.backgroundColor="transparent",g.innerHTML=jb[a].friendlyName),50==N&&(h.style.backgroundColor="transparent",g.innerHTML=jb[a].friendlyName);6===f&&"one row"!==v&&(n=document.createElement("div"),n.style.height=h.style.height,n.style.width="90px",n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+
h.src+"')",h.style.filter="alpha(opacity=0)",n.appendChild(h),e.appendChild(n));0==l?(e.appendChild(h),h.appendChild(j),j.appendChild(I)):(e.appendChild(i),i.appendChild(h),i.appendChild(g));return w(a,e)}function H(a,b){var c=document.createElement("a"),e=h.translate.SIGN_IN_AS||"Sign in as {name}",e=e.replace("{name}",b),i=document.createElement("span"),e=document.createTextNode(e),g=document.createElement("span");i.className="janrain-provider-text-color-"+a;c.href="javascript:void(0);";c.style.textDecoration=
"none";c.style.display="block";if("customopenid"===a){var I=document.createElement("span");document.createElement("span");I.className="janrain-provider-icon-32 janrain-provider-icon-"+a;I.style.backgroundImage="url("+$a.largeIcon+")";i.style.color=$a.customOpenIdProviderColor||"#000000";10>f&&(I.style.backgroundImage="none",I.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+$a.largeIcon+"')")}else"customsaml"===a?(I=document.createElement("span"),
document.createElement("span"),I.className="janrain-provider-icon-32 janrain-provider-icon-"+a,I.style.backgroundImage="url("+wb.largeIcon+")",i.style.color=wb.customSAMLProviderColor||"#000000",10>f&&(I.style.backgroundImage="none",I.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+wb.largeIcon+"')")):(I=document.createElement("span"),I.className="janrain-provider-icon-24 janrain-provider-icon-"+a);g.style.display="inline-block";g.style.verticalAlign=
"top";g.style.fontFamily=Ca;var n=document.createElement("div"),o=7.5*e.length+30,q=j();n.style.fontSize="16px";n.style.height="100%";n.style.position="relative";if(0==l||120>q)15<=e.length&&(n.style.fontSize="14px",o=7*e.length+30),20<=e.length&&(n.style.fontSize="12px",o=6*e.length+30),24<=e.length&&(n.style.fontSize="10px",o=5*e.length+50),30<=e.length&&(o="undefined"!==typeof e.textContent?"textContent":"nodeValue",e[o]=e[o].substr(0,26)+"...",o=162);n.style.width=o+"px";if(0==l||116>q)"customopenid"===
a?(I=document.createElement("span"),document.createElement("span"),I.className="janrain-provider-icon-24 janrain-provider-icon-"+a,I.style.backgroundImage="url("+$a.largeIcon+")",i.style.color=$a.customOpenIdProviderColor||"#000000",f&&10>f&&(I.style.backgroundImage="none",I.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+$a.largeIcon+"')")):"SAML"===a?(I=document.createElement("span"),document.createElement("span"),I.className="janrain-provider-icon-24 janrain-provider-icon-"+
a,I.style.backgroundImage="url("+wb.largeIcon+")",i.style.color=wb.customSAMLProviderColor||"#000000",f&&10>f&&(I.style.backgroundImage="none",I.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+wb.largeIcon+"')")):(I=document.createElement("span"),I.className="janrain-provider-icon-24 janrain-provider-icon-"+a);30===N&&(g.style.marginTop="9px",g.style.fontSize="12px",I.style.marginTop="3px");50===N&&(g.style.marginTop="16px",I.className="janrain-provider-icon-32 janrain-provider-icon-"+
a,I.style.marginTop="9px");"one row"===v&&30===N&&(I.style.marginTop="-1px");g.appendChild(i);i.appendChild(e);I.style.marginRight="10px";I.style.verticalAlign="top";c.style.overflow="hidden";c.style.position="relative";c.style.height=("one row"!==v?N:25)+"px";c.style.marginBottom="one row"===v?"-4px":"4px";"one row"===v&&(c.style.top="-4px");c.style.left="0px";f&&ea&&(c.style.marginRight="5px");f&&ea&&(c.style.marginLeft="3px");c.style.border="1px solid "+Ga;ua(c,Ha);"customopenid"===a&&(c.style.color=
jb[a].color);6===f||7===f||f&&ea?n.style.left="10px":n.style.margin="0 auto";n.appendChild(I);n.appendChild(g);0==l&&(n.style.paddingTop="2px",g.style.marginTop="6px");0==l||116>q?(c.appendChild(n),n.style.width="auto"):(50===N&&parseInt(c.style.height),g.style.cssFloat="none",g.style.styleFloat="none",c.appendChild(I),c.appendChild(g));return w(a,c)}function G(a,b){y(a,"click",function(){Q(b)})}function Q(a){var b=jb[a],c={appUrl:h.appUrl,mobileDevice:Uc,language:h.language,popup:cc,tokenUrl:Oe(Ya.linkAccounts)||
sd(h.tokenUrl||location.href,Ya)||location.href,facebookPermissions:ob,forceReauth:Ta,widgetType:"auth",tokenAction:ab,bpChannel:Za,customOpenid:Jb,customOpenidOpxblob:h.customOpenidOpxblob,extParams:h.extParams,scopes:pb};b.name=a;new Ua(b,c,function(){bb||(da=setTimeout(function(){Ea(b)},300))})}function K(){var a=document.createElement("div");a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.width=J+"px";a.style.zIndex="102";a.style.textAlign="center";a.style.padding=x+"px";
a.style.backgroundColor=V;a.style.height=j()-(f&&ea?0:2*x)+"px";ua(a,R);return a}function T(a){var b=document.createElement("a"),c=document.createTextNode(h.translate.USE_ANOTHER_ACCOUNT||"switch accounts");b.setAttribute("class","janrainSwitchAccountLink");b.setAttribute("href","");b.style.fontSize="12px";b.style.fontFamily=Ca;b.style.color=xa;b.onclick=a;b.appendChild(c);return b}function S(){return"modal"===Z?document.getElementById("janrainModal"):"embed"===Z?document.getElementById("janrainEngageEmbed"):
!1}function W(){var a=parseInt(B.style.width);return a=a+2*x+2}function U(){var a=S();null!==a&&"object"===typeof B&&B.parentNode===a&&a.removeChild(B)}function X(){var a="";"object"===typeof A&&(a=A.getState());return{type:Z,width:W(),fontFamily:Ca,fontSize:va,fontColor:xa,backgroundColor:V,borderColor:Ja,borderRadius:R,format:v,providersPerPage:la,providers:pa,buttonBackgroundStyle:fb,buttonBorderColor:Ga,buttonBorderRadius:Ha,actionText:e(),showAttribution:Oa,modalState:a}}function fa(a){v=P("string",
["default","two column","one column","one row"],"two column",a);"default"===v&&(v="two column");"one row"==a&&(R=P("number",[0,10],5,R));sa(va)}function aa(a){"two column"===v&&(J=P("number",[225,600],380,a));"one column"===v&&(J=P("number",[160,600],200,a));"one row"===v&&(N=30,a=Ra<=la?x*(parseInt(la)-1):x*(parseInt(la)+2),40===cb&&(a+=Ma-x),J=N*la+a);if(("two column"===v||"one column"===v)&&!oa)J=J-2*x-2;f&&ea&&(J=J+2*x+2);"one row"!==v&&(N=380<J?50:30)}function ja(b){"string"===typeof b&&(Da=
!0,ca=P("text",null,ca,b)," "===ca?R=P("number",[0,5],5,R,!0):eb="two column"!==v?a().headerHeight-5:a().headerHeight)}function $(a){fb=P("string",["gray","white","gradient"],"gradient",a)}function ba(a){Ga=P("color",null,"#CCCCCC",a)}function ka(a){V=P("color",null,"#ffffff",a)}function na(a){"undefined"===typeof a&&(a=5);R=" "===ca||!Oa||"one row"===v?P("number",[0,5],5,a,!0):P("number",[0,10],10,a)}function wa(a){Oa=P("boolean",null,!0,a);j();R=a?P("number",[0,10],5,R,!0):P("number",[0,5],5,R,
!0)}function ya(a){Ja=P("color",null,"#C0C0C0",a)}function sa(a){if("two column"===v)va=P("number",[8,30],Qb,a);else if("one column"===v||"one row"===v)va=P("number",[8,20],Ub,a)}function za(a){xa=P("color",null,"#333333",a)}function Aa(a){if("object"==typeof a){l=g();for(var b=0,c=a.length;b<c;b++)jb[a[b]]||(F.log(a[b]+" is not a valid provider: removing."),a.splice(b,1),--b,--c);pa=a;Ra=a.length;"object"===typeof A&&A.setHeight(j()-2*x).refresh()}}function Ba(a){"two column"===v&&(la=P("number",
[4,6,8],6,a));"one column"===v&&(la=P("number",[1,6],6,a));"one row"===v&&(la=Hb?Ra:P("number",[4,8],6,a),aa(J))}function Ea(a){var b=document.createTextNode(h.translate&&h.translate.SIGNING_IN?h.translate.SIGNING_IN:"Signing in ..."),c=document.createElement("div");Sa=K(a.name);c.appendChild(b);c.style.position="absolute";c.style.marginTop="-8px";c.style.top="50%";c.style.textAlign="center";c.style.width="100%";Sa.appendChild(c);B&&B.appendChild(Sa)}function ta(a){return!(Tb||hb||-1===pa.indexOf(a))}
var ma=!1,J=380,Da=!1,Ca="Helvetica, lucida grande, Verdana, sans-serif",va=0,xa="#666666",V="#ffffff",Ja="#C0C0C0",R=10,B,Fa,v="two column",l,La,la=6,pa=["aol","yahoo","openid"],Ra=pa.length,Ga="#CCCCCC",Ha=5,fb="gradient",N=30,eb=a().headerHeight,cb=60,Ma=89,Qa=a().footerHeight,x=5,Na=10,ca="Sign in using your account with",Sa,Ka,Va,db,Oa=!0,hb=!1,lb=!1,tb,ib;return{build:b,setFormat:function(b){b&&fa(b);"two column"!==v&&(eb=a().headerHeight-5);"two column"===v&&(la=a().twoColumn.providersPerPage,
eb=a().headerHeight);return this},setActionText:function(a){"string"===typeof a&&ja(a);return this},setFontSize:function(a){a&&sa(a);return this},setFontFamily:function(a){a&&a&&(Ca=a);return this},setFontColor:function(a){a&&za(a);return this},setButtonBorderColor:function(a){a&&ba(a);return this},setButtonBorderRadius:function(a){if("string"==typeof a||"number"==typeof a)Ha=P("number",[0,20],5,a);return this},setButtonBackgroundStyle:function(a){a&&$(a);return this},setWidth:function(a){("string"==
typeof a||"number"==typeof a)&&aa(a);return this},refresh:function(){U();var a=S();b();var c=Xa();c&&!Bc?Wa("expected_tab",c):(null!==a&&"object"===typeof B&&a.appendChild(B),"object"===typeof A&&A.setHeight(parseInt(B.style.height)+2).refresh());Tb&&"object"===typeof A&&A.setHeight(parseInt(B.style.height)+2).refresh();janrain.events.onCustomizationChange.fire(X());return this},remove:function(){U();return this},setRowHeight:function(a){if(0!==g())return this;a||(a=60);oneRowHeaderHeight=P("number",
[40,60,90],60,a);40===oneRowHeaderHeight&&(N=30,cb=40);60===oneRowHeaderHeight&&(N=30);90===oneRowHeaderHeight&&(N=50);return this},setHeight:function(a){"object"==typeof B&&(B.style.height=a+"px");return this},setBackgroundColor:function(a){a&&ka(a);return this},setBorderColor:function(a){a&&ya(a);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&na(a);return this},setProviders:function(a){"object"==typeof a&&Aa(a);return this},setProvidersPerPage:function(a){if("string"==
typeof a||"number"==typeof a)Ba(a),"object"===typeof A&&A.setHeight(j()).refresh("janrainModal");return this},setShowAttribution:function(a){"boolean"===typeof a&&wa(a);return this},setPreviewMode:function(a){"boolean"===typeof a&&(Tb=a);return this},setProviderFlow:function(a,b){return G(a,b)},triggerFlow:function(a){return Q(a)},setNoReturnExperience:function(a){"boolean"===typeof a&&(hb=a);return this},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&(lb=a);return this},
setConfigureMode:function(a){"boolean"===typeof a&&(oa=a,l=g());return this},embed:function(a){if((La=a)&&"object"==typeof B)B.style.position="relative";return this},getContentsDiv:function(){return B},getErrorPage:function(a,b){var c=document.createTextNode(b.msg),e=document.createElement("div");e.appendChild(c);e.style.color=xa;e.style.fontSize=va+"px";e.style.width="100%";var i=K(a);i.className="janrainAuthErrorPage";i.appendChild(e);i.appendChild(T(function(){B.removeChild(i);B.removeChild(Sa);
Ta=!0;return!1},a));B.appendChild(i);return B},showReturnExperience:ta,getReturnExperience:function(a,b){if(!ta(a))return B;var c=H(a,b),e=K(a),i=document.createElement("div"),f=function(){Ta=Bc=!0;B.removeChild(e);document.getElementById("janrainView").style.visibility="inherit";return!1};i.style.position="relative";i.style.top="50%";30===N&&(i.style.marginTop="-25px");50===N&&(i.style.marginTop="-35px");0==l&&(i.style.top="0",i.style.marginTop="0");e.id="janrainAuthReturnExperience";e.appendChild(i);
i.appendChild(c);lb||i.appendChild(T(f,a));B.appendChild(e);return B},getWidth:function(){return W()},getActualHeight:function(){return parseInt(B.style.height)+2},getHeight:function(){return j()-2*x},getState:function(){return X()},setState:function(b){if(O("customizable_auth_widget_styling")){var c=b.fontFamily;c&&(Ca=c);sa(b.fontSize);za(b.fontColor);ka(b.backgroundColor);ya(b.borderColor);"embed"===Z&&b.format&&(b.format&&fa(b.format),"two column"!==v&&(eb=a().headerHeight-5),"two column"===v&&
(la=a().twoColumn.providersPerPage,eb=a().headerHeight));if("string"==typeof b.providersPerPage||"number"==typeof b.providersPerPage)Ba(b.providersPerPage),"object"===typeof A&&A.setHeight(j()).refresh("janrainModal");$(b.buttonBackgroundStyle);ba(b.buttonBorderColor);Ha=P("number",[0,20],5,b.buttonBorderRadius);ja(b.actionText);wa(b.showAttribution);na(b.borderRadius);"embed"===Z&&("string"==typeof width||"number"==typeof width)&&aa(b.width)}Aa(b.providers)},showNotice:function(){Ea()},removeNotice:function(){Pb(Sa)},
removeReturnExperience:function(){var a=document.getElementById("janrainAuthReturnExperience");Pb(a)}}}function b(){var a=document.createElement("div");a.id="fb-root";document.body.insertBefore(a,document.body.firstChild);window.fbAsyncInit=function(){FB.init({appId:janrain.settings.facebookAppId,status:!0,cookie:!1,xfbml:!1,channelUrl:"/channel.html"});FB.getLoginStatus(function(a){var b=(new w).setName(Fa);a.authResponse&&window.janrain&&window.janrain.engage&&window.janrain.engage.signin&&(janrain.engage.signin.facebookAutoLoginCallback=
function(a){"ok"===a.stat&&(janrain.events.onProviderLoginToken.fire({engageToken:a.token}),b.setValue("true").create())},va(h.appUrl+"/signin/oauth_token?provider=facebook&callback=janrain.engage.signin.facebookAutoLoginCallback&token="+a.authResponse.accessToken+"&origin_domain="+window.location.hostname))})};va("//connect.facebook.net/en_US/all.js")}function c(){if("object"===typeof r)if("object"===typeof Da){var a=r.getState();a.width=Da.width;Da=a}else Da=r.getState();"object"===typeof r&&r.remove();
"object"===typeof A&&A.remove();Z="modal";z();"object"===typeof r&&Da&&O("customizable_auth_widget_styling")&&r.setState(Da);"object"===typeof A&&tc&&O("customizable_auth_widget_styling")&&A.setState(tc);"object"===typeof A&&A.show();"object"===typeof r&&r.refresh()}function e(){if("object"===typeof r){if("object"===typeof Da){var a=r.getState();a.borderRadius=Da.borderRadius;a.format=Da.format;a.width=Da.width;Da=a}else Da=r.getState();tc=Da.modalState;delete tc.orientation}"object"===typeof r&&
r.remove();"object"===typeof A&&A.remove();"object"===typeof A&&(A="");Z="embed";o();"object"===typeof r&&Da&&O("customizable_auth_widget_styling")&&r.setState(Da);"object"===typeof r&&r.refresh()}function g(){var a,b;z();b=document.getElementsByTagName("a");var c=RegExp("(\\s|^)"+h.linkClass+"(\\s|$)");for(a in b)c.test(b[a].className)&&(b[a].onclick=q)}function j(a){var b=parseInt(janrain.settings.fontSize,10);"two column"===nb?a.setFontSize(b||Qb):a.setFontSize(b||Ub)}function o(){var b=Xa();r=
new a;j(r);r.setBackgroundColor(La).embed(!0).setPreviewMode(Cc).setShowAttribution(Dc).setNoReturnExperience(gc).setNoReturnExperienceSwitchAccountLink(hc).setFormat(nb).setRowHeight(Wb).setFontSize(ic).setFontFamily(jc).setFontColor(Xb).setActionText(Nb).setProviders(Fb).setProvidersPerPage(kc).setWidth(Ec).setBorderColor(Yb).setBorderRadius(yb).setButtonBorderColor(Ea).setButtonBorderRadius(Ga).setButtonBackgroundStyle(Zb).build();var c=document.getElementById("janrainEngageEmbed");null===c&&(c=
document.getElementById("janrainModal"));ya||(b?(Ja("welcome_info_name",unescape(ka("welcome_info_name"))),Wa("expected_tab",b)):Rb(c,r.getContentsDiv()))}function q(){"object"===typeof A&&A.show();return!1}function z(){var b=Eb(Sb,Kb),c=Xa();if("undefined"===typeof b||0>b)b=5;r=new a;j(r);r.setBackgroundColor(La).setPreviewMode(Cc).setShowAttribution(Dc).setNoReturnExperience(gc).setNoReturnExperienceSwitchAccountLink(hc).setFontSize(ic).setFontFamily(jc).setFontColor(Xb).setActionText(Nb).setProviders(Fb).setProvidersPerPage(kc).setBorderRadius(b).setButtonBorderColor(Ea).setButtonBorderRadius(Ga).setButtonBackgroundStyle(Zb).build();
if("object"!==typeof A){A=new wd;A.ready=!1;var e=A.addContent;A.addContent=function(a){A.ready=!0;e(a);janrain.events.onModalWidgetReady.fire()}}A.setHeight(r.getActualHeight()).setWidth(r.getWidth()).setPreviewMode(Cc).setBorderColor(uc).setBorder(Kb).setBorderOpacity(mb).setBorderRadius(Sb);ya||(c?(Ja("welcome_info_name",unescape(ka("welcome_info_name"))),Wa("expected_tab",c)):A.addContent(r.getContentsDiv()));A.onOrientationChange.addHandler(function(a){"portrait"===a.orientation&&r.setFormat(a.format).setWidth(200).refresh({center:!0});
"landscape"===a.orientation&&r.setHeight(a.height).setWidth(a.width).setFormat(a.format).refresh({center:!0});A.setHeight(r.getActualHeight());A.setWidth(r.getWidth())},!0);A.onShow.addHandler(function(){"object"==typeof r&&A.setWidth(r.getWidth())},!0);A.onBorderWidthChange.addHandler(function(a){"object"===typeof A&&"object"===typeof r&&(r.setBorderRadius(a.radius).refresh(),a=r.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&A.setBorderRadius(a.borderRadius+a.modalState.borderWidth))},
!0);A.onBorderRadiusChange.addHandler(function(a){"object"===typeof r&&(r.setBorderRadius(a.radius).refresh(),a=r.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&A.setBorderRadius(a.borderRadius+a.modalState.borderWidth))},!0)}function t(a,b){if(!O("customizable_auth_widget_styling"))return!1;if("object"===typeof r)return b(a),!0}function M(a){return t(a,function(a){r.setBackgroundColor(a).refresh()})}function Q(a){return t(a,function(a){r.setBorderRadius(a).refresh()})}
function S(a){return t(a,function(a){r.setBorderColor(a).refresh()})}function W(a){return"modal"===Z?!1:t(a,function(a){r.setWidth(a).refresh({center:!0})})}function $(a){return t(a,function(a){r.setActionText(a).refresh()})}function sa(a){return t(a,function(a){r.setButtonBorderColor(a).refresh()})}function za(a){return t(a,function(a){r.setButtonBorderRadius(a).refresh()})}function C(a){return t(a,function(a){r.setButtonBackgroundStyle(a).refresh()})}function fa(a){return"modal"==Z?!1:t(a,function(a){r.setFormat(a).refresh()})}
function D(a){return t(a,function(a){r.setProvidersPerPage(a).refresh()})}function Ba(a){return t(a,function(a){r.setFontFamily(a).refresh()})}function ta(a){return t(a,function(a){r.setFontSize(a).refresh()})}function ja(a){return t(a,function(a){r.setFontColor(a).refresh()})}function ka(a){var b;if("single cookie"===Na){b=w().getCookie("janrain_engage_login_data");if(!b)return;b=H.parse(b);return!b[a]?void 0:a=b[a]}if("default"===Na)return a=w().getCookie(a),!a?void 0:a}function ma(a,b,c){var e;
if(!a||!b)return!1;c||(c=1);if("single cookie"===Na)return(oldCookieJSON=w().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),c=H.parse(oldCookieJSON),c[a]=b,e=new w,e.setName("janrain_engage_login_data").setValue(H.stringify(c)).setDomain(window.location.hostname).setExpiration(1826).create(),!0;return"default"===Na?(e=new w,e.setName(a).setValue(b).setDomain(window.location.hostname).setExpiration(c).create(),!0):!1}function Aa(a,b){if("expected_tab"===a&&!b){var c=ka("login_tab");
c&&Aa("expected_tab",c);return!1}if(!b||"undefined"===b||"expected_tab"!==a&&"expected_user_input"!==a&&"welcome_info_name"!==a)return!1;b="welcome_info_name"===a?escape(b):b;gc?w().setName(a).remove():ma(a,b,1826)}function ba(a,b){var c={};a||(a=lc);b||(b=lc.appUrl);if(f&&3>zb)return c.widget_type=a.widget_type,c.provider=a.provider,c.time=(new Date).getTime(),c=Qc(c),va(b+"/signin/get_login_info"+c),zb++,!0;"object"===typeof janrain.events.onProviderLoginCancel&&janrain.events.onProviderLoginCancel.fire(a);
"undefined"!==typeof da&&clearTimeout(da);"undefined"!==typeof r&&r.refresh&&r.refresh();janrain.events.onShareLoginCancel&&"fail"===a.stat&&janrain.events.onShareLoginCancel.fire(a);return!1}function Ua(a,b,c){var e=b.appUrl,f=janrain.settings.customSAML&&a.customSAML,h=janrain.settings.customOpenid&&a.customOpenid,e=f||"saml2"==a.flow?e+"/saml2/sso/start":e+("/"+a.flow+"/start"),g=janrain.settings.originUrl||window.location.href;b.mobileDevice&&(g="mobile");var j=b.language||"en",n=b.popup?"xdr":
"xdrsw",o=b.tokenUrl||window.location.href,q={};lc={appUrl:b.appUrl,provider:a.name,widget_type:b.widgetType};q.language_preference=j;q.token_url=o;q.display="popup";q.widget=!0;"object"===typeof b.facebookPermissions&&(q.ext_perm=b.facebookPermissions.toString());f?q.saml_provider=a.identifier:q.openid_identifier=a.identifier;q.origin_url=g;q.provider_name=a.name;q.force_reauth=b.forceReauth;q.xdReceiver=b.appUrl+"/"+n;q.callback="none";q.widget_type=b.widgetType;q.token_action="url";janrain.settings.captureDomain&&
(q.capture_domain=janrain.settings.captureDomain);if("event"===b.tokenAction||"hybrid"===b.tokenAction)q.token_action="event";b.mobileDevice&&"hybrid"===b.tokenAction&&(q.token_action="url");b.bpChannel&&(q.bp_channel=b.bpChannel);b.extParams&&b.extParams[a.name]&&(q.ext_params=b.extParams[a.name]);b.scopes&&"object"===typeof b.scopes[a.name]&&(q.override_scopes=b.scopes[a.name].toString());b.sharingType&&(q.sharing_type=b.sharingType);g=function(b){var c=janrain.settings[b],b=a[b],c="object"===typeof c?
c[a.name]:c;return c!==b?c:b}("customOpenidOpxblob");b.customOpenid&&"string"===typeof g&&(q.opx_blob=g);e+=Qc(q);(function(){janrain.events.onProviderLoginStart.fire({provider:a.name,width:a.width,height:a.height});(function(a,b,c){if(a&&b){var c=c||1826,e=w(),i=window.janrain;i&&i.settings&&"single cookie"===i.settings.storageType?(i=H.parse(w().getCookie("janrain_engage_login_data")||"{}"),i[a]=b,e.setName("janrain_engage_login_data").setValue(H.stringify(i))):e.setName(a).setValue(b);e.setDomain(window.location.hostname).setExpiration(c).create()}})("login_tab",
a.name,1);var g;b.mobileDevice&&"event"!==b.tokenAction||!b.popup?va(b.appUrl+"/signin/set_login_tab?login_tab="+a.name+"&origin_url="+encodeURIComponent(window.location.href),function(){janrain.settings.customProviderInIFrame&&(h||f)?window.location.href=e:window.top.location.href=e}):(g=new hf(e),g.setWidth(a.width).setHeight(a.height).setCallback(function(){var e={},f="";e.widget_type=b.widgetType;e.provider=a.name||"";e.time=(new Date).getTime();f=Qc(e);"function"===typeof c&&c();va(b.appUrl+
"/signin/get_login_info"+f);janrain.events.onProviderLoginComplete.fire({provider:a.name})}).show())})()}function Ja(a,b){if(!b||"undefined"===b||"welcome_info_name"!==a)return!1}function Xa(){h.noReturnExperience&&("single cookie"===h.storageType?w().setName("janrain_engage_login_data").setDomain(window.location.hostname).remove():(w().setName("login_tab").remove(),w().setName("expected_tab").remove()));return Ma.isAndroid()?ka("login_tab"):ka("expected_tab")}function Wa(a,b){function c(){janrain.events.onReturnExperienceFound.fire({returnProvider:b,
welcomeName:e})}var e=unescape(ka("welcome_info_name")),f=function(a){var c=function(){600>a&&setTimeout(function(){f(++a)},50)};if("object"!==typeof r)return c(),!1;"modal"===Z?A.addContent(r.getReturnExperience(b,e)):"embed"===Z&&(Rb(document.getElementById("janrainEngageEmbed"),r.getReturnExperience(b,e)),r.showReturnExperience(b)&&(document.getElementById("janrainView").style.visibility="hidden"));"modal"===Z&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==a||!b)return!1;"object"===
typeof r&&r.removeReturnExperience();vb?c():janrain.events.onAuthWidgetLoad.addHandler(c,!0);f(0)}function Rb(a,b){a&&(a.innerHTML="");janrain.settings.capture&&(a?(a.innerHTML="",a.appendChild(b)):(a=document.createElement("div"),a.id="janrainEngageEmbed",a.style.display="none",document.body.appendChild(a)));a?(a.appendChild(b),janrain.events.onAuthWidgetContentPlaced.fire()):(F.log('Missing container div, please place this div where you wantthe embedded widget to be displayed on your page- <div id="janrainEngageEmbed"></div>.'),
F.show());return a}function hb(a,b,c){c=c?Yd:wa;return Ya=b?c(Ya,a):a}function na(){function a(b){if(!("customsaml"===b&&!h.customSAML||"customopenid"===b&&!h.customOpenid)){var c,e;if("customsaml"===b)c="customSAMLProviderId",e=["customSAMLProviderName","customSAMLProviderColor","customSAMLLargeIcon"];else if("customopenid"===b)c="customOpenidProviderId",e="customOpenIdProviderName,customOpenIdProviderColor,customOpenidLargeIcon,customOpenidIdentifier,customOpenidFlow,customOpenidOpxblob".split(",");
else{F.log("Bad provider: "+b);F.show();return}var f=typeof h[c];if("undefined"===f||"string"===f){var i=h[c]||b;h[c]=[i];U(e,function(a){if("object"!==typeof h[a]){var b=h[a];h[a]={};h[a][i]=b}})}}}function b(a,c){var e=T,f={customopenid:["customOpenidFlow","customOpenidIdentifier"],customsaml:["customSAMLProviderId"]};if(h[{customopenid:"customOpenid",customsaml:"customSAML"}[a]]&&O("customizable_auth_widget_styling")){"customopenid"===a&&(Jb=!0);for(var f=f[a],i=0,g=f.length;i<g;i++)if(!h[f[i]])return F.log(e({provider:a,
setting:f[i]},"Missing {| setting |}. {| setting |} is required when adding a {| provider |} provider")),F.show(),!1;var j={customsaml:{providerColor:"customSAMLProviderColor",friendlyName:"customSAMLProviderName",modalHeight:"customSAMLModalHeight",modalWidth:"customSAMLModalWidth",largeIcon:"customSAMLLargeIcon"},customopenid:{providerColor:"customOpenIdProviderColor",friendlyName:"customOpenIdProviderName",modalHeight:"customOpenidModalHeight",modalWidth:"customOpenidModalWidth",customOpenidOpxblob:"customOpenidOpxblob",
largeIcon:"customOpenidLargeIcon",flow:"customOpenidFlow",identifier:"customOpenidIdentifier"}},e=function(b){b=h[j[a][b]];return"object"===typeof b?b[c]:b},f={width:e("modalWidth")||800,height:e("modalHeight")||600,friendlyName:e("friendlyName"),color:e("providerColor"),largeIcon:e("largeIcon"),identifier:e("identifier")};"customopenid"===a?(f.flow=e("flow"),f.customOpenid=!0,f.customOpenidOpxblob=e("customOpenidOpxblob")):"customsaml"===a&&(f.customSAML=!0,f.identifier=c);jb[c]=f}}h=janrain.settings;
if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return++xa,0===xa%2E3&&n.error("Translations are not loading. janrain.settings.translate is undef."),setTimeout(na,5),!1;!0===h.noProvidersCss&&!0===h.custom||(sc(od()+"providers.css"),f&&9>=f&&sc(od()+"providers-ie.css"));if(h.stop)return!0;ab=h.tokenAction?h.tokenAction:ab;if(!h.tokenUrl&&"event"!=ab)return F.log("Missing tokenUrl.  tokenUrl is required."),F.show(),!1;Qa=h.appUrl;Z=P("string",["modal","embed"],
"embed",h.type?h.type:Z);ya=h.multi?h.multi:ya;bb=h.custom?h.custom:bb;Ta=h.forceReauth?h.forceReauth:Ta;Za=h.bpChannel?h.bpChannel:Za;ob=h.facebookPermissions?h.facebookPermissions:ob;pb=h.scopes?h.scopes:pb;ib=!!h.facebookAutoLogin;Na=h.storageType?P("string",["default","single cookie"],"default",h.storageType):Na;cc="boolean"===typeof h.popup?h.popup:cc;Uc&&"event"!==ab&&(cc=!1);Db=h.returnExperienceTimeout?h.returnExperienceTimeout:Db;ya&&(setTimeout(function(){var a=Xa();if(a)Ja("welcome_info_name",
unescape(ka("welcome_info_name"))),Wa("expected_tab",a),document.getElementById("janrainView").style.visibility="hidden";else if(a=function(){if("modal"===Z)A.addContent(r.getContentsDiv());else if("embed"===Z){var a=document.getElementById("janrainEngageEmbed");Rb(a,r.getContentsDiv())}"undefined"!==typeof b&&Cb.removeHandler(b)},r)a();else var b=Cb.addHandler(a)},Db),va(h.appUrl+"/signin/get_cookies"));a("customopenid");a("customsaml");h.customOpenid&&U(h.customOpenidProviderId,function(a){b("customopenid",
a)});h.customSAML&&U(h.customSAMLProviderId,function(a){b("customsaml",a)});if(bb)return!0;ab=h.tokenAction?h.tokenAction:ab;Kb=O("customizable_auth_widget_styling")?h.modalBorderWidth:Kb;uc=O("customizable_auth_widget_styling")?h.modalBorderColor:uc;Sb=O("customizable_auth_widget_styling")?h.modalBorderRadius:Sb;mb=O("customizable_auth_widget_styling")?h.modalBorderOpacity:mb;La=O("customizable_auth_widget_styling")?h.backgroundColor:La;yb=O("customizable_auth_widget_styling")?h.borderRadius:yb;
Yb=O("customizable_auth_widget_styling")?h.borderColor:Yb;nb=h.format;Xb=O("customizable_auth_widget_styling")?h.fontColor:Xb;ic=O("customizable_auth_widget_styling")?h.fontSize:ic;jc=O("customizable_auth_widget_styling")?h.fontFamily:jc;Ec=O("customizable_auth_widget_styling")?h.width:Ec;Wb=O("customizable_auth_widget_styling")?h.rowHeight:Wb;kc=h.providersPerPage;Hb=O("customizable_auth_widget_styling")?h.providersNotPaged:Hb;Nb=O("customizable_auth_widget_styling")?h.actionText:Nb;Ea=O("customizable_auth_widget_styling")?
h.buttonBorderColor:Ea;Ga=O("customizable_auth_widget_styling")?h.buttonBorderRadius:Ga;Zb=O("customizable_auth_widget_styling")?h.buttonBackgroundStyle:Zb;Dc=O("customizable_auth_widget_hide_attribution")?h.showAttribution:Dc;Cc=h.previewMode;gc=h.noReturnExperience;hc=h.noReturnExperienceSwitchAccountLink;Fb=h.providers;"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate=h.translate={});if(h.customOpenid&&O("customizable_auth_widget_styling")){if(!h.customOpenidLargeIcon)return F.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),
F.show(),!1;$a={largeIcon:h.customOpenidLargeIcon,customOpenIdProviderName:h.customOpenIdProviderName||janrain.settings.translate.SIGN_IN||"Sign in",customOpenIdProviderColor:h.customOpenIdProviderColor}}if(h.customSAML&&O("customizable_auth_widget_styling")){if(!h.customSAMLLargeIcon)return F.log("Missing customSAMLLargeIcon.  customSAMLLargeIcon is required and should be the full path to an image that is 50px x 50px."),F.show(),!1;wb={largeIcon:h.customSAMLLargeIcon,customSAMLProviderName:h.customSAMLProviderName||
janrain.settings.translate.SIGN_IN||"Sign in",customSAMLProviderColor:h.customSAMLProviderColor}}h.previewMode?("modal"===Z&&ac(c),"embed"===Z&&ac(e)):("modal"===Z&&ac(g),"embed"===Z&&ac(o));yd&&y(window,"unload",function(){})}var Qa,ob,pb,ib=!1,Fa="janrain_engage_facebook_auto_login",Za,Jb=!1,Ta=!1,ab="url",Ya={},Z="embed",ya=!1,Db=300,Ta=!1,cc=!0,bb=!1,xa=0,Na="default",$a,wb,tc,A,Kb,uc,Sb,mb,r,Da,La,yb,Yb,Ec,Wb,nb,Fb=[],Hb=!1,kc,Nb,ic,jc,Xb,Ea,Ga,Zb,Cc,gc,hc,Dc,Bc=!1,vb=!1,Qb=18,Ub=14;janrain.events.onAuthWidgetLoad||
(janrain.events.onAuthWidgetLoad=X(!0));janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=X());janrain.events.onReturnExperienceFound||(janrain.events.onReturnExperienceFound=X());janrain.events.onAuthWidgetLoad.addHandler(function(){vb=!0;var a=(new w).getCookie(Fa);ib&&!a&&b()},!0);janrain.events.onProviderLoginSuccess.addHandler(function(){var a=document.getElementById("janrainAuthReturnExperience"),b=document.getElementById("janrainView");a&&(a.style.visibility="hidden");b&&
(b.style.visibility="hidden")});janrain.events.onAuthWidgetLoad.addHandler(function(){var a=ka("expected_tab"),b=ka("welcome_info_name");U(janrain.settings.beforeJanrainWidgetOnLoad||[],Pc);"function"===typeof janrainWidgetOnload?(U(janrain.settings.beforeJanrainWidgetOnLoad||[],Pc),bb?(janrainWidgetOnload(),!ya&&a&&b&&janrain.events.onReturnExperienceFound.fire({returnProvider:a,welcomeName:unescape(b)})):r?janrainWidgetOnload(r.getState()):janrainWidgetOnload()):n.warn("No such function 'janrainWidgetOnload'. Does 'janrainCaptureWidgetOnLoad' exist?")},
!0);for(var da,zb=0,lc,Fc="onAuthWidgetContentPlaced,onProviderLoginStart,onProviderLoginError,onProviderLoginToken,onProviderLoginCancel,onProviderLoginSuccess,onProviderLoginComplete,onProviderLogoutStart,onProviderLogoutComplete".split(","),Ha=0;Ha<Fc.length;Ha++)"undefined"===typeof janrain.events[Fc[Ha]]&&(janrain.events[Fc[Ha]]=new ub);janrain.events.onProviderLoginError.addHandler(function(a){if(bb)return!0;var b=ka("login_tab");if("modal"===Z){var c=document.getElementById("janrainModal");
c&&c.appendChild(r.getErrorPage(b,a.err))}"embed"===Z&&(c=document.getElementById("janrainEngageEmbed"))&&Rb(c,r.getErrorPage(b,a.err))},!0);na();return{status:"loaded",logoutFacebook:function(a){if("function"!==typeof a)throw Error("janrain.engage.signin.logoutFacebook takes a callback function as its only parameter.");var b=!1,c=function(e){var f=Ib(e.origin).host,g=Ib(Qa).host;f!==g?n.forceError("Ignoring postMessage due to domain mismatch: ",e.origin+" does not match "+Qa):0===e.data.indexOf("janrainLogoutFacebook:")&&
(f=e.data.indexOf(":")+1,e=e.data.substring(f),e=H.parse(e),"ok"!==e.status&&n.forceError("Failed to log out of Facebook"),b=!0,Gb(window,"message",c),a(e))};y(window,"message",c);var e=Qa+"/widget/logout_facebook?facebookAppId="+janrain.settings.facebookAppId+"&url="+encodeURIComponent(window.location.protocol+"//"+window.location.host);Hc("janrainLogoutFacebook",e);setTimeout(function(){b||(Gb(window,"message",c),a({status:"fail",message:"Timeout attempting to log out of Facebook"}))},5E3)},appendTokenParams:function(a,
b,c){hb(a,b,c)},appendTokenParamsCumulative:function(a,b){hb(a,!0,b)},setBackplaneChannel:function(a){Za=a},setLoginCookie:function(a,b){Aa(a,b)},loginHandler:function(a){var b=ab;a?("ok"===a.stat&&("event"===b||"hybrid"===b||"noRedirect"===b?("undefined"!=typeof storage&&storage.set("janrainEngageAuthenticityToken",a.authenticity_token),"noRedirect"!==b&&va(a.redirectUrl)):(b=document.createElement("form"),b.action=a.redirectUrl,b.method="POST",janrain.settings.targetTop&&(b.target="_top"),document.body.appendChild(b),
b.submit())),"fail"===a.stat&&(a.err&&160===a.err.code?(janrain.events.onProviderLoginCancel.fire(a),"undefined"!==typeof r&&r.refresh&&r.refresh()):janrain.events.onProviderLoginError.fire(a),"undefined"!==typeof da&&clearTimeout(da),janrain.events.onShareLoginCancel&&"fail"===a.stat&&janrain.events.onShareLoginCancel.fire(a))):ba()},cancelLogin:function(a){ba(a,h.appUrl);!bb&&r&&r.removeNotice()},removeNotice:function(){r&&r.removeNotice()},setWelcomeInfoName:function(a,b){Ja(a,b)},setReturnExperience:function(a,
b){Wa(a,b)},setNoReturnExperience:function(a,b){var c;"boolean"===typeof a&&r?(r.setNoReturnExperience(a),b||r.refresh(),c=!0):c=!1;return c},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&r?(r.setNoReturnExperienceSwitchAccountLink(a).refresh(),a=!0):a=!1;return a},setPreviewMode:function(a){"boolean"===typeof a&&r?(r.setPreviewMode(a).refresh(),a=!0):a=!1;return a},setConfigureMode:function(a){"boolean"===typeof a&&r?(r.setConfigureMode(a).refresh(),a=!0):a=!1;return a},
setCustom:function(a){bb=a},getState:function(){return"object"===typeof r?r.getState():!1},setProviderFlow:function(b,c){return!O("customizable_auth_widget_styling")?!1:a().setProviderFlow(b,c)},triggerFlow:function(b){return!O("customizable_auth_widget_styling")?!1:a().triggerFlow(b)},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?(console.log("DOCTYPE Name: "+document.doctype.name),console.log("DOCTYPE NodeType: "+document.doctype.nodeType)):
console.log("DOCTYPE name: not available (probably quirks mode)");console.log("User Agent: "+navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+navigator.cookieEnabled);console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");for(var a in janrain.settings)if(console.log(" ---- "+
a+": "+janrain.settings[a]),"object"===typeof janrain.settings[a])for(var b in janrain.settings[a])"function"!==typeof janrain.settings[a][b]&&console.log(" --- --- "+b+": "+janrain.settings[a][b]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){e()},setBackgroundColor:function(a){return M(a)},setBorderColor:function(a){return S(a)},setBorderRadius:function(a){return Q(a)},setWidth:function(a){return W(a)},setActionText:function(a){return $(a)},setFontFamily:function(a){return Ba(a)},
setFontSize:function(a){return ta(a)},setFontColor:function(a){return ja(a)},setFormat:function(a){return fa(a)},setButtonBorderColor:function(a){return sa(a)},setButtonBorderRadius:function(a){return za(a)},setButtonBackgroundStyle:function(a){return C(a)},setProviders:function(a){var b;"object"===typeof r&&(oa?r.setProviders(a):r.setProviders(a).refresh(),b=!0);return b},setProvidersPerPage:function(a){return D(a)},setShowAttribution:function(a){var b;O("customizable_auth_widget_hide_attribution")?
"object"===typeof r&&r.setShowAttribution(a).refresh():b=!1;return b},refresh:function(){return r.refresh()},getWidth:function(){return r.getWidth()}},modal:{init:function(){c()},close:function(){"object"==typeof A&&A.close()},create:function(){return new wd},setBorder:function(a){O("customizable_auth_widget_styling")?("object"===typeof A&&(A.setBorder(a),A.refresh({center:!0})),a=!0):a=!1;return a},setBorderColor:function(a){O("customizable_auth_widget_styling")?("object"===typeof A&&(A.setBorderColor(a),
A.refresh()),a=!0):a=!1;return a},setBorderOpacity:function(a){O("customizable_auth_widget_styling")?("object"===typeof A&&(A.setBorderOpacity(a),A.refresh()),a=!0):a=!1;return a},setBorderRadius:function(a){O("customizable_auth_widget_styling")?("object"==typeof A&&(A.setBorderRadius(a),A.refresh()),a=!0):a=!1;return a}}}},vf=new function(){return{status:"not loaded"}},wf=new function(){var a;function b(d){function a(d,p){var k=d instanceof Lc?d:new Lc(d),b=p&&za(p,"merge")&&!0===p.merge,L,c;d&&
(L=k.get("id")||"auto_id_"+Ja(7),k.get("id")!==L&&k.set("id",L),(c=g[L])&&b&&c.set(k.attributes),!c&&-1==f.indexOf(k)&&(f.push(k),g[L]=k,h.length=f.length));return k}function k(d){var a;d&&(a=f.indexOf(d),0<=a&&(f.splice(a,1),delete g[d.get("id")],h.length=f.length));return d}function b(d,k){for(var d=q(d)?d:[d],L=0,c=d.length;L<c;)a(d[L],k),L+=1;return h}function c(d){for(var d=q(d)?d:[d],a=0,p=d.length;a<p;)k(d[a]),a+=1;return h}function e(d){return f.filter(function(a){for(var p in d)return za(d,
p)&&a.get(p)===d[p]})}var f=[],g={},h={length:0,_models:f,_fieldsById:g};d&&b(d);return wa(h,{get:function(d){return g[d]},getById:function(d){return g[d]},getByName:function(d){for(var d=e({name:d}),a=0,p=1,k=d.length-1;p<=k;)d[a].time<=d[p].time&&(a=p),p+=1;return d[a]},getFieldsByName:function(d){return e({name:d})},add:function(d,a){return b(d,a)},remove:function(d){return c(d)},indexOf:function(d){return f.indexOf(d)},at:function(d){return f[d]},reset:function(){return c(f)},each:function(d,
a){U(f,d,a);return h},map:function(d){return f.map(d)},where:function(d){return e(d)},addField:function(d){a(d);return h},addFields:function(d){return b(d)},removeField:function(d){k(d);return h},removeFields:function(d){return c(d)},updateField:function(d){a(d,{merge:!0});return h},update:function(d){return b(d,{merge:!0})},updateFields:function(d){return b(d,{merge:!0})}})}function c(d){var a=janrain.settings.capture.modalBorderWidth||10,k=janrain.settings.capture.modalBorderColor||"#000",b=janrain.settings.capture.modalBorderRadius||
10,c=janrain.settings.capture.modalBorderOpacity||0.5;d.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(k).setBorder(a).setBorderOpacity(c).setBorderRadius(b);return d}function e(d){if("object"!==typeof E)E=new wd,gc();else{var a=E.getContent();Xd(document.body,a)&&(a.style.display="none",document.body.appendChild(a))}aa&&aa.modal&&Ac.push(aa);E=c(E);E.addContent(d).show();E.setHeight(Hb(d).height);E.setWidth(Hb(d).width).refresh({center:!0})}function g(d){function a(){Oa=
!0;var p=d||O(),k=Ib(d),b=Ib(janrain.settings.capture.captureServer);"http"===b.protocol||"https"===b.protocol||(F.log("The capture server url does not have a valid protocol. Check your settings."),F.show());if(!b.host||"undefined"===b.host)F.log("The capture server url does not have a valid host. Check your settings."),F.show();d&&(Mb=k.queryKey.flow_path);va(p,Hc);mb();tc();janrain.events.onCaptureLoginFailed.addHandler(function(){yc++;wb()},!0);janrain.events.onCaptureLoginSuccess.addHandler(function(){yc=
0;wb()},!0);janrain.events.onCaptureLoginSuccess.addHandler(function(){Bc(Nd)},!0);janrain.events.onCaptureRegistrationSuccess.addHandler(function(){Bc(Nd)},!0);janrain.events.onCaptureValidationComplete.addHandler(function(){a:{var d=!1,a;for(a in qa)if("invalid"===qa[a].status){var p=qa[a].postValidationActions;if(p)for(var k in p){if(!qa[a].validation||"undefined"===typeof qa[a].validation[k])break a;for(var b in p[k])if(p[k].hasOwnProperty(b))switch(b){case "render":p[k].render.screen&&!d&&(d=
!0,(new zb).setScreenData(p[k].render.screen,l.screens[p[k].render.screen]));break;case "setCookie":var L=p[k].setCookie.name,c=p[k].setCookie.value,e=p[k].setCookie.days;(new w).setExpiration(e).setUseLocalStorage(!0).setName(L).setValue(c).create()}}}}},!0);janrain.events.onCaptureRenderComplete.addHandler(function(){if(ee){var d=pa.savedProfileMessage||"Your profile has been saved",a=$("capture_profileSavedMessage_container",aa.div),p=a.length;if(p)for(var k=0,p=a.length;k<p;k++)a[k].innerHTML=
d,a[k].style.display="",ic(a[k]);else if(qb&&(a=document.getElementById(K+qb+"_defaultSavedProfileMessage")))a.innerHTML='<div class="capture_save_success capture_profileSavedMessage_container">'+d+"</div>",ic(a);ee=!1;if(janrain.settings.capture.autoSave){for(;$d.length;)$d.pop().unbindDragHandlers();Vb.each(Ya)}}xb()},!0);janrain.events.onCaptureContentChange.addHandler(function(){if("object"===typeof E&&E.isOpen()){E.setHeight(Hb(E.getContent()).height);var d=E.getState().width,a=Hb(E.getContent()).width;
(d=d!==a)&&E.setWidth(a);E.refresh({center:d})}},!0);janrain.settings.custom&&!Zc&&ba()}function k(){yd&&!janrain.settings.capture.federateEnableSafari&&(janrain.settings.capture.federate=!1);janrain.settings.capture.federate&&!janrain.federateJSLoaded&&(janrain.settings.capture.federate=!1,Id=!0);a()}function b(){if(!Kd){Kd=!0;var d=function(){Backplane.expectMessages("identity/login")};janrain.events.onCaptureLoginSuccess.addHandler(d,!0);janrain.events.onCaptureRegistrationSuccess.addHandler(d,
!0);janrain.events.onCaptureBackplaneReady.fire();k()}}Xb(jc());janrain.settings.capture.noStyling||(sc(od()+"widgets.css"),Ce(od()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&q(janrain.settings.capture.stylesheets))for(var c=janrain.settings.capture.stylesheets,e=c.length,g=0;g<e;g++)sc(c[g]),X(c[g]);if(f&&9>f&&janrain.settings.capture.conditionalIEStylesheets&&q(janrain.settings.capture.conditionalIEStylesheets)){c=janrain.settings.capture.conditionalIEStylesheets;e=c.length;for(g=
0;g<e;g++)Ce(c[g]),X(c[g])}if(Ua&&janrain.settings.capture.mobileStylesheets&&q(janrain.settings.capture.mobileStylesheets)){c=janrain.settings.capture.mobileStylesheets;e=c.length;for(g=0;g<e;g++)sc(c[g]),X(c[g])}janrain.settings.capture.backplane?(g=function(){function d(){p++;if(20<p)return da("backplanecallback not successful"),janrain.events.onCaptureBackplaneInitFailed.fire(),Kd=!0,janrain.settings.capture.backplane=!1,k(),!1;if(Kd)return clearTimeout(a),!1;var a=setTimeout(d,500)}"function"===
typeof Backplane?Backplane(b):Uc=!0;var a={serverBaseURL:cb,busName:janrain.settings.capture.backplaneBusName,replayOnPageLoad:Vc};2<=parseInt(fb,10)&&(a.block=xd);Vc&&2>parseInt(fb,10)&&(a.initFrameFilter=function(d){return d});"undefined"!==typeof janrain.settings.capture.backplaneChannelExpires&&(a.channelExpires=janrain.settings.capture.backplaneChannelExpires);Backplane.init(a);Uc&&"undefined"!==typeof Backplane&&b();var p=0;d()},"function"===typeof Backplane?g():va(eb,g)):k()}function h(d,a,
k,b){var c=[];b&&c.push({value:"",text:b,disabled:!0});if("desc"===k)for(k=a;k>d-1;k--)c.push({value:k,text:k});else for(k=d;k<a+1;k++)c.push({value:k,text:k});return c}function s(d){d||(d=ga);return"string"===typeof d?"capture_"+d+"_":"capture_"+G(d)+"_"}function G(d){if(d!==window){var a=d.getAttribute("data-capturescreenname");if(a&&l.screens[a])return a;for(var a=$("capture_screen_container"),k=0,b=a.length;k<b;k++)if(Xd(a[k],d))return a=a[k].getAttribute("data-capturescreenname"),d.setAttribute("data-capturescreenname",
a),a}}function O(){var d=xc,a=janrain.settings.capture.flowVersion||"HEAD",k=t()||"default",b=janrain.settings.capture.appid||janrain.settings.capture.appId;return uri=b?/^[0-9A-Fa-f]{8}(-[0-9A-Fa-f]{4}){3}-[0-9A-Fa-f]{12}$/.test(a)?P()+"/widget_data/flows/"+b+"/"+k+"/"+a+"/"+d+".js":P()+"/widget_data/flow.js:"+b+":"+d+":"+a+":"+k:P()+"/widget_data/flow.js:"+d+":"+a+":"+k}function t(){return Ua&&janrain.settings.capture.mobileFlowName?janrain.settings.capture.mobileFlowName:janrain.settings.capture.flowName}
function P(){return janrain.settings.capture.cdnUrl||"https://d1lqe9temigv1p.cloudfront.net"}function X(d){z(Dd,d)||Dd.push(d);ae=Dd.length}function ea(d){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+d+"' is missing."}}function ta(d){d=M(d);ua(d)}function oa(d){var a=0,k=0,b=0,c=0;S(qa,function(e,f){"pending"==f.status&&d===f.formId&&a++;"invalid"==f.status&&d===f.formId&&k++;"undefined"!==typeof f.unique&&!1===f.unique&&d===f.formId&&b++;"valid"==
f.status&&d===f.formId&&c++});return{pending:a,invalid:k,notUnique:b,valid:c}}function ua(d,a){var k=d.getAttribute("data-capturefield"),k=ad.check(d,l.fields[k]),b=document.getElementById(d.id+"_errors");!k.valid&&k.reason?b&&(b.innerHTML=k.reason):b&&(b.innerHTML="");if(a)return"object"!==typeof k&&(k={valid:!0}),k}function Ka(d,a){a.name||(a.name=d.getAttribute("data-capturerendererfield")?d.getAttribute("data-capturerendererfield"):d.getAttribute("data-capturefield"));var k=s(d),b=document.getElementById(k+
a.name+"_dateselectmonth"),b=b.options[b.selectedIndex].value,c=document.getElementById(k+a.name+"_dateselectday"),c=c.options[c.selectedIndex].value,k=document.getElementById(k+a.name+"_dateselectyear"),k=k.options[k.selectedIndex].value;return!b||!c||!k?!1:b+"/"+c+"/"+k}function C(d,a){if(!d)return!1;for(var k=pb(d.getElementsByTagName("input")),k=k.concat(pb(d.getElementsByTagName("select"))),k=k.concat(pb(d.getElementsByTagName("textarea"))),b=[],a=a||!1,c={},e=!1,f,g=0,h=k.length;g<h;g++)f=k[g],
(e="file"===f.type?ua(f,!0).valid:Fa(f,!0,a))||b.push(f),"true"===f.getAttribute("data-capturecollection")&&!c[f.name]&&(c[f.name]=!0);janrain.events.onCaptureValidationComplete.fire({fieldsWithError:b});return 0===b.length}function fa(){}function D(d){function a(d){Q(d);(A?k:b)(d)}function k(d){Q(d);r.style.display="none";A=!1}function b(){if(!A){var d=ha||gb;if(ra.getMonth()!==d.getMonth()||ra.getFullYear()!==d.getFullYear())ra=new Date(d),l(ra)}A=!0;r.style.display="block"}function c(d){Vd(N);
for(var d=parseInt(d),a=F.getFullYear();a>=B.getFullYear();--a){var p=document.createElement("option");p.setAttribute("value",a);ma(p,a);N.appendChild(p)}N.value=d}function e(){ra.setMonth(P.value);ra.setFullYear(N.value);l(ra)}function g(d){P.value=d.getMonth();d=d.getFullYear();N.value=d}function h(d){return function(a){Q(a);ra.setMonth(ra.getMonth()+d);a=ra.getFullYear();(a<B.getFullYear()||a>F.getFullYear())&&ra.setMonth(ra.getMonth()-d);l(ra)}}function id(d){d=d.getDay();return z?(d-1+7)%7:d}
function j(d){ha=new Date(ra);ha.setDate(d);"object"===typeof w&&"INPUT"===w.nodeName&&(w.value=Xa(S,ha));k();D(ha)}function m(d,a){return d.getDate()===a.getDate()&&d.getMonth()===a.getMonth()&&d.getFullYear()===a.getFullYear()}function n(d){return(m(d,B)||d>B)&&(m(d,F)||d<F)}function l(d){function a(d){Q(d);var d=M(d),p=d.getAttribute("data-date");T&&o(T.parentNode).remove("capture_datePicker_selectedDate");o(d.parentNode).append("capture_datePicker_selectedDate");T=d;j(p)}Vd(v);if(O)g(ra);else{var p=
Xa(W,d);Vd(s);ma(s,p)}p=document.createElement("tr");p.className="capture_datePicker_daysOfTheWeekHeader";for(var k=0,b=x.length;k<b;k++){var L=document.createElement("th");ma(L,x[k]);p.appendChild(L)}v.appendChild(p);var c=d.getMonth(),p=new Date(d),e,d=1;p.setDate(1);e=id(p);var k=document.createElement("tr"),ia=new Date(p),f=1-e;ia.setDate(f);for(b=0;b<e;++b){var L=document.createElement("td"),h=document.createElement("a");ma(h,ia.getDate());L.appendChild(h);L.style.textAlign="right";h.setAttribute("data-date",
f);h.href="#";L.className="capture_datePicker_prevMonthDay";k.appendChild(L);n(ia)?(o(L).append("capture_datePicker_day"),y(h,"click",a)):o(L).append("capture_datePicker_day_disabled");ha&&m(ia,ha)&&(o(L).append("capture_datePicker_selectedDate"),T=h);m(ia,I)&&o(L).append("capture_datePicker_today");ia.setDate(ia.getDate()+1);f++}for(;p.getMonth()===c;)L=document.createElement("td"),h=document.createElement("a"),h.setAttribute("data-date",d),h.href="#",ma(h,d),n(p)?(L.className="capture_datePicker_day",
y(h,"click",a)):L.className="capture_datePicker_day_disabled",ha&&m(p,ha)&&(o(L).append("capture_datePicker_selectedDate"),T=h),m(p,I)&&o(L).append("capture_datePicker_today"),L.appendChild(h),k.appendChild(L),++e,6<e&&(e=0,v.appendChild(k),k=document.createElement("tr")),++d,p.setDate(d);b=id(p);d=new Date(p);d.setDate(d.getDate()-1);d=d.getDate()+1;if(0<b){for(b=id(p);7>b;++b)L=document.createElement("td"),h=document.createElement("a"),L.style.textAlign="right",h.href="#",h.setAttribute("data-date",
d),ma(h,p.getDate()),L.appendChild(h),L.className="capture_datePicker_nextMonthDay",k.appendChild(L),n(p)?(o(L).append("capture_datePicker_day"),y(h,"click",a)):o(L).append("capture_datePicker_day_disabled"),ha&&m(p,ha)&&(o(L).append("capture_datePicker_selectedDate"),T=h),m(p,I)&&o(L).append("capture_datePicker_today"),p.setDate(p.getDate()+1),d++;v.appendChild(k)}}var i=d||{},r,s,sb,mc,u,v,x="Su,Mo,Tu,We,Th,Fr,Sa".split(","),z=!1,A=sb=!1,t,D=i.callback||function(){};u=i.monthPreviousText;var E=
i.monthNextText,w=i.targetElement,C=i.extraTargetElements||[],d=i.elementAttachedTo,J=i.openOnTargetElementFocus,G=i.provideOpenButton,H,K=!!i.hasCloseButton,I=new Date,B=void 0!==i.minimumSelectableDate?i.minimumSelectableDate:"1/1/"+(I.getFullYear()-100),F=void 0!==i.maximumSelectableDate?i.maximumSelectableDate:"12/31/"+(I.getFullYear()+30),O=i.monthAndYearSelectable,R=i.arrowKeyNavigation,P,N,ke=void 0!==i.defaultDate?i.defaultDate:new Date,gb=ke,ra,ha=i.preSelectedDate,T,S=i.format||"{m}/{d}/{yyyy}",
W=i.calendarTitleFormat||"{month} {yyyy}";ra=new Date(gb);Wa(gb)?(t=Wd(gb),gb=new Date,gb.setDate(gb.getDate()+t)):"string"===typeof gb&&(gb=new Date(gb));Wa(B)?(t=Wd(B),B=new Date,B.setDate(B.getDate()+t)):"string"===typeof B&&(B=new Date(B));Wa(F)?(t=Wd(F),F=new Date,F.setDate(F.getDate()+t)):"string"===typeof F&&(F=new Date(F));ob(gb)||(gb=new Date);ke=new Date(gb);ob(B)||(B=new Date("1/1/"+(I.getFullYear()-100)));ob(F)||(F=new Date("12/31/"+(I.getFullYear()+30)));"undefined"===typeof R&&(R=!0);
t="January,February,March,April,May,June,July,August,September,October,November,December".split(",");i.monthNames&&12===i.monthNames.length&&(t=i.monthNames);i.weekStartsOnMonday&&(z=i.weekStartsOnMonday,sb=!0);i.daysOfWeek&&7===i.daysOfWeek.length&&(x=i.daysOfWeek,sb=!1);sb&&x.push.apply(x,x.splice(0,1));r=document.createElement("div");r.className="capture_datePicker_wrapper";i.additionalClasses&&(q(i.additionalClasses)&&(i.additionalClasses=i.additionalClasses.join(" ")),r.className+=" "+i.additionalClasses);
"object"===typeof w&&(o(w).append("capture_datePicker_targetElement"),ha&&ob(ha)&&"INPUT"===w.nodeName&&(w.value=Xa(S,ha)),"undefined"===typeof d&&(d=w.parentNode));i=0;"object"===typeof d&&(o(d).append("capture_datePicker_mainTarget"),i=d.offsetHeight);De(r,{display:"none",position:"absolute",top:i+"px",right:"0",zIndex:"100"});i=document.createElement("div");i.className="capture_datePicker_header";s=document.createElement("div");s.className="capture_datePicker_monthAndYearDisplayDiv";sb=document.createElement("a");
sb.setAttribute("href","#");sb.className="capture_datePicker_previousMonthButton capture_datePicker_monthButtons";mc=document.createElement("a");mc.setAttribute("href","#");mc.className="capture_datePicker_nextMonthButton capture_datePicker_monthButtons";i.appendChild(s);r.appendChild(i);if(O){P=document.createElement("select");N=document.createElement("select");P.className="capture_datePicker_monthSelect";N.className="capture_datePicker_yearSelect";for(var X=ra.getMonth(),U=0;12>U;++U){var V=document.createElement("option");
V.setAttribute("value",U);ma(V,t[U]);P.appendChild(V)}t=ra.getFullYear();c(t);P.value=X;N.value=t;y(P,"change",e);y(N,"change",e);s.appendChild(P);s.appendChild(N)}u?ma(sb,u):o(sb).append("janrain-icon-16").append("janrain-icon-back");E?ma(mc,E):o(mc).append("janrain-icon-16").append("janrain-icon-forward");y(sb,"click",h(-1));y(mc,"click",h(1));i.appendChild(sb);i.appendChild(mc);u=document.createElement("table");u.className="capture_datePicker_monthTable";u.style.width="100%";u.cellSpacing=0;u.cellPadding=
0;v=document.createElement("tbody");u.appendChild(v);r.appendChild(u);K&&(K=document.createElement("div"),K.className="capture_datePicker_closeButton",K.style.textAlign="center",u=document.createElement("a"),u.href="#",ma(u,"Close"),y(u,"click",k),K.appendChild(u),r.appendChild(K));G&&"object"===typeof d&&(H=document.createElement("span"),H.className="capture_datePicker_openButton janrain-icon-calendar janrain-icon-16",y(H,"click",a),d.appendChild(H));l(gb);J&&"object"===typeof w&&y(w,"focus",b);
"object"===typeof w&&(y(w,"keydown",function(d){switch(d.keyCode){case ue:case hb:case Rd:k()}}),y(w,"keyup",function(){if("INPUT"===w.nodeName){var d=td(S,w.value);ob(d)&&n(d)&&(ra=d,ha=new Date(d),l(d))}}),y(w,"blur",function(){if("INPUT"===w.nodeName){var d=td(S,w.value);ob(d)||!n(d)?ha?(ra=new Date(ha),j(ha.getDate())):w.value="":(d=Xa(S,ha),d!==w.value&&(w.value=d))}}));y(document,"click",function(d){if(A){for(d=M(d);d;){if(d===r||d===w||d===H)return;for(var a=0,p=C.length;a<p;++a)if(d===C[a])return;
d=d.parentNode}k()}});y(document,"keydown",function(d){if(A)if(d.keyCode===hb||d.keyCode===Rd)k();else if(R){var a={};a[ve]=-1;a[we]=-7;a[xe]=1;a[ye]=7;d=a[d.keyCode]||0;0!==d&&(a=ha?new Date(ha):new Date(ke),a.setDate(a.getDate()+d),n(a)&&(ha=new Date(a),ra=new Date(ha),l(ra),"object"===typeof w&&"INPUT"===w.nodeName&&(w.value=Xa(S,ha)),D(ha)))}});"object"===typeof d&&d.appendChild(r);f&&7>=f&&"object"===typeof d&&De(d,{position:"relative",zIndex:1});return{show:b,hide:k,setSelectedDate:function(d){"object"===
typeof d&&"function"===typeof d.getMonth&&(ha=new Date(d),ra=new Date(d),l(d));return this},getSelectedDate:function(){return ha}}}function Ba(){}function jb(d){var a=Ea(),d=xa({flow_control:d,token:V,capture_transactionId:a});Ha("/widget/control.jsonp",d);Ga(a)}function ja(d){var a=document.getElementById("captureIFrame_"+d);"yes"!==a.getAttribute("data-captureiframeloadeventbound")&&(a.setAttribute("data-captureiframeloadeventbound","yes"),y(document.getElementById("captureIFrame_"+d),"load",vb))}
function ka(d,a,k){if(!q(d)&&!a)return!1;q(d)||(d=[]);var b=d.length,c,e=new zb,f="",g=[],h=document.getElementById(k+a);if(!h)return!1;for(a=0;a<b;a++)if(c=l.fields[d[a]])c.fieldPrefix=k,c.name=c.elementName=d[a],f+=e.renderField(c),g.push(c.name);if(!f.length&&h)return h.innerHTML="",!1;h.innerHTML=f;a=0;for(b=g.length;a<b;a++)(d=document.getElementById(k+g[a]))&&y(d,"blur",Eb)}function xb(){for(var d=aa.div.getElementsByTagName("select"),a=d.length,k=0;k<a;k++)d[k].getElementsByTagName("option")[d[k].selectedIndex].disabled&&
(o(d[k]).append("capture_disabled"),y(d[k],"change",function(){o(this).remove("capture_disabled")}))}function mb(){y(document.body,"click",function(d){var a=M(d),a=[ib(a,"A"),ib(a,"BUTTON")];U(a,function(a){if(a){var p=janrain.settings.capture.logoutLinksClass||"capture_end_session";o(a).has(p)&&(yb(),Q(d));p=a.getAttribute("data-capturescreen");a=a.getAttribute("data-captureuseruuid");p&&(a?Jc(p,a):(fc=!0,janrain.capture.ui.renderScreen(p)),Q(d))}})})}function ba(){janrain.events.onProviderLoginToken.addHandler(function(d){if(d.janrainWidgetParameters&&
d.janrainWidgetParameters.widget_type&&"share"===d.janrainWidgetParameters.widget_type)return!1;if(d.linkAccounts)nb(wa({provider:d.janrainWidgetParameters.provider},d));else{janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience,!0);zd&&(zc=Ca);Ca=d.token;aa.values=lc(aa.div.id);Ac.push(aa);var d=Na(d.keepMeLoggedIn),a=d.capture_transactionId;Ha("/widget/token_url.jsonp",d);Ga(a);zd&&(zd=!1)}},!0);Zc=!0}function nb(d){m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+
"/widget/profile.jsonp",elementId:"linkAccount_form",captureScreen:d.currentScreen,needsResponse:!0,callback:function(){d.callback&&d.callback();janrain.events.onCaptureProfileLink.fire({provider:d.provider,authProfile:Se})},fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},{elementName:"token",elementType:"hidden",elementValue:d.token}]})}function vb(d){var d=M(d),a=d.getAttribute("data-transactionId"),k=H.parse(d.getAttribute("next"));if("formClicked"===d.className){if(janrain.settings.capture.transactionTimeout&&
z(db,a))return!1;ub(a,k)}}function ub(d,a){Ha("/widget/get_result.jsonp",{transactionId:d,cache:(new Date).getTime()},function(){sa(function(){if(Gd[d]){Zb(d);var k=Gd[d];"success"===k.status?a&&Za(a):da("there was a problem with the response",k);return!0}return!1}).setDelay(50).setMaxAttempts(10).setFailCallback(function(){da("could not find transaction status");n.warn("poll for transaction status failed. transaction id: "+d);return!1}).start()})}function Cb(d,a){var k=M(d).getAttribute("id").split("_")[3],
b=M(d),c=s(b),e=b.parentNode,f=o(e).has("capture_tab_toggle"),g=f?"capture_tab_toggle":"capture_radio_toggle",b=b.getAttribute("data-capture-tab-index");(new w).setUseLocalStorage(!0).setName("janrainCaptureSelectedTab").setValue(b).create();for(b=0;b<a.collection.length;b++)a.collection[b].elementName!==k&&(document.getElementById(c+a.collection[b].elementName).style.display="none");for(var g=$(g,document.getElementById(c+a.elementName)),h=g.length,b=0;b<h;b++)o(g[b]).remove("capture_toggled");o(e).append("capture_toggled");
document.getElementById(c+k).style.display="block";janrain.events.onCaptureContentChange.fire();f&&Q(d)}function Rb(d,a,k,b){k=b?H.stringify(b):k;Ga(a);d.className="formClicked";d.setAttribute("next",k);janrain.settings.capture.transactionTimeout&&setTimeout(function(){-1===Va.indexOf(a)&&(-1===db.indexOf(a)&&db.push(a),janrain.events.onCaptureTransactionTimeout.fire({transactionId:a}))},janrain.settings.capture.transactionTimeout)}function Tb(){var d,a,k,b,c,e,f=!1;return{setIframe:function(a){d=
a;return this},setTransactionId:function(d){a=d;return this},setNext:function(d){k=d;b=H.parse(k);return this},setForm:function(d){c=d;return this},setEvent:function(d){e=d;return this},dontSubmit:function(){return b?b.dontSubmit:!1},process:function(){a:if(b.conditional){for(var g=b.conditional,h=g.length,m=0;m<h;m++){var j;b:{j=g[m];var i=l.fields[j.field],i=s(c)+(i.elementId||i.elementName),i=document.getElementById(i);switch(j.compare){case "=":if(i.value===j.value){j=!0;break b}}j=void 0}if(j){f=
g[m];break}}f?f.nosubmit?(Q(e),Za(f.next)):Rb(d,a,k,f.next):Rb(d,a,k)}else if(b.dontSubmit){Q(e);if(b.storeValues){g=$("capture_focused");Je(g);if(!C(c))break a;g=oa(c.id);if(0<g.notUnique||0<g.pending||0<g.invalid)break a;lc(c.id,!0)}Za(b)}else Rb(d,a,k)}}}function na(d){var a=M(d),k=a&&a.id?a.id:"",b=M(d).getAttribute("data-transactionId"),c=document.getElementById("captureIFrame_"+b),e=$("capture_focused"),g=!1;a.getAttribute("next")||a.setAttribute("next",'{"noop":""}');var h=a.getAttribute("next"),
m=new Tb;m.setNext(h);m.dontSubmit()&&(g=!0);if(0<e.length&&f&&g&&le){var j={},i;for(i in d)j[i]=d[i];setTimeout(function(){Ke(a);na(j)},0)}else{le=!0;if(!g&&("true"!==a.getAttribute("data-capturedomelement")||"true"===a.getAttribute("data-capturedomelementvalidate"))){lb||$b(a);aa.values=lc(aa.div.id);if(C(a)){Je(e);var l=!1;(function(){sa(function(){var b=oa(k);if(0<b.invalid)return Q(d),lb||bc(a),!0;if(0===b.pending)return l&&a.submit(),!0;Q(d);l=!0;return!1}).setDelay(50).setMaxAttempts(400).setFailCallback(function(){n.warn("Poll to check form validations failed. Form id: "+
a.id);Q(d)}).start()})()}else return lb||bc(a),Q(d),!1;l||(e=bf(a),h=Yc(),e.parentNode.insertBefore(h,e),e.style.display="none")}g&&Q(d);m.setIframe(c).setTransactionId(b).setForm(a).setEvent(d).process()}}function $b(d){for(var d=ac(d),a=0,k=d.length;a<k;a++)me.clearPlaceHolder(d[a])}function ac(d){for(var a=[],k=pb(d.getElementsByTagName("input")),k=k.concat(pb(d.getElementsByTagName("textarea"))),d=0,b=k.length;d<b;d++)k[d].getAttribute("placeholder")&&k[d].getAttribute("placeholder").length&&
a.push(k[d]);return a}function bc(d){for(var d=ac(d),a=0,k=d.length;a<k;a++)me.restorePlaceHolder(d[a])}function Eb(d){le=!1;d=Qa(d);Fa(d,!1)}function Fa(d,a,k){if(d.type&&("hidden"===d.type||"submit"===d.type||"file"===d.type)||!d.getAttribute("data-capturefield"))return!0;var b=d.getAttribute("data-capturerendererfield")?l.fields[d.getAttribute("data-capturerendererfield")]:l.fields[d.getAttribute("data-capturefield")],c=d.getAttribute("data-capturerendererchildfieldname"),e=c?b.elementName+"["+
c+"]":b.elementName,f=s(d),g,h;g=!1;if(b.validation)g=(g=b.validation[c])&&g.required?g.required:!1,h=b.validation.required||g;else return!0;g=d.id||d.name;if(!d.value&&!h)return delete qa[g],!0;if(qa[g]&&qa[g].status&&"pending"===qa[g].status||b.validation.type&&"server"===b.validation.type||c&&!b.validation[c]&&"dateselect"!==b.type)return!0;qa[g]=qa[g]||{};qa[g].element=d;qa[g].formId=d.form&&d.form.id?d.form.id:"";qa[g].status="pending";qa[g].postValidationActions=b.validation.actions||null;c=
"multiCheckbox"===b.element||"multiRadio"===b.element?document.getElementById(f+"form_collection_"+b.elementName):"dateselect"===b.type?document.getElementById(f+"form_item_"+b.name):document.getElementById(f+"form_item_"+e);k||o(c).append("capture_validating");e=new m.validation;e.setParentDiv(c);e.setElement(d);d=ad.check(d,b,a);d.validation&&(e.setValidation(d.validation),qa[g].validation=d.validation);d.valid?(g=!0,k||(e.valid(b.validation.hideValidated),o(c).remove("capture_validating"))):d.pending?
(k||e.pending(),g=!0):(g=!1,k||(e.notValid(d.reason,d.type),o(c).remove("capture_validating")));return g}function Za(d){Ac.push(aa);if(d.noop)return!1;d.url&&(window.location.href=d.url);d.screen&&(new zb).setScreenData(d.screen,l.screens[d.screen]);if(d.action&&aa)janrain.capture.ui[d.action]();if(d["function"]&&"function"===typeof je[d["function"]])je[d["function"]]()}function Ob(d,a){var k={linkAccounts:!0,currentScreen:d,capture_transactionId:Ea()};janrain.engage&&janrain.engage.signin?(janrain.engage.signin.setNoReturnExperience(!0),
janrain.engage.signin.appendTokenParams(k,!0),janrain.engage.signin.triggerFlow(a)):console.log("Authentication widget not loaded on the page.")}function Ta(){if(0===ne)return!1;var d=(new Date).getTime()-ne,d=Math.floor(d/1E3);if(60>d)return d+" seconds ago";d=Math.floor(d/60);if(1==d)return d+" minute ago";if(59>d)return d+" minutes ago"}function ab(d){nc=!0;d=document.getElementById(d);y(d,"submit",function(){Te=(new Date).getTime()});clearInterval(Ue);Ue=setInterval(function(){if(!nc)return!1;
janrain.events.onCaptureAutoSaveUpdate.fire({durationSinceLastUpdate:Ta()})},Td)}function Ya(d){if(d){var a=document.getElementById(d.get("id")),k=d.attributes;if(a&&("value"in k&&za(k,"value")&&Te<d.time&&("radio"===a.type||"checkbox"===a.type?(d=ib(a,"form").id,d=document.forms[d][a.name],d.length&&(d=Ee(d,{value:k.value})[0]),d.checked=k.checked):a.value!==k.value&&(a.value=k.value)),k.valid&&(d=ud(a,"capture_form_item"))&&o(d).append("capture_validated"),k.focused)){var b=function(){if(this.setSelectionRange){var d=
this.value.length+1;this.setSelectionRange(d,d)}else this.value=this.value;setTimeout(function(){Gb(a,"focus",b)},10)};y(a,"focus",b);a.focus()}}}function Z(d){d=M(d);""!==d.name&&ya(d)}function ya(d){setTimeout(function(){var a={id:d.id,name:d.name,value:d.value};if("radio"===d.type||"checkbox"==d.type)a.checked=d.checked;Vb.update(a);janrain.settings.capture.autoSave&&rc(d)},0)}function rc(d){clearTimeout(kd);return kd=setTimeout(function(){if(Xd(document.body,d)){var a=ib(d,"form").id,a=document.getElementById(a);
if(nc&&C(a,!0)){lb||$b(a);a.submit();a.getAttribute("next");var k=a.getAttribute("data-transactionId"),b=document.getElementById("captureIFrame_"+k);(new Tb).setIframe(b).setTransactionId(k).setNext('{"noop": ""}').setForm(a).setEvent(null).process()}}},Ud)}function cc(d){d=M(d);d.tagName.match(/select/i)&&clearTimeout(kd);Vb.update({id:d.id,focused:!0})}function bb(d){var a=M(d).id;setTimeout(function(){var d=Vb.get(a);d&&d.get("focused")&&d.set("focused",!1)},0)}function xa(d,a){var k=wa({js_version:Ub,
capture_screen:ga,flow:l.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,flow_version:Ed,settings_version:la,locale:xc},d||{});janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&(k.bp_channel=Backplane.getChannelID());Mb&&(k.flow_path=Mb);if(q(a))for(var b=0,c=a.length;b<c;b++)k.hasOwnProperty(a[b])&&delete k[a[b]];return k}function Na(d){var a=xa({capture_screen:janrain.settings.capture.registerFlow||
"socialRegister",capture_transactionId:Ea()});Ca&&(a.token=Ca);zc&&(a.merge_token=zc,zc=null);d&&"true"===d&&(a.capture_keep_me_logged_in="yes");janrain.settings.capture.thinRegistration&&(a.thin_registration=!0);if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var d=janrain.settings.capture.dataDefaults,k;for(k in d)d.hasOwnProperty(k)&&"undefined"===typeof a[k]&&(a[k]=d[k])}return a}function $a(d){(new w).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(d).create()}
function wb(){(new w).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(yc).create()}function tc(){var d=new w;d.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?d.getCookie("janrainFailedLogins",function(d){Wa(d)&&(yc=parseInt(d,10))}):(d=d.getCookie("janrainFailedLogins"),Wa(d)&&(yc=parseInt(d,10)))}function A(){var d=36E5*Wc+(new Date).getTime();return(new Date((new Date).setTime(d))).toUTCString()}function Kb(){clearTimeout(fe);fe=setTimeout(Sb,1E4)}function uc(){if(janrain.settings.capture.federate&&
!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var d,a;cookie=new w;cookie.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)cookie.getCookie("janrainCaptureTokenRefresh",function(k){k&&(a=new Date,d=new Date(k),a.getTime()>d.getTime()?(n.info("SSO refresh_token, token needs refreshing, multi domain localStorage"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")):Kb())},!1);else{var k=cookie.getCookie("janrainCaptureTokenRefresh",null,
!1);k&&(a=new Date,d=new Date(k),a.getTime()>d.getTime()?(n.info("SSO refresh_token, token needs refreshing"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")):Kb())}}}function Sb(){if(janrain.settings.capture.federate&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var d=new w;d.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?d.getCookie("janrainCaptureToken",function(d){d?uc():(n.info("SSO refresh_token, no token exists, multi domain localStorage"),
JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"))}):d.getCookie("janrainCaptureToken")?uc():(n.info("SSO refresh_token, no token exists"),JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"))}}function wc(d){var a=new w;a.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken").setValue(d);janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.create()}function r(){var d=new w;d.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken");
janrain.settings.capture.cookieDomain&&d.setDomain(janrain.settings.capture.cookieDomain);d.remove()}function Da(){var d=new w;d.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?d.getCookie("janrainCaptureTemporaryToken",function(d){d&&(La(d),r())}):d.getCookie("janrainCaptureTemporaryToken")&&(La(d.getCookie("janrainCaptureTemporaryToken")),r())}function La(d,a,k){var b=A();V=d;a?(janrain.settings.capture.federate&&Sb(),janrain.events.onCaptureSessionCreated.fire({accessToken:d}),
janrain.events.onCaptureSessionFound.fire({accessToken:d})):(a=new w,a.setExpirationDirectly(b).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(V),n.info("token set: "+V),n.info("token expires: "+b),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.create(),janrain.settings.capture.federate&&(b=new w,a=36E5*Wc-6E5+(new Date).getTime(),a=(new Date((new Date).setTime(a))).toUTCString(),b.setUseLocalStorage(!0).setName("janrainCaptureTokenRefresh").setValue(a),
n.info("refresh token at: "+a),janrain.settings.capture.cookieDomain&&b.setDomain(janrain.settings.capture.cookieDomain),b.create(),Sb()),de&&(janrain.events.onCaptureLoginSuccess.fire({accessToken:d}),de=!1),k?(n.info("create capture session from Federate refresh"),janrain.events.onCaptureFederateRefreshedToken.fire({accessToken:d})):janrain.events.onCaptureSessionCreated.fire({accessToken:d}))}function yb(d){var a=new w,b=Ea(),c="function"===typeof janrain.settings.capture.federateLogoutCallback?
janrain.settings.capture.federateLogoutCallback:function(){},e=function(){janrain.capture.ui.federateLogoutCallbackFired(b,c)};a.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.remove();d||(V="");janrain.settings.capture.keepProfileCookieAfterLogout||(a.setName("janrainCaptureProfileData"),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.remove());janrain.settings.capture.backplane&&
"function"===typeof Backplane&&Backplane.resetCookieChannel();l&&qc(l,!0);janrain.settings.capture.federate?(clearTimeout(fe),JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,logout_uri:janrain.settings.capture.federateLogoutUri},e),function(){sa(function(){return z(Jd,b)}).setDelay(500).setMaxAttempts(20).setFailCallback(function(){n.warn("Poll for check federate callback called failed. ssoLogoutTransactionId: "+b);da("federatecallback not successful");Jd.push(b);c();janrain.settings.capture.federate=
!1;n.warn("janrain.settings.capture.federate set to false");return!1}).start()}()):Id&&c();janrain.events.onCaptureSessionEnded.fire()}function Yb(){var d=new w;d.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)d.getCookie("janrainCaptureToken",function(d){d?La(d,!0):janrain.events.onCaptureSessionNotFound.fire();Lb=!0});else{if(d.getCookie("janrainCaptureToken"))return La(d.getCookie("janrainCaptureToken"),!0),!0;janrain.events.onCaptureSessionNotFound.fire();return!1}}function Ec(d){n.info("fire Federate delayed events");
var a=Gd[d];if(d=a.fireEvent)q(d)||(d=[d]),S(d,function(d,b){janrain.events[b]&&("onCaptureLoginSuccess"===b&&Od||janrain.events[b].fire(a))})}function Wb(d,a){n.info("set Federate login");JANRAIN.SSO.CAPTURE.set_login({code:d,transaction_id:a,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});n.info("SSO set_login at "+new Date);(function(){sa(function(){return rb[a]&&rb[a].setLoginSuccess}).setDelay(500).setMaxAttempts(10).setFailCallback(function(){n.warn("Poll for set federate login failed. transactionId: "+
a);da("set login not successful");rb[a].eventFiredDueToSlowResponse=!0;Ec(a);janrain.settings.capture.federate=!1;Id=!0;n.warn("janrain.settings.capture.federate set to false");return!1}).start()})()}function Gc(d){n.info("check Federate for session at "+new Date);d||(d={});var a=Ea(),b={sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,response_method:d.response_method||"jsonp",response_type:janrain.settings.capture.responseType,redirect_uri:janrain.settings.capture.redirectUri,
widget_parameters:H.stringify(xa({capture_transactionId:a},["client_id"])),transaction_id:a,logout_uri:janrain.settings.capture.federateLogoutUri,nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver,refresh:!1};janrain.settings.capture.federateSegment&&(b.segment=janrain.settings.capture.federateSegment);janrain.settings.capture.federateSupportedSegments&&q(janrain.settings.capture.federateSupportedSegments)&&(b.supported_segments=janrain.settings.capture.federateSupportedSegments.join("-"));
janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&(b.bp_channel=Backplane.getChannelID());var c=new w;c.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?c.getCookie("janrainCaptureTokenRefresh",function(d){d?(currentTime=new Date,expireTime=new Date(d),currentTime.getTime()>expireTime.getTime()?"true"===janrain.settings.capture.federateNoRefresh?(b.refresh=!1,n.info("token refresh expired, federateNoRefresh is `true`, Federate refresh is false, multi domain localStorage")):
(b.refresh=!0,n.info("token refresh expired, Federate refresh is true, multi domain localStorage")):(b.refresh=!1,n.info("token not expired, Federate refresh set false"))):(c.getCookie("federateLimitRefresh")||(b.refresh=!0,c.setExpiration(1/24/60).setName("federateLimitRefresh").setValue("true").create()),n.info("no token refresh time found, force Federate refresh true, multi domain localStorage"))},!1):(d=c.getCookie("janrainCaptureTokenRefresh",null,!1))?(currentTime=new Date,expireTime=new Date(d),
currentTime.getTime()>expireTime.getTime()?"true"===janrain.settings.capture.federateNoRefresh?(b.refresh=!1,n.info("token refresh expired, federateNoRefresh is `true`, Federate refresh is false")):(b.refresh=!0,n.info("token refresh expired, Federate refresh is true")):(b.refresh=!1,n.info("token not expired, Federate refresh set false"))):(c.getCookie("federateLimitRefresh")||(b.refresh=!0,c.setExpiration(1/24/60).setName("federateLimitRefresh").setValue("true").create()),n.info("no token refresh time found, force Federate refresh true"));
n.info("SSO check_login at "+new Date);JANRAIN.SSO.CAPTURE.check_login(b);Ga(a);(function(){sa(function(){return-1<Va.indexOf(a)}).setDelay(500).setMaxAttempts(10).setFailCallback(function(){n.warn("Poll for check federate login failed. transactionId: "+a);da("check login not successful");janrain.settings.capture.federate=!1;n.warn("janrain.settings.capture.federate set to false");Id=!0;Yb();Lb=!0;return!1}).start()})()}function Hc(){if(janrain.settings.capture.redirectFlow&&"transactionId"in oc)location.hash=
location.hash.replace(RegExp("[&,]*transactionId="+oc.transactionId),""),Yb(),Lb=!0,ub(oc.transactionId);else if(Ia.capture_complete_social_registration)Lb=!0,La(Ia.capture_complete_social_registration);else if(janrain.settings.capture.federate)Gc();else{Ia.jr_otp&&m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/otp_signin",name:"janrainOTPPost",needsResponse:!0,fieldPrefix:"janrain_otp_",fields:[{elementType:"hidden",elementName:"jr_otp",elementValue:Ia.jr_otp}]});
var d;oc.access_token?(de=!0,La(oc.access_token),d=!0):d=!1;if(d||Yb())return Lb=!0,!1;janrain.settings.multiDomainLocalStorage||(Lb=!0)}}function Ic(d,a){var b=d["if"].compare;if(!b||0>b.indexOf(":"))return!1;switch(b.split(":")[0]){case "cookie":var c=b.split(":")[1],b=new w;b.setUseLocalStorage(!0);"janrainLastAuthMethod"===c&&!bd&&(bd=ga);if(janrain.settings.multiDomainLocalStorage)b.getCookie(c,function(b){e&&"janrainLastAuthMethod"===c&&(Ld=!0);Nb(kc(d["if"],b)?d.then:d["else"],a)});else{var e=
b.getCookie(c);e&&"janrainLastAuthMethod"===c&&(Ld=!0);Nb(kc(d["if"],e)?d.then:d["else"],a)}break;case "session":b=b.split(":")[1],"boolean"===typeof d["if"].to&&(d["if"].to+=""),"exists"===b&&Nb(kc(d["if"],!!V+"")?d.then:d["else"],a)}}function kc(d,a){var b=Wa(a)?parseInt(a,10):a,c,e=Wa(d.to)?parseInt(d.to,10):d.to;switch(d.withOperator){case "===":c=e===b;break;case "!==":c=e!==b;break;case "==":c=e==b;break;case "!=":c=e!==b;break;case ">":c=b>e;break;case "<":c=b<e}return c}function Nb(d,a){!d&&
"function"===typeof a&&a();if(!d)return!1;if("undefined"===typeof d["if"]){if(d.render){var b=d.render.screen,c=l.screens[b];(new zb).setScreenData(b,c)}}else Ic(d,a)}function ic(d){if(!d)return!1;"undefined"!==typeof janrain.settings.capture.hideSavedProfileMessageDelay&&setTimeout(function(){d&&(d.style.display="none")},janrain.settings.capture.hideSavedProfileMessageDelay)}function jc(){for(var d="",a=[],b=0;10>b;b++)d=Ja(40),a.push(d);return a}function Xb(d){if(!q(d))return!1;for(var a=d.length,
b=0;b<a;b++){var c=d[b];-1===ca.indexOf(c)&&ca.push(c)}}function Ea(){var d=ca.pop();0===ca.length&&Xb(jc());-1===Pd.indexOf(d)&&Pd.push(d);return d}function Ga(d){var a=Pd.indexOf(d);-1<a&&Pd.splice(a,1);-1===Bd.indexOf(d)&&Bd.push(d)}function Zb(d){var a=Bd.indexOf(d);-1<a&&Bd.splice(a,1);-1===Va.indexOf(d)&&Va.push(d)}function Cc(d){if(d.status){Gd[d.transactionId]=d;"photoUploaded"===d.statusMessage&&janrain.events.onCapturePhotoUploadSuccess.fire();if(d.userData){if(janrain.settings.capture.setProfileCookie){var a=
d.userData,b=A();(new w).setExpirationDirectly(b).setUseLocalStorage(!0).setName("janrainCaptureProfileData").setValue(H.stringify(a)).create();janrain.events.onCaptureProfileCookieSet.fire(a)}if(janrain.settings.capture.returnExperienceUserData&&(a=janrain.settings.capture.returnExperienceUserData,b=d.userData,q(a))){for(var c=a.length,e={},f=0;f<c;++f)e[a[f]]=Aa(b,a[f]);(new w).setExpiration(1826).setUseLocalStorage(!0).setName("janrainCaptureReturnExperienceData").setValue(H.stringify(e)).create()}}"success"===
d.status?(janrain.events.onCaptureSaveSuccess.fire(d),R&&!B?R="":B=!1):janrain.events.onCaptureSaveFailed.fire(d);(a=Ve[d.action])&&a(d)}}function gc(){if("object"!==typeof E)return!1;pa.modalConfirmText&&E.setConfirmMessageText(pa.modalConfirmText);pa.modalConfirmLinkText&&E.setConfirmLinkText(pa.modalConfirmLinkText);pa.modalCancelLinkText&&E.setCancelLinkText(pa.modalCancelLinkText)}function hc(d,a,b,c){if(!kb[d]||!kb[d].custom)kb[d]={},kb[d].html='<div class="'+a+'">'+(pa[d]||b)+"</div>",kb[d].screen=
c}function Dc(d,a){var b=[];S(kb,function(d){b.push(d)});z(b,d)&&(kb[d].html=a,kb[d].custom=!0)}function Bc(d){l=d;l.flow=t();"undefined"===typeof Nd&&(Nd=d);We();"object"!==typeof l.layouts&&(l.layouts={});"object"!==typeof l.layouts.captureAccessDeniedBuiltIn&&(l.layouts.captureAccessDeniedBuiltIn={});l.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:kb.accessDenied.html;"object"!==typeof l.layouts.captureRetrievingUserDataBuiltIn&&
(l.layouts.captureRetrievingUserDataBuiltIn={});l.layouts.captureRetrievingUserDataBuiltIn.html=document.getElementById("captureRetrievingUserDataBuiltIn")?document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:kb.retrievingUserData.html;"object"!==typeof l.layouts.captureDialogBuiltIn&&(l.layouts.captureDialogBuiltIn={});l.layouts.captureDialogBuiltIn.html=kb.dialog.html;l.screens.janrainDialog=kb.dialog.screen;for(d=0;d<dd.length;d++)l.fields[dd[d].field][dd[d].attribute]=dd[d].value}
function pc(d){if(W.isCloneable(d))for(var a in d)if(za(d,a)){var b=d[a];W.isCloneable(b)&&pc(b);if(Jb(b)&&"settings"===b.valueSource&&"undefined"!==typeof b.key&&"undefined"!==typeof b["default"]){var c=Ad[b.key];"undefined"===typeof c&&(c=b["default"]);d[a]=c}}}function Kc(d){var a={},b=!1;S(d.fields,function(c,e){void 0!==e.value&&!d.fields[e.value]&&(void 0!==Qd[c]&&!Ie(Qd[c],e.value)&&(b=!0,a[c]={oldValue:Qd[c],newValue:e.value}),Qd[c]=e.value)});b&&janrain.events.onCaptureFieldsChanged.fire(a)}
function qc(d,a){S(d.fields,function(b,c){if((!d.form||a)&&c.doNotPrePopulate)c.value=""})}function da(){Yd.push(arguments);if(window.console){var d=arguments;d.callee=d.callee.caller;d=[].slice.call(d);f?console.log(d):console.log.apply(console,d)}}function zb(){function d(d,a,p){a&&a.screenConditionals?Nb(a.screenConditionals,p):"function"===typeof p&&p()}function a(d){janrain.events.onCaptureAccessDenied.fire();dc=!0;be="accessDenied";f({layout:"captureAccessDeniedBuiltIn",modal:d.modal,source:"server"})}
function b(d){var a,p=Ea();switch(d){case "email":(d=Ia&&Ia.verification_code?Ia.verification_code:"")?(a=xa({capture_transactionId:p,verification_code:d}),Ha("/widget/email_code.jsonp",a),Ga(p),da("need to verify "+d)):da("no code supplied");break;case "password":(d=Ia&&Ia.code?Ia.code:"")?(da("need to verify "+d),a=xa({capture_transactionId:p,code:d}),Ha("/widget/email_code.jsonp",a),Ga(p)):da("no code supplied");break;case "reactivate":(d=Ia&&Ia.reactivation_code?Ia.reactivation_code:"")?(da("need to verify "+
d),a=xa({capture_transactionId:p,reactivation_code:d}),Ha("/widget/reactivate_account.jsonp",a),Ga(p)):da("no code supplied")}Xe=!0}function L(d){d&&(Mc=d.validateOnRender);if(!Xe){if(d&&"changePasswordLink"===d.dataType&&!d.errors)return b("password"),!1;if(d&&"verifyEmail"===d.dataType&&!d.errors)return b("email"),!1;if(d&&"reactivateAccount"===d.dataType&&!d.errors)return b("reactivate"),!1}var c=d.dataType&&"public"===d.dataType;if(d&&d.hasUserData&&!l.fused||d&&d.hasUserData&&c&&!l.privacyFiltered)return c=
d.dataType&&"public"===d.dataType,!V&&!c?a(d):(dc=!0,be="retrievingUserData",f({layout:"captureRetrievingUserDataBuiltIn",modal:d.modal,source:"server"}),Fc(c)),h(),!1;if(!V&&d&&d.requireAccessToken)return a(d),h(),!1;dc=!1;f(d);h();Ld&&(Ld=!1,janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))}function e(a,p){if(ge)setTimeout(function(){e(a,p)},50);else{p&&p.type&&"completeSocialRegistration"===p.type&&(Od=!0);if(Ua&&p&&(l.noModalForMobile||p.noModalForMobile))p.modal=
!1;if(Ua&&p&&(l.modalForMobile||p.modalForMobile))p.modal=!0;Lb?(ga=a,K="capture_"+ga+"_",d(a,p,function(){L(p)})):setTimeout(function(){e(a,p)},50)}}function f(d){if(aa&&aa.div&&(!d.modal||aa.modal&&d.modal)&&!d.keepPreviousScreen)aa.div.style.display="none";var a=d.layout,p=d.source,b=d.modal,d=!!d.modalLoadOnLoad;if("server"===p){var k=document.getElementById(a);k||(k=document.createElement("div"),k.setAttribute("id",a));try{x[a]?Y.html=x[a]:(Y.html=l.layouts[a].html,x[a]=Y.html)}catch(c){throw{name:"MissingLayoutError",
message:"The json containing the layout template code for '"+a+"' is missing."};}}if("client"===p)try{if(k=document.getElementById(a))x[a]&&!1!==janrain.settings.capture.saveLayouts?Y.html=x[a]:(Y.html=k.innerHTML,x[a]=Y.html);else throw Y.html="",ea(a);}catch(L){throw da(L.name+": "+L.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");}o(k).append("janrain-capture-ui").append("capture-ui-content").append("capture_screen_container");Ua&&(o(k).append("janrain-capture-ui-mobile"),
Ma.onOrientationChange.addHandler(function(d){o(k).append("janrain-capture-ui-mobile-"+d.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[d.orientation]);janrain.events.onCaptureContentChange.fire()},!0),Ma.onOrientationChange.fire({orientation:Ma.getOrientation()}));Y.div=k;dc||Y.div.setAttribute("data-capturescreenname",ga);Ra=Y.div;Y.modalLoadOnLoad=d;Y.source=p;Y.modal=b;aa=Y;"undefined"===typeof ie[ga]&&(ie[ga]={});ie[ga].layout=Y}function g(d,a){var p=
d.element,b=d.type;z(["data","capture","widget"],d.element)||(p="html",b=d.element);if("object"===typeof d.displayCondition&&"undefined"!==typeof d.displayConditionPassed&&!1===d.displayConditionPassed)return!1;if(d.close)return w.render.html.close(d);if(w.render[p]&&w.render[p][b])return n.log("jtl","Rendering {* "+b+" *}, type: "+p+"."+b),w.render[p][b](d,a);p='Invalid JTL tag "'+d.name+'" with element "'+d.element+'"';d.type&&(p+=' and type "'+d.type+'"');n.forceError(p);return!1}function h(){ge=
!0;janrain.events.onCaptureRenderStart.fire(l);Pa=[];l.fields.submitButton||(l.fields.submitButton={element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",elementName:"capture_submit",value:"Submit"});l.fields.loginWidget||(l.fields.loginWidget={element:"widget",type:"login"});l.fields.shareWidget||(l.fields.shareWidget={element:"widget",type:"share"});l.fields.backButton||(l.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});l.fields.captcha||
(l.fields.captcha={element:"capture",type:"captcha"});l.fields.keepMeLoggedIn||(l.fields.keepMeLoggedIn={element:"capture",type:"keepMeLoggedIn"});l.fields.errorMessages||(l.fields.errorMessages={element:"capture",type:"errorMessages"});l.fields.savedProfileMessage||(l.fields.savedProfileMessage={element:"capture",type:"savedProfileMessage"});Y.originalHtml=Y.html;Y.flow=l;Y.html=m(Y.html);Y.div.innerHTML=Y.html;if("server"==Y.source){if(!document.getElementById("janrainCaptureWidget")){var d=document.createElement("div");
d.id="janrainCaptureWidget";document.body.appendChild(d)}document.getElementById("janrainCaptureWidget").appendChild(Y.div)}if(!dc){for(var d=0,a=Hd.length;d<a;d++)Fa(document.getElementById(Hd[d]),!1);Hd=[]}i();j();for(d=0;d<Pa.length;d++){a=document.getElementById(K+Pa[d].elementName);if(!a){n.forceError("Couldn't find the \""+Pa[d].elementName+'" form. Is it being placed inside another form?');break}Pa[d].next&&Pa[d].next.type&&"server"===Pa[d].next.type?a.setAttribute("next",'{"noop":""}'):Pa[d].next?
(Pa[d].next.conditional&&a.setAttribute("next",H.stringify(Pa[d].next)),Pa[d].next.screen&&a.setAttribute("next",H.stringify(Pa[d].next)),Pa[d].next.url&&a.setAttribute("next",H.stringify(Pa[d].next)),Pa[d].next.action&&a.setAttribute("next",H.stringify(Pa[d].next))):a.setAttribute("next",'{"noop":""}')}s();aa=Y;janrain.events.onCaptureContentChange.fire()}function m(d){for(var a=/\{\*(.*?)\*\}/,p=/^\s*\/\s*/,b=/^\s*#\s*/,k=/\{(.*?)*\}\s*/,c=!1,L,e=[],f=[];L=a.exec(d);)try{var ia=L[1].trim();if(k.test(ia))var h=
ia.match(k),ia=ia.replace(h[0],"").trim(),j=h[0].match(/\{(.*?)*\}\s*/)[0];else j=null;c=!1;b.test(ia)&&(ia=ia.replace("#","").trim(),c=!0);if(p.test(ia)){var jd=ia.replace("/",""),i={};if("undefined"==typeof l.fields[jd])return da("No field definition for"+jd,"error"),n.error("No field definition for"+jd+" error"),t;i.element=l.fields[jd].element;i.type=l.fields[jd].type;i.close=!0}else{if("undefined"==typeof l.fields[ia])return da("No field definition named "+ia+" for tag "+L[0],"error"),n.error("No field definition named "+
ia+" for tag "+L[0]+" error"),t;i=l.fields[ia];i.name=ia;c&&(i.start=!0);if("form"===i.element&&!i.transactionId){var id=Ea();i.transactionId=id}i.elementName=i.elementName||ia}var j=j||null,q=g(i,j);q||(q=" ");q+="";q=q.replace(/\$/g,"$$$$");d=d.replace(L[0],q);(i.next||"form"===i.element&&!i.close)&&Pa.push({elementName:i.elementName,next:i.next});i.onclickHandler&&u.push({elementName:i.elementName,handler:i.onclickHandler,eventType:"click"});i.onchangeHandler&&u.push({elementName:i.elementName,
handler:i.onchangeHandler,eventType:"change"});"string"===typeof i.element&&"form"===i.element&&!i.close&&(u.push({elementName:i.elementName,handler:na,eventType:"submit"}),janrain.settings.capture.autoSave&&!Ua&&u.push({elementName:i.elementName,handler:ab,eventType:"render"}));if("form"===i.element&&("widget/traditional_register.jsonp"===i.action||"widget/social_register.jsonp"===i.action))f.push("widget/traditional_register.jsonp"===i.action?"traditionalRegister":"socialRegister");if("form"===
i.element&&"widget/traditional_signin.jsonp"===i.action||"widget"===i.element&&"login"===i.type)e.push("widget/traditional_signin.jsonp"===i.action?"traditionalSignin":"socialSignin")}catch(o){return da(o.name+": "+o.message,"error"),!1}e.length&&janrain.events.onCaptureLoginStart.fire({action:e.join(","),screen:ga});f.length&&janrain.events.onCaptureRegistrationStart.fire({action:f.join(","),screen:ga});return d}function j(){Y.div.getAttribute("data-captureventadded")||(y(Y.div,"click",function(d){var a=
M(d);if(a&&a.nodeName&&"A"===a.nodeName){var p=a.getAttribute("data-capturecontrol");p&&(jb(p),Q(d));a.getAttribute("data-cancelcapturereturnexperience")&&bd&&(janrain.capture.ui.setNoReturnExperience(),Q(d));if((a=a.getAttribute("data-modalwindow"))&&"object"===typeof E)"close"===a&&(janrain.capture.ui.modal.close(),Q(d)),"closeconfirm"===a&&(janrain.capture.ui.modal.closeConfirm(),Q(d))}}),Y.div.setAttribute("data-captureventadded",!0));for(var d=Y.div.getElementsByTagName("img"),a=d.length,p=0;p<
a;p++)y(d[p],"load",function(){janrain.events.onCaptureContentChange.fire()});d=$(janrain.settings.capture.modalOpenClass||"capture_modal_open");a=d.length;if(!Pe){for(p=0;p<a;p++)y(d[p],"click",function(d){"object"===typeof E?(janrain.capture.ui.renderScreen(aa.flow.defaultScreen),E.setShowContentOnLoad(!0).addContent(aa.div).show(),fc=!1,janrain.events.onCaptureScreenShow.fire({screen:ga}),janrain.events.onCaptureContentChange.fire()):Xc=!0;Q(d)});Pe=!0}}function i(){if(l.cssDependencies&&q(l.cssDependencies))for(var d=
0;d<l.cssDependencies.length;d++)X(l.cssDependencies[d]);ae&&Oa&&!v?mf(janrain.events.onCssLoad,function(d){Y=aa;oe.push(d.source);for(d=0;d<ae;d++)if(-1==oe.indexOf(Dd[d]))return!1;v||(r(),v=!0)}):r();ge=!1;d={flow:l,renderingBuiltInScreen:dc,screen:ga};dc&&(d.builtInScreenRendered=be);janrain.events.onCaptureRenderComplete.fire(d);l.screens&&l.screens[ga]&&l.screens[ga].type&&"completeSocialRegistration"===l.screens[ga].type&&(wc(V),yb(!0))}function r(){var d=!1,a=!1;if(Y.modal){if("object"===typeof E){var d=
!0,p=E.getContent();p&&document.body.appendChild(p);E.close(!0)}else E=new wd,gc();Qe||(a=!0,janrain.events.onModalClose.addHandler(function(){l&&l.mergeToken&&(l.mergeToken="")},!0),Qe=!0);E=c(E);E.setShowContentOnLoad(!0).addContent(Y.div);a&&janrain.events.onCaptureModalReady.fire();if(d||Y.modalLoadOnLoad||Xc||fc)E.show(),fc=!1,janrain.events.onCaptureScreenShow.fire({screen:ga})}else"object"===typeof E&&E.close(!0),fc=!1,janrain.events.onCaptureScreenShow.fire({screen:ga});Y.div.style.display=
"block";janrain.events.onCaptureContentChange.fire()}function s(d){for(var d=d||u,a=0;a<d.length;a++)if("function"===typeof d[a].handler)if("render"===d[a].eventType)d[a].handler(K+d[a].elementName);else{var p=document.getElementById(K+d[a].elementName);y(p,d[a].eventType,d[a].handler)}u=[]}var Y={},w,t=pa.humanReadableGenericErrorMessage||"Error displaying information";w=new Ba;ad=new fa;return{setScreenData:e,render:h,renderField:g,attachEventHandlers:s}}function lc(d,a){for(var b=[],c=document.getElementById(d).getElementsByTagName("INPUT"),
e=c.length,f=0;f<e;f++){var g={};g.id=c[f].id;g.placeholder=c[f].getAttribute("placeholder");if(Oc||a)hd[c[f].getAttribute("data-capturefield")]=c[f].value;g.value=g.placeholder?g.placeholder===c[f].value?"":c[f].value:c[f].value;"radio"===c[f].type&&(g.type="radio",g.checked=c[f].checked);b.push(g)}return b}function Fc(d,a){var b="function"===typeof a?a:function(){};if(d){var c=ld||Ia.uuid||"";ld&&(ld="");c?(da("need to get data for "+c),m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+
"/widget/public_profile.jsonp",elementId:"getPublicUserData_form",needsResponse:!0,callback:b,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"},{elementName:"uuid",elementType:"hidden",elementValue:c}]})):da("no uuid supplied")}else{if(!V)return!1;m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",needsResponse:!0,callback:b,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}
function Ha(d,a,b){0!==d.indexOf("http")&&(d=janrain.settings.capture.captureServer+d);va(sd(d,a),b)}function i(d,a){var b={},c=d&&d.userData&&d.userData.migratedUserType?d.userData.migratedUserType:null,e=a?Sc:ed;Ca&&!a&&(b.capture_social_registration=Ca);V&&a&&(b.capture_complete_social_registration=V);pe&&(b.authProvider=pe);c&&(b.migratedUserType=c);yb();var c=e,e=location,f=c;c.match(/^http[s]*:\/\//)||(f=e.pathname.split("/"),f.length-=1,f.push(c),f=e.protocol+"//"+e.host+f.join("/"));b=sd(f,
b);window.location=b}function I(d,a){var b=!1,c;if("ok"===d.stat){c=d.result;c.accessToken&&c.oneTime&&(R=c.accessToken,B=!0);c.accessToken&&!c.oneTime&&La(c.accessToken);c&&Cc(c);pe=c&&c.authProvider?c.authProvider:null;Se=c&&c.authProfileData?c.authProfileData:{};c&&c.screen&&l.screens&&l.screens[c.screen]&&l.screens[c.screen].type&&"completeSocialRegistration"===l.screens[c.screen].type&&Da();if("socialSignin"===c.action&&"success"===c.status&&"noUserForIdentifier"===c.statusMessage||"socialSignin"===
c.action&&"success"===c.status&&janrain.settings.capture.socialRegistrationRedirectUrlCondition){var e=janrain.settings.capture.socialRegistrationRedirectUrlCondition;if(e){var f=[];S(e,function(d,a){c[d]===a||c.userData&&c.userData[d]===a?f.push(!0):f.push(!1)})}ed&&"noUserForIdentifier"===c.statusMessage&&(b=!0,i(c));Sc&&e&&!z(f,!1)&&(b=!0,i(c,!0))}"otpSignin"===c.action&&("signedIn"===c.statusMessage?janrain.events.onCaptureOTPLoginSuccess.fire(c.userData):"error"===c.status&&janrain.events.onCaptureOTPLoginFailed.fire(c.statusMessage))}"function"===
typeof a&&!b&&a(c)}function Nc(d){function a(d){return'<li><a href="#" class="capture_suggestion">'+d+"</a></li>"}var b=d.result,d=s(b.submittedScreen),c=l.fields[b.field],e=document.getElementById(d+(c.elementId||c.elementName||b.field)),f=b.alternatives,g=c.validation.messages.unique||"",h=document.getElementById(d+"form_item_"+(c.elementName||b.field)),i=new m.validation;i.setElement(e);i.setParentDiv(h);if(!1===b.unique){if(f){var f=f.map(a),j=function(d){var a=M(d);o(a).has("capture_suggestion")&&
(e.value=a.innerHTML,Gb(h,"click",j),i.valid(),Q(d))};i.notValid(g+'<ul class="capture_suggestions">'+f.join("")+"</ul>",function(){y(h,"click",j)})}else i.notValid(g);i.setUnique(!1)}else{if(b=Aa(c,"validation.unique.alongWith"))(d=document.getElementById(d+"form_item_"+l.fields[b].elementName))&&o(d).append("capture_validated").remove("capture_validating").remove("capture_error");i.valid();i.setUnique(!0)}}function Cd(d){var a=[];l&&l.fields&&S(l.fields,function(b,c){c&&c.type&&c.type===d&&a.push(c)});
return a}function Pc(d,a){janrain.events.onCaptureError.fire("object"===typeof d?d:"{"+d+"}");if(d.result&&d.result.error&&("access_token_expired"===d.result.error&&(yb(),janrain.events.onCaptureExpiredToken.fire()),"invalid_argument"===d.result.error&&"malformed access token"===d.result.errorDescription&&(yb(),janrain.events.onCaptureInvalidToken.fire()),"linkError"===d.result.error)){var b=Cd("linkAccounts"),c=b.length?b[0]:{},b=c.messages&&c.messages.errors&&c.messages.errors.linkError?c.messages.errors.linkError:
"That account is already in use.",e=w().getCookie("expected_tab");if(E&&E.isOpen()&&(c=c&&c.linkAccountContainer?$("capture_"+c.linkAccountContainer,document.getElementById("janrainModal")):!1)){for(var f=$("capture_form_error_container",c[0]),c=0,g=f.length;c<g;c++)f[c].innerHTML='<div class="capture_form_error">'+b+"</div>";var h=janrain.events.onModalClose.addHandler(function(){U(f,function(d){d.innerHTML=""});janrain.events.onModalClose.removeHandler(h)})}janrain.events.onCaptureLinkAccountError.fire({message:b,
provider:e})}janrain.settings.custom||janrain.engage.signin.widget.refresh();b=d.result.customError||d.result.error+": "+d.result.errorDescription;Rc(b,d.result.error)||alert(b);da(d);"function"===typeof a&&a()}function Rc(d,a){if(Ra){var b={classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()};a&&b.classes.push("capture_errortype_"+a.replace(/ /g,"").toLowerCase());b=m.domHelpers.createDiv(b);b.innerHTML=d;Ra.insertBefore(b,Ra.firstChild);janrain.events.onCaptureContentChange.fire()}return Ra}
function $c(d,a){if("string"!==typeof d||!janrain.settings.capture.setProfileCookie)return!1;var b=new w,c;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureProfileData",function(b){b.length&&(c=H.parse(b),"function"===typeof a&&"object"===typeof c&&a(c[d]))});else if((b=b.getCookie("janrainCaptureProfileData"))&&b.length)if(c=H.parse(b),"object"===typeof c)return c[d]}function Tc(d,a){if("string"!==typeof d||!janrain.settings.capture.returnExperienceUserData)return!1;
var b=new w,c;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureReturnExperienceData",function(b){b.length&&(c=H.parse(b),"function"===typeof a&&"object"===typeof c&&a(c[d]))});else if((b=b.getCookie("janrainCaptureReturnExperienceData"))&&b.length)if(c=H.parse(b),"object"===typeof c)return c[d]}function vc(d){var a=w();return z(["expected_tab","welcome_info_name","login_tab"],d)&&(d=a.getCookie(d))?unescape(d):""}function Yc(){var d=document.createElement("div");
d.className="capture_btn capture_processing";d.innerHTML=pa.processing||"Processing";return d}function Jc(d,a){l&&d&&a&&l.screens&&l.screens[d]&&l.screens[d].dataType&&"public"===l.screens[d].dataType?(!l._uuid||l._uuid&&l._uuid!==a||!l.privacyFiltered?(ld=a,l.fused=!1):ld="",fc=!0,janrain.capture.ui.renderScreen(d)):da("Cannot get public flow and show screen.")}function pd(d,a){if(!d)throw Error("postCaptureForm requires you supply a form name.");var b=l.fields[d];if(!b)throw Error("postCaptureForm Error: no form called "+
d+" found in the flow.");if(!b.element||"form"!==b.element)throw Error("postCaptureForm Error: the field called "+d+" found in the flow is not a form.");var c=b.fields;if(!c)throw Error("postCaptureForm Error: the form called "+d+" has no fields defined.");for(var b=b.action,e=Ja(40),f={},g={fieldPrefix:"capture_postForm_"+e+"_",elementId:d,name:d,fields:[],elementAction:janrain.settings.capture.captureServer+"/"+b,needsResponse:!0},b=0,h=c.length;b<h;b++){var i={};if(a)i.elementValue=a[c[b]];else{var j=
Vb.getByName(c[b]);i.elementValue=j?j.getValue():void 0}"undefined"!==typeof i.elementValue&&(f[c[b]]=!0,i.elementType="hidden",i.fieldPrefix=g.fieldPrefix,i.elementId=c[b]+"_"+e,i.elementName=i.name=c[b],g.fields.push(i))}S(a,function(d,a){if(!f[d]){var b=d.match(/(.*)\[(.*)\]/),p=d;b&&(p="display"===b[1]?b[2]:b[1]);if(z(c,p))g.fields.push({elementType:"hidden",fieldPrefix:g.fieldPrefix,elementValue:a,elementId:d+"_"+e,elementName:d,name:d});else throw Error('postCaptureForm Error: No field named "'+
p+'" found in the flow.');}});m.domHelpers.createFormAndPost(g)}var Lc=function(){function d(d){this.attributes=d&&wa({},d)||{};this.time=(new Date).getTime();return this}d.prototype={set:function(d,a){var b=this,p=!1,c;Jb(d)&&(c=d);"string"===typeof d?(p=this.attributes[d]!==a,this.attributes[d]=a):c&&S(c,function(d,a){p=p||b.attributes[d]!==a;b.attributes[d]=a});p&&(this.time=(new Date).getTime());return this},get:function(d){return this.attributes[d]},destroy:function(){this.attributes={};this.time=
(new Date).getTime();return this},each:function(d,a){var a=a||this,b;for(b in this.attributes)za(this.attributes,b)&&d.call(a,b,this.attributes[b]);return this}};for(var a=["focused","checked","value","name","valid"],b=0,c=a.length;b<c;b++)(function(a){var b=a.charAt(0).toUpperCase()+a.slice(1);d.prototype["set"+b]=function(d){return this.set(a,d)};d.prototype["get"+b]=function(){return this.get(a)}})(a[b]);return d}(),u=[],ad,ge=!1,Mb,xc=janrain.settings.capture.language||janrain.settings.language||
"en-US",Pa=[],ga,ie={},K,bd,Ld=!1,Md=!1,Mc,Ac=[],rd=janrain.settings.capture.maxScreenHistory||3,aa={},dd=[],Nd,je={},Oc=janrain.settings.capture.mode13||!1,ed=janrain.settings.capture.socialRegistrationRedirect,Sc=janrain.settings.capture.socialRegistrationCompleteRedirect,Od=!1,cd=!1,fd=!1,gd=!1,hd={},Vb,Qd={},fc=!1,J,dc=!1,Ca,zc,de=!1,V,Lb=!1,R,B=!1,ee=!1,v=!1,l,Ad,la="",pa={},Ra,Kd=!1,Uc=!1,fb=janrain.settings.capture.backplaneVersion||"1.2",N="1.2"===fb+""?"backplane.js":"backplane"+fb+".js",
eb=janrain.settings.capture.backplaneLibrary||(janrain.settings.enforceSecureCloudfront?"https://ssl-cdn.janrainbackplane.com/":"https://d134l0cdryxgwa.cloudfront.net/")+N,cb=janrain.settings.capture.backplaneServerBaseUrl||"https://backplane1.janrainbackplane.com/v"+fb,xd=janrain.settings.capture.backplaneBlock||20,Vc=janrain.settings.capture.backplaneReplayOnPageLoad||!1,x={},Gd={},ca=[],Pd=[],Bd=[],Va=[],db=[],Oa=!1,Wc=janrain.settings.capture.accessTokenLifeHours||1,lb="placeholder"in document.createElement("input"),
Zc=!1,zd=!1,qb,E,Xc=!1,Pe=!1,Qe=!1,Dd=[],ae=0,Hd=[],Ed="HEAD",Re=!1,kb={},be,Fd={},ce=!1,yc=0,ec=[],he=!1,Id=!1,rb={},Jd=[],fe;a=0;var Ia=Ib(window.location.href).queryKey,oc=af(location.hash.replace("#",""),/[&,]/),ld,md,pe,Se,Ye="Validating",Xe=!1,Ab,Ze="widget/traditional_register.jsonp,widget/traditional_signin.jsonp,widget/token_url.jsonp,widget/social_register.jsonp,widget/public_profile.jsonp,widget/recover_password.jsonp,widget/email_code.jsonp,widget/reactivate_account.jsonp".split(","),
oe=[],qe={};Ac.push=function(){Array.prototype.push.apply(this,arguments);this.length>rd&&this.shift();return this.length};"en"===xc&&(xc="en-US");ed&&Ia&&Ia.capture_social_registration?Ca=Ia.capture_social_registration:oc.engageToken&&(zc=Ca=oc.engageToken,location.hash=location.hash.replace(RegExp("[&,]*engageToken="+Ca),""));Ca&&(gd=!0);Fd.publicPrivateTogglers=[];fa.prototype.check=function(d,a,b){if(a.validation&&!0!==a.validation.noTrim&&"string"===typeof d.value&&("text"===d.type||"email"===
d.type))d.value=d.value.trim();var a=a||l.fields[d.name],c=d.getAttribute("data-capturerendererchildfieldname"),c=c&&a.validation&&a.validation[c]?a.validation[c]:c&&"dateselect"!==a.type?!1:a.validation;if(!a.validation||!c)return!0;c.messages||(c.messages={});if(!this.hasValue(d,a,c))return{valid:!1,reason:c.messages.required||"Field not completed",type:"required"};if(!this.isDate(d,a,c))return{valid:!1,reason:c.messages.isDate||"Not a valid date",type:"notDate"};if(!this.isValidMaxFileSize(d,a,
c))return{valid:!1,reason:c.messages.maxFileSize||"File is too large",type:"maxFileSize"};if(!this.isValidFileType(d,a,c))return{valid:!1,reason:c.messages.validFileTypes||"File is not a valid file type",type:"fileType"};if(!this.isValidMinYears(d,a,c))return{valid:!1,reason:c.messages.minYears||"Not old enough",validation:{minYears:c.minYears},type:"minYears"};if(!this.isValidMinLength(d,a,c))return{valid:!1,reason:c.messages.minLength||"Invalid length",type:"minLength"};if(!this.isValidMaxLength(d,
a,c))return{valid:!1,reason:c.messages.maxLength||"Invalid length",type:"maxLength"};if(!this.isValidMaxNumericLength(d,a,c))return{valid:!1,reason:c.messages.maxNumericLength||"Invalid number of numeric characters",type:"maxNumericLength"};if(!this.isValidFormat(d,a,c))return{valid:!1,reason:c.messages.format||"Invalid format",type:"format"};if(!this.isValidMatch(d,a,c))return{valid:!1,reason:c.messages.match||"Invalid match",type:"match"};var e=this.custom(d,a,c);if(!e)return"undefined"===typeof e?
{pending:!0}:{valid:!1,reason:c.messages.custom||"Invalid",type:"custom"};e=qa&&qa[d.id]&&"undefined"!==typeof qa[d.id].unique&&!1===qa[d.id].unique;return c.unique&&!c.unique.uniquenessBlacklist&&(!b||e)?(b=document.getElementById(s(d)+"form_item_"+d.getAttribute("name")),this.isUnique(d,b,a,function(){}),{pending:!0}):{valid:!0}};fa.prototype.custom=function(d,a,b){if(!a||!b.custom||"function"!==typeof re[b.custom])return!0;var c=new m.validation,a=document.getElementById(s(d)+"form_item_"+a.elementName);
c.setParentDiv(a);c.setElement(d);return re[b.custom](d.name,d.value,c)};fa.prototype.getRating=function(d){var d=d.value,a=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],b=0,c;c=Math.min(8,Math.floor(3*Math.log(d.length+1)));for(var e=0;e<a.length;e++)a[e].test(d)&&b++;return c+=Math.floor(Math.pow(2,b)/2)};fa.prototype.isValidMaxNumericLength=function(d,a,b){if(!a)return!0;a=b.maxNumericLength;if(!a)return!0;d=d.value.match(/(\d)/g);q(d)&&d.length>a&&b.actions&&b.actions.maxNumericLength&&ec.push(b.actions.maxNumericLength);
return q(d)?d.length<=a:!0};fa.prototype.isValidMaxLength=function(d,a,b){d=d.value;if(!a)return!0;a=b.maxLength;if(!a)return!0;d.length>a&&b.actions&&b.actions.maxLength&&ec.push(b.actions.maxLength);return d.length<=a};fa.prototype.isValidMinLength=function(d,a,b){d=d.value;if(!a)return!0;a=b.minLength;if(!a)return!0;d.length<a&&b.actions&&b.actions.minLength&&ec.push(b.actions.minLength);return d.length>=a};fa.prototype.isValidMaxFileSize=function(d,a,b){if(!window.File||!window.FileReader||!window.FileList||
!window.Blob||!a||"file"!==d.type)return!0;a=b.maxFileSize;return!a?!0:d.files[0].size<a};fa.prototype.isValidFileType=function(d,a,b){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==d.type)return!0;a=b.validFileTypes;return!q(a)?!0:z(a,d.files[0].type)};fa.prototype.isDate=function(d,a,b){if((!a||"dateselect"!==a.type)&&!b.isDate)return!0;var c=Ka(d,a);if(c)a=Fe(c);else{if(!(b=b.required))a.name||(a.name=d.getAttribute("data-capturerendererfield")?d.getAttribute("data-capturerendererfield"):
d.getAttribute("data-capturefield")),b=s(d),d=document.getElementById(b+a.name+"_dateselectmonth"),d=d.options[d.selectedIndex].value,c=document.getElementById(b+a.name+"_dateselectday"),c=c.options[c.selectedIndex].value,a=document.getElementById(b+a.name+"_dateselectyear"),a=a.options[a.selectedIndex].value,b=!(!d&&!c&&!a);a=b?!1:!0}return a};fa.prototype.isValidMinYears=function(d,a,b){if(!a||"dateselect"!==a.type)return!0;a=Ka(d,a);d=b.minYears;if(!Fe(a)||!d)return!0;var c=new Date,a=Math.abs(((new Date(a)).getTime()-
c.getTime())/864E5),a=Math.floor(a/365.242199);a>=d||b.actions&&b.actions.minYears&&ec.push(b.actions.minYears);return a>=d};fa.prototype.hasValue=function(d,a,b){var c;if("select"===a.element)c=d.options[d.selectedIndex].value;else if("checkbox"===a.type&&!("multiCheckbox"===a.element||"multiRadio"===a.element))c=d.checked;else if("multiCheckbox"===a.element||"multiRadio"===a.element)if(c=a.elementName){c=document.getElementsByName(c);for(var e=c.length,f=[],g=0;g<e;g++)c[g].checked&&f.push(c[g]);
c=f.length}else c=!1;else c=d.value;if(!a||!b.required)return!0;if("dateselect"===a.type)return c=Ka(d,a),!c?!1:!0;c||b.actions&&b.actions.required&&ec.push(b.actions.required);return c};fa.prototype.isUnique=function(d,a,b,c){var a=d.form.getAttribute("data-capturefield"),b=d.getAttribute("data-capturefield"),a=xa({value:d.value,form:a,capture_screen:G(d),field:b}),e={};U(d.form,function(d){Aa(l.fields[b],"validation.unique.alongWith")===d.name&&(e[d.name]=d.value)});a=wa(a,e);if(d=l.fields[b])if(d=
d.idFieldElementId)if(d=document.getElementById(d))a.pluralId=d.value;V&&(a.access_token=V);Mb&&(a.flow_path=Mb);Ha("/widget/unique.jsonp",a,c)};fa.prototype.isBlacklisted=function(d,a,b){function c(){var a=d.value,b=response;if(!b||0===b.length)return!0;for(var p,k=0;k<b.length;k++)if(p=RegExp("^"+b[k]+"$","i"),p.test(a))return!0;return!1}captureUIBlacklistCallback=function(d){b(c(d))};q(a)?b(c(a)):"string"===typeof a?captureUIBlacklistCallback(["chad"]):b(!0)};fa.prototype.isValidFormat=function(d,
a,b){var c={alpha:/^[a-z]+$/i,numeric:/^(\d+)$/,numericReal:/^(\d+\.?\d*|\.\d+|\-\d+\.?\d*|\-\.\d+)$/,alphaExtended:/^[a-zA-Z\-']+$/,alphaExtendedSpaces:/^[a-zA-Z\-'\s]+$/,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,noWhitespace:/^\S*$/,zipCode:/^\d{5}$/,"zipCode+4":/^\d{5}(\-\d{4})?$/,phone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,phoneInternational:/^(\d{1,4}[-. ]?)?\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,
i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};if(!a||!b.format)return!0;a=b.format;if("string"===typeof a&&c[a])a=c[a];else return!1;(d=a.test(d.value))||b.actions&&b.actions.format&&ec.push(b.actions.format);return d};fa.prototype.isValidMatch=function(d,a,b){if(!a)return!0;a=b.match;if(!a)return!0;a=l.fields[a];a=s(d)+(a.elementId||a.elementName);a=document.getElementById(a);d.value!==a.value&&b.actions&&b.actions.match&&ec.push(b.actions.match);return d.value===a.value};
var m={autoSelectPreferredTab:function(d,a){var b=(new w).setUseLocalStorage(!0),b=parseInt(b.getCookie("janrainCaptureSelectedTab"),10);isNaN(b)&&"capture_selected_tab"in Ia&&(b=parseInt(Ia.capture_selected_tab));isNaN(b)||(b=d.collection[b])&&u.push({elementName:a+"_"+b.elementName,handler:function(d){var a=document.getElementById(d);setTimeout(function(){a.click()},0)},eventType:"render"})},getValueFromObject:function(d,a,b){a=Aa(a,b);void 0!==d.trueValueReplace&&a?a=d.trueValueReplace:void 0!==
d.falseValueReplace&&!a&&(a=d.falseValueReplace);!a&&!1!==a&&0!==a&&(a="");return a},setElementAttributeWithLocalStorage:function(d,a,b){var c=d.profileStoragePath.split("."),e=c.shift(),f=c.join(".");u.push({handler:function(){function c(d){var e=document.getElementById(a);return e&&(d||!e.getAttribute("placeholder"))?(e[b]=d,!0):!1}janrain.settings.multiDomainLocalStorage?$c(e,function(a){c(m.getValueFromObject(d,a,f))}):c(m.getValueFromObject(d,$c(e),f))},eventType:"render"})},attachFieldEventHandlers:function(d){d.type||
(d.type="");var a=d.elementId||d.elementName;u.push({elementName:a,handler:function(d){d=M(d);s(d);(d=ud(d,"capture_form_item"))&&o(d).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()},eventType:yd&&"checkbox"===d.type?"click":"focus"});u.push({elementName:a,handler:function(d){d=M(d);s(d);(d=ud(d,"capture_form_item"))&&o(d).remove("capture_focused")},eventType:"blur"});d.validation&&u.push({elementName:a,handler:Eb,eventType:d.validation.eventType||"blur"});
d.rendererFieldName&&d.rendererChildFieldName&&l.fields[d.rendererFieldName].validation&&l.fields[d.rendererFieldName].validation[d.rendererChildFieldName]&&u.push({elementName:d.rendererFieldName+"_"+d.rendererChildFieldName,handler:Eb,eventType:"blur"});if("password"===d.type){d.validation&&("function"===typeof d.validation.rating?u.push({elementName:a,handler:function(a){var a=Qa(a),b=ad.getRating(a);d.validation.rating(a,b)},eventType:"keyup"}):d.validation.rating&&u.push({elementName:a,handler:function(d){d=
Qa(d);d=ad.getRating(d);da("Password Strength",d)},eventType:"keyup"}));for(var b=[],c=0,e=u.length;c<e;c++)u[c].elementName===a&&b.push(u[c]);u.push({elementName:a,handler:function(d){return m.togglePasswordInput(d,b)},eventType:"click"});u.push({elementName:a,handler:function(d){return m.togglePasswordInput(d,b)},eventType:"focus"})}if("text"===d.type||"password"===d.type||"email"===d.type)u.push({elementName:a,handler:m.clearPlaceHolder,eventType:"focus"}),u.push({elementName:a,handler:m.restorePlaceHolder,
eventType:"blur"})},attachModifyEventHandler:function(d){u.push({elementName:d.elementId||d.elementName,eventType:d.modify.event,handler:function(){var a=document.getElementById(d.modify.element),b=d.modify.attributes;if(b&&a)for(var c in b)b.hasOwnProperty(c)&&a.setAttribute(c,b[c])}})},wrapStringData:function(d,a,b){var c="",e=["capture_data_item"];b&&e.push(b);c+=m.createDiv({elementId:"stringdata_"+d.name,classes:e});d.label&&(c+=m.createLabel({elementId:d.name,label:d.label,classes:["capture_data_label"]}));
c+=m.createDiv({elementId:d.name,classes:["capture_data"]});return c+a+"</div></div>"},wrapFormItemStart:function(d){var a="",b=[],c=d.classes||[],e="elementCollection"===d.type?"form_collection":"form_item";if(d.justElement||"submit"===d.type||"button"===d.type)return"";-1===c.indexOf("capture_"+e)&&c.push("capture_"+e);d.errors&&-1===c.indexOf("capture_error")&&!d.collection&&c.push("capture_error");!d.collection&&d.type&&-1===c.indexOf("capture_"+d.type)&&("checkbox"===d.type||"radio"===d.type?
b.push("capture_"+d.type):c.push("capture_"+d.type));"elementCollection"===d.type&&d.displayInline&&-1===c.indexOf("capture_form_collection_inline")&&c.push("capture_form_collection_inline");d.collection?(-1===c.indexOf("capture_"+e+"_"+d.elementName)&&c.push("capture_"+e+"_"+d.elementName),d.checked&&c.push("capture_toggled"),a+=m.createDiv({elementName:e+"_"+d.elementId,hide:d.hide,classes:c})):a+=m.createDiv({elementName:e+"_"+d.elementName,hide:d.hide,classes:c});if(("checkbox"===d.type||"radio"===
d.type)&&!d.collection)a+=m.createDiv({elementName:e+"_inner_"+d.elementName,classes:b});return a},wrapFormItemEnd:function(d){return d.justElement||"submit"===d.type||"button"===d.type?"":"</div>"},createPublicPrivateToggle:function(d){function a(){for(var d=Fd.publicPrivateTogglers,b=d.length,c=0;c<b;c++)d[c]&&(d[c].style.display="none");Fd.publicPrivateTogglers=[]}function b(a){var c=M(a),p=s(c),k=document.getElementById(p+"display_toggle_options_"+d.elementName),e=document.getElementById(p+"display["+
(d.rendererFieldName||d.elementName)+"]"),f=function(){if(!q(d.publicPrivateBoundFields))return!1;var a=[];U(d.publicPrivateBoundFields,function(d){a.push(document.getElementById(p+"display["+d+"]"))});return a}(),L=document.getElementById(p+"display_indicator_public_"+d.elementName),g=document.getElementById(p+"display_indicator_private_"+d.elementName),h=p+"display_option_public_"+d.elementName,i=p+"display_option_private_"+d.elementName,ia=c.parentNode?c.parentNode.id||"":"";if(ia===h||ia===i)c=
c.parentNode;c.id===h?(e.value="public",f&&U(f,function(d){d.value="public"}),o(document.getElementById(h)).append("capture_checked"),o(document.getElementById(i)).remove("capture_checked"),e.value="public",o(L).append("capture_toggled"),o(g).remove("capture_toggled")):(e.value="private",f&&U(f,function(d){d.value="private"}),o(document.getElementById(h)).remove("capture_checked"),o(document.getElementById(i)).append("capture_checked"),e.value="private",o(L).remove("capture_toggled"),o(g).append("capture_toggled"));
ya(e);k.style.display="none";Q(a)}var c="",e=["capture_display_option"],f=["capture_display_option"];d.forcePublicPrivate&&("public"===d.forcePublicPrivate.toLowerCase()?d.displayPublic=!0:"private"===d.forcePublicPrivate.toLowerCase()&&(d.displayPublic=!1));c+=m.createDiv({classes:["capture_display_toggle_wrap"],elementId:"display_toggle_wrap_"+d.elementName});c+=m.createDiv({classes:["capture_display_toggle_options"],elementId:"display_toggle_options_"+d.elementName});d.displayPublic&&e.push("capture_checked");
c+=m.createDiv({classes:e,elementId:"display_option_public_"+d.elementName});c+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';d.displayPublic||f.push("capture_checked");c+=m.createDiv({classes:f,elementId:"display_option_private_"+d.elementName});c+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';
e=["capture_display_toggle","capture_public"];d.disablePublicPrivate&&e.push("capture_display_toggle_disabled");d.displayPublic&&e.push("capture_toggled");c+=m.createDiv({classes:e,elementId:"display_indicator_public_"+d.elementName});c+='&nbsp;<span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';f=["capture_display_toggle","capture_private"];d.disablePublicPrivate&&f.push("capture_display_toggle_disabled");d.displayPublic||f.push("capture_toggled");
c+=m.createDiv({classes:f,elementId:"display_indicator_private_"+d.elementName});c+='<span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';q(d.publicPrivateBoundFields)&&U(d.publicPrivateBoundFields,function(a){c+=m.createInput({type:"hidden",elementName:"display["+a+"]",value:d.displayPublic?"public":"private"})});c+=m.createInput({type:"hidden",elementName:"display["+(d.rendererFieldName||d.elementName)+"]",value:d.displayPublic?
"public":"private"});u.push({elementName:"display_toggle_wrap_"+d.elementName,eventType:"click",handler:function(b){var c=M(b),k=s(c),k=document.getElementById(k+"display_toggle_options_"+d.elementName),e="none"===k.style.display||""===k.style.display?"block":"none";c.parentNode&&o(c.parentNode).has("capture_display_toggle")&&(c=c.parentNode);o(c).has("capture_display_toggle")&&!o(c).has("capture_display_toggle_disabled")&&("block"===e&&(a(),Fd.publicPrivateTogglers.push(k)),k.style.display=e);Q(b)}},
{elementName:"display_option_public_"+d.elementName,handler:b,eventType:"click"},{elementName:"display_option_private_"+d.elementName,handler:b,eventType:"click"});Re||(y(document.body,"click",function(d){d=M(d);d.parentNode&&o(d.parentNode).has("capture_display_toggle")&&(d=d.parentNode);!o(d).has("capture_display_toggle")&&!o(d).has("capture_display_option")&&a()}),Re=!0);return c},createAnchor:function(d){var a="",b=d.fieldPrefix||K,c=d.elementId||d.elementName,e="object"===typeof d.elementAttributes?
d.elementAttributes:{},f=d.elementClasses&&q(d.elementClasses)?d.elementClasses:[];z(f,"capture_"+c)||f.push("capture_"+c);a=a+"<a "+("id='"+b+c+"' ");d.target&&(a+="target='"+d.target+"' ");a+="class='"+f.join(" ")+"' ";a+=Qb(e)+" ";a+="data-capturefield='"+d.name+"' ";a+="href='"+d.elementHref+"' ";a+="name='"+d.elementName+"' ";a+=">";d.elementText&&(a+=d.elementText);return a+"</a>"},createTextarea:function(d){var a="",b=d.fieldPrefix||K,c=d.elementId||d.elementName,e=d.elementClasses&&q(d.elementClasses)?
d.elementClasses:[],f=d.rows||"5",a=a+m.createLabel(d);z(e,"capture_"+c)||e.push("capture_"+c);z(e,"capture_textarea")||e.push("capture_textarea");a=a+"<textarea "+("id='"+b+c+"' ")+("class='"+e.join(" ")+"' ");a+="data-capturefield='"+d.name+"' ";a=a+("rows='"+f+"' ")+("name='"+d.elementName+"' ");d.placeholder&&lb&&(a+="placeholder='"+d.placeholder+"'");a+=">";d.value&&(a+=d.value);a+="</textarea>";d.publicPrivateToggle&&(a+=m.createPublicPrivateToggle(d));return a+=m.createTip(d)},createTip:function(d){var a;
a="<div class='capture_tip' ";d.tip||(a+="style='display:none;' ");a+=">"+("undefined"!==typeof d.tip?d.tip:"")+"</div>";a=a+"<div class='capture_tip_validating'"+(" data-elementName='"+d.elementName+"'>");a+=Ye+"</div>";a=a+"<div class='capture_tip_error'"+(" data-elementName='"+d.elementName+"'>");d.errors&&q(d.errors)&&(a+=d.errors.join(" "),janrain.events.onCaptureServerValidationFailed.fire(d));return a+"</div>"},createLabel:function(d,a){var b,c=d.fieldPrefix||K,e=d.elementId||d.elementName;
if(!d.label)return a?a:"";b="<label ";"elementCollection"!==d.type&&(b+=" for='"+c+e+"'");b+=">";a&&(b+=a);d.label&&(b+=d.label);return b+"</label>"},createSelect:function(d){var a="",b=d.fieldPrefix||K,c=d.rendererFieldName,e=d.rendererChildFieldName,g,h=d.justElement,i=d.elementClasses&&q(d.elementClasses)?d.elementClasses:[],j=d.elementId||d.elementName;z(i,"capture_"+j)||i.push("capture_"+j);z(i,"capture_select")||i.push("capture_select");a+=m.createLabel(d);a=a+'<span class="capture_select_arrow"><select '+
("id='"+b+j+"' ")+("class='"+i.join(" ")+"' ");c&&(a+="data-capturerendererfield='"+c+"' ");d.showFieldWhere&&(a+='data-showFieldWhere="'+d.showFieldWhere+'" ');e&&(a+="data-capturerendererchildfieldname='"+e+"' ");a+="data-capturefield='"+d.name+"' ";a+="name='"+d.elementName+"' ";a+=">";c=d.options||[];e=c.length;for(i=0;i<e;i++){var l=c[i],n=l.value||""===l.value?l.value:l.text,a=a+('<option value="'+n+'"');l.disabled&&(a+=' disabled="true"');q(l.showField)&&(a+=' data-showField="'+l.showField.join(",")+
'"');n===Ne(d.value)&&(a+=' selected="selected"',g=l.showField);a+=">"+l.text+"</option>"}a+="</select></span>";d.publicPrivateToggle&&(a+=m.createPublicPrivateToggle(d));h||(a+=m.createTip(d));u.push({handler:function(){g&&ka(g,d.showFieldWhere,b)},eventType:"render"});u.push({elementName:j,handler:function(d){var d=M(d),a=s(d),b=d.getElementsByTagName("option")[d.selectedIndex].getAttribute("data-showField"),c=d.getAttribute("data-showFieldWhere");b&&b.length&&(b=b.split(","));f&&9>f&&ya(d);ka(b,
c,a)},eventType:"change"});return a},createButton:function(d){var a="",b=d.fieldPrefix||K,c=d.elementId||d.elementName,e=d.elementClasses&&q(d.elementClasses)?d.elementClasses:[],f="object"===typeof d.elementAttributes?d.elementAttributes:{},g=d.type?d.type:"submit";z(e,"capture_"+c)||e.push("capture_"+c);z(e,"capture_btn")||e.push("capture_btn");z(e,"capture_primary")||e.push("capture_primary");a+="<button ";d.hide&&(a+="style='display:none' ");a=a+("id='"+b+c+"' ")+("class='"+e.join(" ")+"' ");
a=a+("type='"+g+"' ")+("data-capturefield='"+d.name+"' ");d.value&&(a+="value='"+d.value+"' ");a+=Qb(f)+" ";a+="name='"+d.elementName+"' ";a+=">";d.elementContent&&(a+=d.elementContent);a+="</button>";d.modify&&m.attachModifyEventHandler(d);return a},createInput:function(d){var a="",b="",c=d.fieldPrefix||K,e=d.elementId||d.elementName,f=d.elementClasses&&q(d.elementClasses)?d.elementClasses:[],g="object"===typeof d.elementAttributes?d.elementAttributes:{},h="button"===d.type||"submit"===d.type||"checkbox"===
d.type||"radio"===d.type||"hidden"===d.type,i=d.justElement||d.collection||"hidden"===d.type||"button"===d.type||"submit"===d.type,j="password"===d.type&&!lb&&d.placeholder?"text":d.type,l=("checkbox"===d.type&&!d.collection||"radio"===d.type&&!d.collection)&&!d.justElement,n=d.rendererFieldName,o=d.rendererChildFieldName,r=Mc&&!d.collection;z(f,"capture_"+e)||f.push("capture_"+e);h||(b+=m.createLabel(d));d.validation&&d.validation.required&&f.push("capture_required");a+="<input ";d.hide&&(a+="style='display:none' ");
a=a+("id='"+c+e+"' ")+(Qb(g)+" ");"text"===d.type||"email"===d.type||"password"===d.type||"file"===d.type?z(f,"capture_text_input")||f.push("capture_text_input"):"checkbox"===d.type||"radio"===d.type?z(f,"capture_input_"+d.type)||f.push("capture_input_"+d.type):"submit"===d.type&&(z(f,"capture_btn")||f.push("capture_btn"),z(f,"capture_primary")||f.push("capture_primary"));a+="data-capturefield='"+d.name+"' ";d.collection&&(a+="data-capturecollection='true' ");n&&(a+="data-capturerendererfield='"+
n+"' ");o&&(a+="data-capturerendererchildfieldname='"+o+"' ");("checkbox"===d.type||"radio"===d.type)&&d.elementValue?a+="value='"+vd(d.elementValue)+"' ":d.value||"string"===typeof d.displaySavedValue?(g=d.value,h="string"===typeof d.displaySavedValue?d.displaySavedValue:d.value,d.displaySavedValue&&hd[h]&&(g=vd(hd[h]),"password"===d.type&&(j="password")),("password"===d.type||"text"===d.type||"email"===d.type)&&!d.errors&&r&&Hd.push(c+e),a+="value='"+g+"' "):d.placeholder&&!lb?(a+="value='"+vd(d.placeholder)+
"' ",z(f,"capture_input_placeholder")||f.push("capture_input_placeholder")):a+="value='' ";a=a+("type='"+j+"' ")+("class='"+f.join(" ")+"' ");d.subId&&(a+='data-subid="'+d.subId+'" ');d.placeholder&&(a+="placeholder='"+vd(d.placeholder)+"' ");if(d.checked||d.elementValue&&d.value===d.elementValue)a+="checked='checked' ";a+="name='"+d.elementName+"' ";a+="/>";b="checkbox"===d.type||"radio"===d.type?b+m.createLabel(d,a):b+a;d.modify&&m.attachModifyEventHandler(d);d.publicPrivateToggle&&(b+=m.createPublicPrivateToggle(d));
l&&(b+="</div>");i||(b+=m.createTip(d));d.profileStoragePath&&"undefined"===typeof d.value&&m.setElementAttributeWithLocalStorage(d,c+e,"value");return b},createDiv:function(d){var a="<div ",b=d.fieldPrefix||K,c=d.elementId||d.elementName,e="object"===typeof d.elementAttributes?d.elementAttributes:{},f=d.classes||[];z(f,"capture_"+c)||f.push("capture_"+c);a+="id='"+b+c+"'";if("option"===d.type&&!d["default"]||d.hide)a+=" style='display:none'";"radioCollection"===d.type&&f.push("radio_set");q(f)&&
f.length&&(a=a+' class="'+f.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"),a+='" ');a+=Qb(e)+" ";a+="data-capturefield='"+d.name+"' ";a+=">";d.elementText&&(a+=d.elementText);d.closeDiv&&(a+="</div>");return a},createImage:function(d){var a,b=d.fieldPrefix||K,c=d.classes||[],e=d.elementId||d.imageId||d.elementName||"";a="<img "+('src="'+d.src+'"');e&&!z(c,"capture_"+e)&&c.push("capture_"+e);d.hide&&(a+=" style='display:none'");d.alt&&(a+=" alt='"+d.alt+"'");"undefined"!==typeof d.width&&(a+=" width='"+
d.width+"'");"undefined"!==typeof d.height&&(a+=" height='"+d.height+"'");e&&(a+=' id="'+b+d.imageId+'" ');q(c)&&c.length&&(a=a+'class="'+c.join(" "),a+='" ');return a+"/>"},domHelpers:{createIFrame:function(d,a){var b,c="captureIFrame_"+d;if(document.getElementById(c))return!1;if(qe[a]&&(b=document.getElementById(qe[a])))b="div"==b.parentNode.tagName.toLowerCase()?b.parentNode:b,Pb(b);qe[a]=c;if(f){b="";var e=document.createElement("div");e.innerHTML=b+"<iframe "+('name="'+c+'" ')+('data-transactionId="'+
d+'" ')+('id="'+c+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(e)}else b=document.createElement("iframe"),b.setAttribute("name",c),b.setAttribute("data-transactionId",d),b.id=c,b.setAttribute("src","about:blank"),b.style.display="none",b.className="",document.body.appendChild(b)},createAnchor:function(d){var a=d.fieldPrefix||K,b=document.createElement("a");if(!d.classes||d.classes&&!q(d.classes))d.classes=[];d.elementId&&!z(d.classes,a+d.elementId)&&d.classes.push(a+
d.elementId);b.setAttribute("href",d.elementHref);b.innerHTML=d.elementText;d.elementId&&(b.id=a+d.elementId);b.className=d.classes.join(" ");d.hideElement&&(b.style.display="none");return b},createDiv:function(d){var a=d.fieldPrefix||K,b=document.createElement("div");if(!d.classes||d.classes&&!q(d.classes))d.classes=[];d.elementId&&!z(d.classes,a+d.elementId)&&d.classes.push(a+d.elementId);d.elementId&&(b.id=a+d.elementId);b.className=d.classes.join(" ");d.hideElement&&(b.style.display="none");return b},
createImage:function(d){var a=d.fieldPrefix||K,b=document.createElement("img");if(!d.classes||d.classes&&!q(d.classes))d.classes=[];d.elementId&&!z(d.classes,a+d.elementId)&&d.classes.push(a+d.elementId);d.alt&&b.setAttribute("alt",d.alt);"undefined"!==typeof d.width&&b.setAttribute("width",d.width);"undefined"!==typeof d.height&&b.setAttribute("height",d.height);b.src=d.elementSrc;d.elementId&&(b.id=a+d.elementId);b.className=d.classes.join(" ");d.hideElement&&(b.style.display="none");return b},
createInput:function(d){var a=document.createElement("input"),b=d.fieldPrefix||K,c="object"===typeof d.elementAttributes?d.elementAttributes:{},e=d.containerDivClasses||[],f;"submit"===d.elementType&&d.containerDiv&&(f=this.createDiv({elementName:d.elementName+"_containverDiv",classes:e}));if(!d.classes||d.classes&&!q(d.classes))d.classes=[];for(var g in c)c.hasOwnProperty(g)&&a.setAttribute(g,c[g]);d.elementId&&!z(d.classes,b+d.elementId)&&d.classes.push(b+d.elementId);d.elementType&&a.setAttribute("type",
d.elementType);d.name&&a.setAttribute("data-capturefield",d.name);d.elementValue&&(a.value=d.elementValue);d.elementName&&(a.name=d.elementName);d.elementId&&(a.id=b+d.elementId);d.hideElement&&(a.style.display="none");a.className=d.classes.join(" ");return f?(f.appendChild(a),f):a},createForm:function(d){d.transactionId||(d.transactionId=Ea());var a=d.transactionId,b=d.captureScreen||ga,c=d.fieldPrefix?d.fieldPrefix:s(b),e=document.createElement("form"),f=q(d.fields)?d.fields:[],g=f.length;m.domHelpers.createIFrame(a,
c+d.elementId);d.needsResponse&&ja(a);if(!d.classes||d.classes&&!q(d.classes))d.classes=[];d.elementId&&!z(d.classes,c+d.elementId)&&d.classes.push(c+d.elementId);e.id=c+d.elementId+"_"+a;e.className=d.classes.join(" ");e.setAttribute("target","captureIFrame_"+a);e.setAttribute("data-transactionId",a);d.name&&e.setAttribute("data-capturefield",d.name);e.setAttribute("action",d.elementAction);e.setAttribute("method","POST");e.setAttribute("data-capturedomelement","true");d.validate&&e.setAttribute("data-capturedomelementvalidate",
"true");e.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:"\u2713",elementName:"utf8"}));l&&l.mergeToken&&e.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:l.mergeToken,elementName:"merge_token",elementId:"merge_token_"+a}));janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&e.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:Backplane.getChannelID(),elementName:"bp_channel",
elementId:"bp_channel_"+a}));Mb&&e.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:Mb,elementName:"flow_path",elementId:"flow_path_"+a}));if(R)e.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:R,elementName:"access_token",elementId:"access_token_"+a}));else{var h=d.elementAction.substring(janrain.settings.capture.captureServer.length+1,d.elementAction.length);d&&d.elementAction&&!z(Ze,h)&&V&&e.appendChild(m.domHelpers.createInput({elementType:"hidden",
fieldPrefix:c,elementValue:V,elementName:"access_token",elementId:"access_token_"+a}))}ga&&e.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:b,elementName:"capture_screen",elementId:"screen_"+a}));Ub&&e.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:Ub,elementName:"js_version",elementId:"js_version_"+a}));d.serverNextScreen&&e.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:d.serverNextScreen,
elementName:"serverNextScreen",elementId:"serverNextScreen_"+a}));d.engageTokenRequired&&e.appendChild(m.domHelpers.createInput({elementType:"hidden",elementValue:Ca,fieldPrefix:c,elementName:"token",elementId:"token_"+a}));e.appendChild(m.domHelpers.createInput({elementType:"hidden",elementValue:a,fieldPrefix:c,elementName:"capture_transactionId",elementId:"transactionId_"+a}));e.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:d.name,elementName:"form",elementId:"form_"+
a}));e.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:l.flow,elementName:"flow",elementId:"flow_"+a}));e.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementName:"client_id",elementId:"client_id_"+a,elementValue:janrain.settings.capture.clientId}));e.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementName:"redirect_uri",elementId:"redirect_uri_"+a,elementValue:janrain.settings.capture.redirectUri}));e.appendChild(m.domHelpers.createInput({elementType:"hidden",
fieldPrefix:c,elementValue:janrain.settings.capture.responseType,elementName:"response_type",elementId:"response_type_"+a}));e.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:Ed,elementName:"flow_version",elementId:"flow_version_"+a}));e.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,elementValue:la,elementName:"settings_version",elementId:"settings_version_"+a}));e.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:c,
elementValue:xc,elementName:"locale",elementId:"locale_"+a}));for(b=0;b<g;b++)switch(a=f[b],a.elementType){case "div":a.fieldPrefix=a.fieldPrefix||c;e.appendChild(m.domHelpers.createDiv(a));break;case "anchor":a.fieldPrefix=a.fieldPrefix||c;e.appendChild(m.domHelpers.createAnchor(a));break;case "hidden":a.fieldPrefix=a.fieldPrefix||c;e.appendChild(m.domHelpers.createInput(a));break;case "file":a.fieldPrefix=a.fieldPrefix||c;e.setAttribute("enctype","multipart/form-data");e.appendChild(m.domHelpers.createInput(a));
break;case "submit":a.fieldPrefix=a.fieldPrefix||c,e.appendChild(m.domHelpers.createInput(a))}m.domHelpers.createFormHandler(e,d);return e},createFormHandler:function(a,b){"function"===typeof b.callback&&(a.setAttribute("next",'{"function":"'+b.elementId+'"}'),je[b.elementId]=b.callback);y(a,"submit",na)},createFormAndPost:function(a){var b=a.fieldPrefix||K,c=Ea();a.fieldPrefix=a.fieldPrefix||b;a.transactionId=c;var e=m.domHelpers.createForm(a),b=m.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+
c,fieldPrefix:b,elementId:"createFormAndPostSubmit_"+c,elementValue:"submit",hideElement:!0});e.appendChild(b);document.body.appendChild(e);m.domHelpers.createFormHandler(e,a);b.click()}},createListOfLinks:function(a,b){var c=a.fieldPrefix||K,e;optionsLength=a.length;e="<ul";q(b)&&b.length&&(e=e+' class="'+b.join(" "),e+='"');e+=">";for(var f=0;f<optionsLength;f++){e+="<li";"string"===typeof a[f].listItemId&&(e+=' id="'+c+a[f].listItemId+'" ');a[f].hide&&(e+=' style="display: none;" ');if(!a[f].listItemClasses||
!q(a[f].listItemClasses))a[f].listItemClasses=[];"string"===typeof a[f].listItemId&&!z(a[f].listItemClasses,"capture_"+a[f].listItemId)&&a[f].listItemClasses.push("capture_"+a[f].listItemId);q(a[f].listItemClasses)&&a[f].listItemClasses.length&&(e+=' class="',e+=a[f].listItemClasses.join(" "),e+='"');e+=">";e+='<a href="'+a[f].anchorHref+'"';e+=' data-capture-tab-index="'+f+'"';"string"===typeof a[f].anchorId&&(e+=' id="'+c+a[f].anchorId+'" ');if(!a[f].anchorClasses||!q(a[f].anchorClasses))a[f].anchorClasses=
[];"string"===typeof a[f].anchorId&&!z(a[f].anchorClasses,"capture_"+a[f].anchorId)&&a[f].anchorClasses.push("capture_"+a[f].anchorId);q(a[f].anchorClasses)&&a[f].anchorClasses.length&&(e+=' class="',e+=a[f].anchorClasses.join(" "),e+='"');e+=">";e+=a[f].anchorText;e+="</a>";e+="</li>"}return e+"</ul>"},togglePasswordInput:function(a,b){var c=Qa(a),e=c.getAttribute("data-capturefield"),e=l&&l.fields&&e?l.fields[e]:"";s(c);if(e&&!e.placeholder)return!1;"text"===c.type&&c.getAttribute("value")===c.getAttribute("placeholder")&&
c.setAttribute("value","");if(f&&"text"===c.type){var g=document.createElement("span"),h=c.parentElement;h.insertBefore(g,c);h.removeChild(c);e=document.createElement("input");e.id=c.id;e.setAttribute("data-capturefield",c.name);e.className="capture_password capture_text_input";e.name=c.name;e.setAttribute("type","password");h.insertBefore(e,g);h.removeChild(g);for(c=0;c<b.length;c++)"function"===typeof b[c].handler&&y(e,b[c].eventType,b[c].handler);e.focus()}else"password"!=c.getAttribute("type")&&
c.setAttribute("type","password")},clearPlaceHolder:function(a){if(lb)return!0;a="value"in a?a:Qa(a);a.value===a.getAttribute("placeholder")&&(f?a.value="":a.setAttribute("value",""),o(a).remove("capture_input_placeholder"))},restorePlaceHolder:function(a){if(lb)return!0;var a="value"in a?a:Qa(a),b=a.getAttribute("placeholder");if(!b||"password"===a.getAttribute("type"))return!1;b&&""===a.value&&(f?a.value=b:a.setAttribute("value",b),o(a).append("capture_input_placeholder"))},setField:function(a,
b,c){c+=a.name;if("dateselect"===a.type){if(b=td("{yyyy}-{0m}-{0d}",b),ob(b)&&(a=document.getElementById(c+"_dateselectmonth")))a.selectedIndex=b.getMonth()+1,Fb(a,"change"),a=document.getElementById(c+"_dateselectday"),a.selectedIndex=b.getDate(),Fb(a,"change"),a=document.getElementById(c+"_dateselectyear"),a.value=b.getFullYear(),Fb(a,"change")}else if("text"===a.type||"hidden"===a.type){if(a=document.getElementById(c))a.value=Ne(b),Fb(a,"change")}else n.forceError("Setting a field with type '"+
a.type+"' is not supported yet.")},resetField:function(a,b){var c,e=b+a.name;if("dateselect"===a.type){if(c=document.getElementById(e+"_dateselectmonth"))c.selectedIndex=0,o(c).append("capture_disabled"),c=document.getElementById(e+"_dateselectday"),c.selectedIndex=0,o(c).append("capture_disabled"),c=document.getElementById(e+"_dateselectyear"),c.selectedIndex=0,o(c).append("capture_disabled")}else if("text"===a.type||"hidden"===a.type){if(c=document.getElementById(e))c.value="",Fb(c,"change")}else n.forceError("Resetting a field with type '"+
a.type+"' is not supported yet.")},validation:function(){function a(d){e=d;var c=b.id||b.name;Vb.add({id:c,valid:"valid"===d},{merge:!0});qa[c].status=e}var b,c,e,f,g;return{getElement:function(){return b},getParentDiv:function(){return c},getState:function(){return e},getValidation:function(){return g},setState:function(b){a(b)},setUnique:function(a){f=a;qa[b.id||b.name].unique=f},setValidation:function(a){g=a},setParentDiv:function(a){(c=a)&&c.className.split(" ")},setElement:function(a){b=a;c&&
c.className.split(" ")},valid:function(e){e||o(c).append("capture_validated");o(c).remove("capture_validating").remove("capture_error");a("valid");e={};b&&(e.field=b);janrain.events.onCaptureValidationSuccess.fire(e);janrain.events.onCaptureContentChange.fire()},pending:function(){a("pending");o(c).append("capture_validating").remove("capture_validated").remove("capture_error");janrain.events.onCaptureContentChange.fire()},notValid:function(){var e;switch(arguments.length){case 1:message=arguments[0];
break;case 2:message=arguments[0];"function"===typeof arguments[1]?callback=arguments[1]:e=arguments[1];break;case 3:message=arguments[0],e=arguments[1],callback=arguments[2]}a("invalid");if(message){if("noValidationMessage"!==message){o(c).append("capture_error").remove("capture_validated");for(var f,h=s(c),i=c.getElementsByTagName("div"),L=i.length,j=0;j<L;j++)if("capture_tip_error"===i[j].className){var m=0===c.id.indexOf(h+"form_collection_")?h+"form_collection_":h+"form_item_";if(c.id.split(m)[1]===
i[j].getAttribute("data-elementName")||c.id.split(m)[1]+"[dateselect_year]"===i[j].getAttribute("data-elementName")){f=i[j];break}}f&&(f.innerHTML=message)}"function"===typeof callback&&callback();janrain.events.onCaptureContentChange.fire()}f={};b&&(f.field=b);f.message=message;f.parentDiv=c;f.invalidType=e;g&&(f.validation=g);janrain.events.onCaptureValidationFailed.fire(f)}}}},me={createSelect:m.createSelect,createTextarea:m.createTextarea,createAnchor:m.createAnchor,createInput:m.createInput,
createLabel:m.createLabel,createDiv:m.createDiv,createImage:m.createImage,createListOfLinks:m.createListOfLinks,togglePassword:m.togglePasswordInput,clearPlaceHolder:m.clearPlaceHolder,restorePlaceHolder:m.restorePlaceHolder,getElementByEventAttribute:Qa};Ba.prototype.render={data:{engageCookie:function(a){return vc(a.cookieName)},localStorage:function(a){var b="",c=(a.fieldPrefix||K)+(a.elementId||a.elementName),e=a.classes?a.classes.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"):"",f=a.valuePath,
g="";if(!janrain.settings.capture.setProfileCookie)return F.log("localStorage renderer can not be used without janrain.settings.capture.setProfileCookie set to true"),F.show(),"";janrain.settings.multiDomainLocalStorage?$c(a.data,function(b){b=m.getValueFromObject(a,b,f);sa(function(){var a;a=b;var d=document.getElementById(c);d?(ma(d,a),a=!0):a=!1;return a}).setDelay(500).setMaxAttempts(20).setFailCallback(function(){n.warn("Poll to get local storage data failed. Key: "+a.data)}).start()}):b=$c(a.data);
g='<span id="'+c+'" class="'+e+'">'+m.getValueFromObject(a,b,f);return g+"</span>"},string:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b="",c,b=l.fields&&l.fields[a.value]?l.fields[a.value]:"";a.displaySavedValue&&(c=b&&b.type&&"password"===b.type);c=a.displaySavedValue&&hd[a.value]&&(!c||c&&Oc)?hd[a.value]:a.value;b=a.justString?c:m.wrapStringData(a,c);"undefined"!==typeof a.hideWhenValue&&c===a.hideWhenValue&&(b="");return b},image:function(a){var b;a.value&&
(a.returnImageTag?(b={elementName:a.elementname,hide:a.hide,src:a.value},a.classes&&(b.classes=a.classes),a.elementId&&(b.elementId=a.elementId),b=m.createImage(b)):b=a.value);return b}},html:{anchor:function(a){return a=""+m.createAnchor(a)},textarea:function(a){var b;b=""+m.wrapFormItemStart(a);b+=m.createTextarea(a);b+=m.wrapFormItemEnd(a);m.attachFieldEventHandlers(a);return b},select:function(a){var b;b=""+m.wrapFormItemStart(a);b+=m.createSelect(a);b+=m.wrapFormItemEnd(a);m.attachFieldEventHandlers(a);
return b},multi:function(a,b){var c="",e,f,g=a.options.length;f=q(a.value)?a.value:"string"===typeof a.value?a.value.split(","):"boolean"===typeof a.value||"number"===typeof a.value?[a.value]:[];var h=0;for(e=f.length;h<e;h++)f[h]=f[h].toString();a.type="elementCollection";c+=m.wrapFormItemStart(a);c+=m.createLabel(a);for(h=0;h<g;h++)e=a.options[h],e.value="undefined"===typeof e.value?"":e.value.toString(),e.label="undefined"===typeof e.label?"":e.label.toString(),e.value=e.value||e.label,e.label=
e.label||e.value,c+=this.input({elementName:a.elementName,type:b,elementId:a.elementName+"_"+e.value+"_"+h,name:a.name,value:e.value,collection:!0,label:e.label,checked:z(f,e.value)}),u.push({elementName:a.elementName+"_"+e.value+"_"+h,handler:function(b,c){return function(){for(var e=s(this),p=document.getElementById(e+"form_collection_"+a.elementName),p=$("capture_form_item_"+a.elementName,p),e=document.getElementById(e+"form_item_"+a.elementName+"_"+b+"_"+c),k=0,f=p.length;k<f;k++)o(p[k]).remove("capture_toggled");
e&&o(e).append("capture_toggled")}}(e.value,h),eventType:"click"});c+=m.createTip(a);return c+=m.wrapFormItemEnd(a)},multiCheckbox:function(a){return this.multi(a,a.element.split("multi")[1].toLowerCase())},multiRadio:function(a){return this.multi(a,a.element.split("multi")[1].toLowerCase())},input:function(a){var b;b=""+m.wrapFormItemStart(a);b+=m.createInput(a);b+=m.wrapFormItemEnd(a);m.attachFieldEventHandlers(a);return b},button:function(a){var b;b=""+m.wrapFormItemStart(a);b+=m.createButton(a);
b+=m.wrapFormItemEnd(a);m.attachFieldEventHandlers(a);return b},form:function(a){var b="<form ",c="object"===typeof a.elementAttributes?a.elementAttributes:{},e=a.localFieldPrefix||K,f=a.classes||[];f.indexOf("capture_form"===-1)&&f.push("capture_form");f.indexOf(-1==="capture_"+a.elementName)&&f.push("capture_"+a.elementName);b+="id='"+e+a.elementName+"' ";b+=Qb(c)+" ";b+="name='"+a.elementName+"' ";b+="data-capturefield='"+a.name+"' ";b+="action='"+janrain.settings.capture.captureServer+"/"+a.action+
"' ";q(f)&&(b+="class='"+f.join(" ")+"' ");var b=b+"method='POST' novalidate='novalidate' "+("data-transactionId='"+a.transactionId+"' "),b=b+("target='captureIFrame_"+a.transactionId+"' "),b=b+"accept-charset='UTF-8' >"+('<div id="'+e+a.elementName+'_defaultSavedProfileMessage"></div>'),b=b+('<div id="'+e+a.elementName+'_errorMessages"></div>'),g="";if(a.errors){janrain.events.onCaptureFormError.fire(a.errors);for(var h in a.errors)a.errors.hasOwnProperty(h)&&(g+=m.createDiv({elementId:"formerror_"+
(new Date).getTime(),classes:["capture_form_error"]}),g+=a.errors[h]+"</div>")}u.push({handler:function(){ja(a.transactionId)},eventType:"render"});u.push({handler:function(){var b=document.getElementById(e+a.elementName);if(!b)return!1;var c=$("capture_form_error_container",b),c=c.length?c[0]:document.getElementById(e+a.elementName+"_errorMessages");g?(c.innerHTML=g,o(b).append("capture_form_level_error")):c.innerHTML=""},eventType:"render"});if(janrain.settings.capture.dataDefaults&&"object"===
typeof janrain.settings.capture.dataDefaults){var c=janrain.settings.capture.dataDefaults,i;for(i in c)c.hasOwnProperty(i)&&(b+=m.createInput({elementName:i,type:"hidden",value:c[i]}))}b+=m.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});janrain.settings.capture.backplane&&"undefined"!==typeof Backplane&&(b+=m.createInput({elementName:"bp_channel",elementId:"bp_channel"+a.transactionId,type:"hidden",value:Backplane.getChannelID()}));Mb&&(b+=m.createInput({elementName:"flow_path",elementId:"flow_path_"+
a.transactionId,type:"hidden",value:Mb}));l&&l.mergeToken&&(b+=m.createInput({elementName:"merge_token",elementId:"merge_token_"+a.transactionId,type:"hidden",value:l.mergeToken}));R?b+=m.createInput({elementName:"access_token",elementId:"accessToken_"+a.transactionId,classes:["capture_accessToken"],type:"hidden",value:R}):a&&a.action&&!z(Ze,a.action)&&V&&(b+=m.createInput({elementName:"access_token",elementId:"accessToken_"+a.transactionId,classes:["capture_accessToken"],type:"hidden",value:V}));
ga&&(b+=m.createInput({elementName:"capture_screen",elementId:"screen_"+a.transactionId,type:"hidden",value:ga}));Ub&&(b+=m.createInput({elementName:"js_version",elementId:"js_version_"+a.transactionId,type:"hidden",value:Ub}));a.serverNextScreen&&(b+=m.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+a.transactionId,type:"hidden",value:a.serverNextScreen}));if(a.engageTokenRequired||gd)b+=m.createInput({elementName:"token",elementId:"token_"+a.transactionId,type:"hidden",
value:Ca});b+=m.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+a.transactionId,type:"hidden",value:a.transactionId});b+=m.createInput({elementName:"form",elementId:"form_"+a.transactionId,type:"hidden",value:a.name});b+=m.createInput({elementName:"flow",elementId:"flow_"+a.transactionId,type:"hidden",value:l.flow});b+=m.createInput({elementName:"client_id",elementId:"client_id_"+a.transactionId,type:"hidden",value:janrain.settings.capture.clientId});b+=m.createInput({elementName:"redirect_uri",
elementId:"redirect_uri_"+a.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});b+=m.createInput({elementName:"response_type",elementId:"response_type_"+a.transactionId,type:"hidden",value:janrain.settings.capture.responseType});b+=m.createInput({elementName:"flow_version",elementId:"flow_version_"+a.transactionId,type:"hidden",value:Ed});b+=m.createInput({elementName:"settings_version",elementId:"settings_version_"+a.transactionId,type:"hidden",value:la});b+=m.createInput({elementName:"locale",
elementId:"locale_"+a.transactionId,type:"hidden",value:xc});m.domHelpers.createIFrame(a.transactionId,e+a.elementName);!1!==a.listenToFields&&u.push({handler:function(){var b=document.getElementById(e+a.elementName);b&&(y(b,"keyup",function(a){(8==a.keyCode||46==a.keyCode)&&Z(a)}),y(b,"keypress",function(a){(a.charCode||a.keyCode)&&Z(a)}),y(b,"change",Z),b.addEventListener?(b.addEventListener("focus",cc,!0),b.addEventListener("blur",bb,!0)):"object"===typeof window.attachEvent&&(b.attachEvent("onfocusin",
cc),b.attachEvent("onfocusout",bb)))},eventType:"render"});return b},div:function(a){return m.createDiv(a)},close:function(a){return"capture"===a.element?"photoManager"===a.type?"</div>":"":"</"+a.element+">"}},capture:{table:function(a){var b='<table class="capture_table">',c=Ba.prototype.render.html;if(a.th.display){var b=b+"<tr>",e;for(e in a.th.cols)b+="<th>"+a.th.cols[e]+"</th>";b+="</tr>"}for(var f in a.rows){var b=b+"<tr>",g;for(g in a.rows[f].cells)a.rows[f].cells[g].type&&"radio"===a.rows[f].cells[g].type?
(e=a.rows[f].cells[g],e.name="table",a.value&&e.elementValue===a.value[e.rendererChildFieldName]&&(e.checked=!0),b+="<td>",b+=m.wrapFormItemStart(a),b+=c.input(e),b+=m.wrapFormItemEnd(a),b+="</td>"):b+="<td>"+a.rows[f].cells[g]+"</td>";b+="</tr>"}return b+"</table>"},countrySelect:function(a){a.customText||(a.customText={});a.options=[{text:a.customText.countryLabel||"country",value:"",disabled:!0},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",
value:"Canada"},{text:"United Kingdom",value:"United Kingdom"},{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},
{text:"Austria",value:"Austria"},{text:"Azerbaijan Republic",value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},
{text:"Botswana",value:"Botswana"},{text:"Brazil",value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},
{text:"Chad",value:"Chad"},{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},{text:"Congo",value:"Congo"},{text:"Congo",value:"Congo"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia",value:"Croatia"},{text:"Cyprus",value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},
{text:"Djibouti",value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",
value:"Finland"},{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",
value:"Guam"},{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",
value:"Italy"},{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea",value:"Korea"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},
{text:"Lithuania",value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},
{text:"Mayotte",value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",
value:"Netherlands Antilles"},{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},
{text:"Philippines",value:"Philippines"},{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},
{text:"Saint Vincent and the Grenadines",value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",
value:"South Africa"},{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",
value:"Trinidad and Tobago"},{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},
{text:"Venezuela",value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}];return Ba.prototype.render.html.select(a)},stateSelect:function(a){a.customText||(a.customText={});var b=[{text:a.customText.stateLabel||
"state",value:"",disabled:!0}],b=a.noCanadianProvinces?b.concat(Me):b.concat(Me,pf);a.options=b;return Ba.prototype.render.html.select(a)},keepMeLoggedIn:function(a){var b=a.fieldPrefix||K;Md=a.checked||!1;a=""+m.createInput({label:a.label||"Keep me logged in",type:"checkbox",name:a.name,justElement:!0,value:"yes",checked:Md,elementName:"capture_keep_me_logged_in"});u.push({elementName:"capture_keep_me_logged_in",handler:function(){loggedInElement=document.getElementById(b+"capture_keep_me_logged_in");
janrain.engage.signin.appendTokenParams({keepMeLoggedIn:loggedInElement.checked},!0,!0)},eventType:"render"});u.push({elementName:"capture_keep_me_logged_in",handler:function(a){a=M(a);Md=a.checked;janrain.engage.signin.appendTokenParams({keepMeLoggedIn:a.checked},!0,!0)},eventType:"click"});return a},captcha:function(a){var b="http:"===document.location.protocol?"http://www.google.com/recaptcha/api/js/recaptcha_ajax.js":"https://www.google.com/recaptcha/api/js/recaptcha_ajax.js",b=janrain.settings.capture.recaptchaUrl||
b;"undefined"!==typeof Recaptcha&&(ce=!0);ce||va(b,function(){ce=!0});u.push({elementName:a.name,handler:function(){function a(){if("undefined"===typeof Recaptcha)setTimeout(a,20);else{if(!janrain.settings.capture.recaptchaPublicKey)throw Error("missing recaptcha public key setting");Recaptcha.create(janrain.settings.capture.recaptchaPublicKey,"recaptcha_container",{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}})}}a()},eventType:"render"});b=""+m.wrapFormItemStart(a);
a.label&&(b+=m.createLabel(a));b=b+'<div id="recaptcha_container"></div>'+m.createTip(a);return b+=m.wrapFormItemEnd(a)},mergeAccounts:function(a,b){var b=b?H.parse(b):{custom:!1},c=Ba.prototype.render,e=a.value,f="";e.existing_provider="legacy"===e.existing_provider?"email":e.existing_provider;a.customText||(a.customText={});var g=a.customText.connectRadio||'Connect this session with your existing account. <span class="capture_smallText">Enables you to sign in with either <span class="capture_capitalize">{| current_provider |}</span> or <span class="capture_capitalize">{| existing_provider |}</span> in the future.</span><span class="capture_recommended capture_smallText">Recommended</span>',
h=a.customText.connectLegacyRadio||'Connect this session with your existing account <span class="capture_smallText">You will need to sign in to your existing account to claim it.</span><span class="capture_recommended capture_smallText">Recommended</span>',j=a.customText.createRadio||"Create a new account using {| current_provider |} sign-in.",m=a.customText.foundExistingAccount||"We found an existing account for <b>{| current_emailAddress |}</b>",l=a.customText.moreInfoHover||'You\u2019re seeing this screen because on {| existing_createdDate |} you registered at {| existing_siteName |} with your <span class="capture_capitalize">{| existing_provider |}</span> account ({| existing_displayName |}).',
n=a.customText.moreInfo||"More Info ?",q=a.customText.createButton||"Create",r=a.customText.connectButton||"Connect";e.connectRadioText=T(e,g);e.connectLegacyRadioText=T(e,h);e.createRadioText=T(e,j);e.foundExistingAccountText=T(e,m);e.moreInfoHoverText=T(e,l);e.moreInfoText=T(e,n);e.createButtonText=T(e,q);e.connectButtonText=T(e,r);m="";if("useConnectIcons"in a?a.useConnectIcons:1)m+='<span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.existing_provider.toLowerCase().replace("+",
"plus")+'"></span><span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.current_provider.toLowerCase().replace("+","plus")+'"></span>';e.connect_button=c.html.button({elementContent:m+r,elementName:a.name+"_connectButton",name:a.name+"_connectButton",element:"button",type:"button"});e.create_button=c.html.button({elementContent:q,hide:!0,elementName:a.name+"_createButton",name:a.name+"_createButton",element:"button",type:"submit"});e.merge_radio=c.html.multiRadio({element:"multiRadio",
value:[1],elementName:a.name+"_mergeRadio",classes:["capture_form_collection_merge_radioButtonCollection"],options:[{label:"email"===e.existing_provider?T(e,h):T(e,g),value:1},{label:j,value:2}]});e.rendered_current_photo=e.current_photo?'<img src="'+e.current_photo+'" height="25" width="25" />':"";e.rendered_existing_provider_photo=e.existing_provider_photo?'<div class="capture_icon_col"><img src="'+e.existing_provider_photo+'" height="25" width="25" /></div>':"";e.current_provider_lowerCase=e.current_provider.toLowerCase().replace("+",
"plus");e.existing_provider_lowerCase=e.existing_provider.toLowerCase().replace("+","plus");b.custom?u.push({handler:function(){var b=document.getElementById(a.name);b.innerHTML=T(e,b.innerHTML)},eventType:"render"}):f+=T(e,'<div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">     <div class="capture_header">         <div class="capture_icon_col">             {| rendered_current_photo |}         </div>         <div class="capture_displayName_col">             {| current_displayName |}<br />             {| current_emailAddress |}         </div>         <span class="capture_mergeProvider janrain-provider-icon-24 janrain-provider-icon-{| current_provider_lowerCase |}"></span>     </div>     <div class="capture_dashed">         <div class="capture_mergeCol capture_centerText capture_left">             <p class="capture_bigText">{| foundExistingAccountText |}</b>.</p>             <div class="capture_hover">                 <div class="capture_popup_container">                     <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}                 </div>                 {| moreInfoText |}             </div>         </div>         <div class="capture_mergeCol capture_mergeExisting_col capture_right">             <div class="capture_shadow capture_backgroundColor capture_border">                 {| rendered_existing_provider_photo |}                 <div class="capture_displayName_col">                     {| existing_displayName |}<br />                     {| existing_provider_emailAddress |}                 </div>                 <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>                 <div class="capture_centerText capture_smallText">Created {| existing_createdDate |} at {| existing_siteName |}</div>             </div>         </div>     </div>     {| merge_radio |}     <div class="capture_footer">         {| connect_button |}         {| create_button |}     </div> </div>');
u.push({elementName:a.name+"_connectButton",handler:function(){"email"===e.existing_provider?(janrain.capture.ui.renderScreen(a.traditionalMergeScreen),janrain.events.onCaptureContentChange.fire()):(zd=!0,janrain.engage.signin.setCustom(!0),janrain.engage.signin.triggerFlow(e.existing_provider),janrain.engage.signin.setCustom(!1))},eventType:"click"});u.push({elementName:a.name+"_createButton",handler:function(){ed?i():(zc=null,janrain.apps.capture.ui.renderScreen(janrain.settings.capture.mergeFlow||
janrain.settings.capture.registerFlow||"socialRegister"))},eventType:"click"});u.push({elementName:a.name+"_mergeRadio_1_0",handler:function(){document.getElementById(K+a.name+"_connectButton").style.display="";document.getElementById(K+a.name+"_createButton").style.display="none";o(document.getElementById(K+"form_item_"+a.name+"_mergeRadio_1_0")).append("capture_toggled");o(document.getElementById(K+"form_item_"+a.name+"_mergeRadio_2_1")).remove("capture_toggled")},eventType:"click"});u.push({elementName:a.name+
"_mergeRadio_2_1",handler:function(){document.getElementById(K+a.name+"_connectButton").style.display="none";document.getElementById(K+a.name+"_createButton").style.display="";o(document.getElementById(K+"form_item_"+a.name+"_mergeRadio_2_1")).append("capture_toggled");o(document.getElementById(K+"form_item_"+a.name+"_mergeRadio_1_0")).remove("capture_toggled")},eventType:"click"});return f},publicProfileLink:function(a,b){var c="",e=b?H.parse(b).elementHref:a.elementHref;a.elementAttributes="object"===
typeof a.elementAttributes?a.elementAttributes:{};a.addUUIDToLink&&(a.elementAttributes["data-captureuseruuid"]=a.value);a.elementHref=e+"?uuid="+a.value;a.elementText=a.elementText||"Public Profile";return c+=m.createAnchor(a)},linkSocialAccount:function(a){var b=ga,c=m.createDiv({elementId:"link_social_account_"+a.provider,name:a.name}),c=c+m.createButton(a),c=c+"</div>";u.push({elementName:a.name,handler:function(c){Bb.triggerLinkSocialAccountFlow(c,b,a.provider)},eventType:"click"});u.push({elementName:a.name,
handler:function(c){Bb.triggerLinkSocialAccountFlow(c,b,a.provider)},eventType:"keypress"});Zc||ba();return c},linkAccounts:function(a){function b(c){var k=a.value.providers[c],f=a.value.displayNames[c],p=a.value.identifiers[c],g=a.value.prettyProviders?a.value.prettyProviders[c]:k,h,i=e+a.name+"_extraFields_"+k;h=""+('<li class="capture_provider_linked" data-capturerelatedfieldsid="'+i+'">')+'<span class="'+("janrain-provider-icon-"+m+" janrain-provider-icon-"+k+(a.customIcons?"-custom":"")+'">');
h+='</span><span class="';var j=f&&"null"!==f.toLowerCase(),n=/\{\|\s*displayName\s*\|}/.test(a.displayFormat),f=j||!n?T({provider:g,displayName:f},a.displayFormat):g;h+="janrain-provider-text-"+k+(a.customIcons?"-custom":"")+'">'+f+"</span>";if(he||0!==c)h+='<span tabindex="0" class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" data-captureprovider="'+k+'" data-captureidentifier="'+p+'"></span>';h+="</li>";a.additionalFields&&a.additionalFields[k]&&(h=h+('<div class="capture_linkAccounts_additionalFields" id="'+
i+'">')+ff(a.additionalFields[k],function(a){return"{* "+a+" *}"}).join("\n"),h+="</div>");return h}a.value||(a.value={});a.customText||(a.customText={});var c=ga,e=a.fieldPrefix||K,f='<div class="capture_linkAccounts" id="'+e+a.name+'_currentlinkedaccounts">',g=l.fields[a.linkAccountContainer].elementName||l.fields[a.linkAccountContainer].name||a.linkAccountContainer,h=a.customText.linkAnotherAccount||"Link account",i=q(a.value.providers)?a.value.providers.length:0,j=e+a.name+"_linkaccountsscreen",
m=a.providerIconSize&&z(of,a.providerIconSize)?a.providerIconSize:16,f=f+('<ul class="capture_provider" id="'+e+a.name+'_linkedproviderlist">');if(!a.customAddLinks)for(var n=0;n<i;n++)f+=b(n);if(a.customAddLinks){n=0;for(h=a.customProviders.length;n<h;n++)z(a.value.providers,a.customProviders[n])?(i=a.value.providers.indexOf(a.customProviders[n]),f+=b(i)):(f+='<li tabindex="0" class="capture_custom_add_linkedaccount" data-captureprovider="'+a.customProviders[n]+'">',f+=T({provider:a.customProviders[n]},
a.customAddLinkFormat)+"</li>");u.push({elementName:a.name+"_linkedproviderlist",handler:function(a){Bb.linkWithCustomLink(a,c)},eventType:"click"});u.push({elementName:a.name+"_linkedproviderlist",handler:function(a){Bb.linkWithCustomLink(a,c)},eventType:"keypress"})}else f+='<li class="capture_linkAccount"><a href="#" id="'+e+a.name+'_linknewlink">'+h+"</a></li>";f+="</ul></div>";u.push({elementName:a.name+"_linknewlink",handler:function(a){Bb.openInModal(a,c,j)},eventType:"click"});u.push({elementName:a.name+
"_currentlinkedaccounts",handler:function(b){Bb.unLinkAccount(b,a,c)},eventType:"keypress"});u.push({elementName:a.name+"_currentlinkedaccounts",handler:function(b){Bb.unLinkAccount(b,a,c)},eventType:"click"});f=f+'<div style="display: none;">'+('<div id="'+j+'"')+' class="janrain-capture-ui capture-ui-content capture_addLinkedAccount';Ua&&(f+=" janrain-capture-ui-mobile");f=f+'">'+('<div id="'+e+a.name+'_linkAccountContainerContainer">');f+="</div></div></div>";a.customAddLinks||u.push({handler:function(){Bb.renderHandler(e+
g,e+a.name+"_linkAccountContainerContainer")},eventType:"render"});return f},errorMessages:function(){var a;a=""+Ba.prototype.render.html.div({elementName:"placed_error_container_"+(new Date).getTime(),classes:["capture_form_error_container"]});return a+"</div>"},savedProfileMessage:function(){var a;a=""+Ba.prototype.render.html.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),hide:!0,classes:["capture_save_success","capture_profileSavedMessage_container"]});return a+"</div>"},
nameFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b="",b="";a.value.firstname&&(b+=a.justString?a.value.firstname+" ":'<span class="capture_stringdata_nameBlock_firstname">'+a.value.firstname+"</span> ");a.value.middlename&&!a.hideMiddlename&&(b+=a.justString?a.value.middlename+" ":'<span class="capture_stringdata_nameBlock_middlename">'+a.value.middlename+"</span> ");a.value.lastname&&(b+=a.justString?a.value.lastname:'<span class="capture_stringdata_nameBlock_lastname">'+
a.value.lastname+"</span>");return b=a.justString?b:m.wrapStringData(a,b,"capture_stringdata_nameBlock")},nameFull:function(a){var b,c=Ba.prototype.render.html;b='<div class="capture_form_item capture_nameBlock">'+c.input({elementName:a.name+"[firstname]",elementId:a.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&
a.value.firstname?a.value.firstname:"",placeholder:a.placeholder&&a.placeholder.firstname?a.placeholder.firstname:""});a.hideMiddlename||(b+=c.input({elementName:a.name+"[middlename]",elementId:a.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",rendererChildFieldName:"middlename",rendererFieldName:a.name,value:a.value&&a.value.middlename?a.value.middlename:"",placeholder:a.placeholder&&a.placeholder.middlename?a.placeholder.middlename:""}));b+=c.input({elementName:a.name+
"[lastname]",elementClasses:["capture_nameFull_lastName"],elementId:a.name+"_lastname",type:"text",rendererFieldName:a.name,rendererChildFieldName:"lastname",value:a.value&&a.value.lastname?a.value.lastname:"",placeholder:a.placeholder&&a.placeholder.lastname?a.placeholder.lastname:""});return b+"</div>"},multipurposeAuth:function(a){var b;a.type="text";b=""+m.wrapFormItemStart(a);b+=m.createInput(a);b+=m.wrapFormItemEnd(a);m.attachFieldEventHandlers(a);a.type="multipurposeAuth";return b},dateselect_public:function(a){if("undefined"!==
typeof a.displayPublic&&!1===a.displayPublic||!a.value||!a.value.dateselect_month||!a.value.dateselect_year||!a.value.dateselect_day)return"";var b="",b="",c,b=parseInt(a.value.dateselect_month,10);c=parseInt(a.value.dateselect_year,10);var e=parseInt(a.value.dateselect_day,10);a.format?(b=new Date(c,b-1,e),c=a.format,b=Xa(c,b,{monthNames:a.monthNames,dayNames:a.dayNames})):b=b+"/"+e+"/"+c;return b=a.justString?b:m.wrapStringData(a,b,"capture_stringdata_dateselectBlock")},dateselect:function(a){function b(c){c=
M(c);c=s(c);c=document.getElementById(c+"form_item_"+a.elementName);o(c).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()}function c(b){var e=M(b),k=s(e),k=document.getElementById(k+"form_item_"+a.elementName);o(k).remove("capture_focused");Ka(e,a)&&Eb(b)}a.customText||(a.customText={});var e=a.customText.dayLabelDateSelect||"day",f=a.customText.monthLabelDateSelect||"month",g=a.customText.yearLabelDateSelect||"year",i=Ge;a.monthNames&&q(a.monthNames)&&
12===a.monthNames.length&&(i=a.monthNames);var n=a.fieldPrefix||K,l='<div id="'+n+"form_item_"+a.name+'" class="capture_form_item capture_dateselectBlock">',r,v,w,x=q(a.format)&&3===a.format.length?a.format:["month","day","year"],y=a.value&&a.value.dateselect_day?parseInt(a.value.dateselect_day):"",t=a.value&&a.value.dateselect_year?parseInt(a.value.dateselect_year):"",z=a.value&&a.value.dateselect_month?parseInt(a.value.dateselect_month):"",f=[{text:f,value:"",disabled:!0},{text:i[0],value:1},{text:i[1],
value:2},{text:i[2],value:3},{text:i[3],value:4},{text:i[4],value:5},{text:i[5],value:6},{text:i[6],value:7},{text:i[7],value:8},{text:i[8],value:9},{text:i[9],value:10},{text:i[10],value:11},{text:i[11],value:12}],i=a.monthStart||1,A=a.monthEnd||13,E=a.dayStart||1,B=a.dayEnd||31,F=a.yearStart||1929,H=a.yearEnd||(new Date).getFullYear();w={elementName:a.name+"[dateselect_month]",elementId:a.name+"_dateselectmonth",rendererFieldName:a.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],
justElement:!0,value:z,options:f.slice(0,1).concat(f.slice(i,A))};v={elementName:a.name+"[dateselect_day]",elementId:a.name+"_dateselectday",elementClasses:["capture_dateselect_day"],rendererFieldName:a.name,rendererChildFieldName:"dateselect_day",justElement:!0,value:y,options:h(E,B,"asc",e)};F=parseInt(F,10);H=parseInt(H,10);r={elementName:a.name+"[dateselect_year]",justElement:!0,elementId:a.name+"_dateselectyear",rendererFieldName:a.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],
value:t,options:h(F,H,"desc",g)};for(e=0;3>e;e++){var C;switch(x[e]){case "month":C=w;break;case "day":C=v;break;case "year":C=r}0===e&&(C.label=a.label);2===e&&(C.publicPrivateToggle=a.publicPrivateToggle,C.displayPublic=a.displayPublic,C.tip=a.tip,C.justElement=!1);l+=m.createSelect(C)}if(a.datePicker){var I,x=new Date(z+"/"+y+"/"+t),J;J=isNaN(x.getMonth())?{provideOpenButton:!0}:{provideOpenButton:!0,defaultDate:x,preSelectedDate:x};wa(J,a.datePickerSettings||{});u.push({elementName:r.elementName,
eventType:"render",handler:function(){var a=document.getElementById(n+w.elementId),d=document.getElementById(n+v.elementId),b=document.getElementById(n+r.elementId);J.elementAttachedTo=b.parentNode;J.extraTargetElements=[a,d,b];J.callback=function(c){a.value=c.getMonth()+1;b.value=c.getFullYear();d.value=c.getDate();ya(a);ya(d);ya(b);o(a).remove("capture_disabled");o(b).remove("capture_disabled");o(d).remove("capture_disabled");b.focus();b.blur()};I=new D(J)}});var G=function(){if("undefined"!==typeof I){var a=
document.getElementById(n+w.elementId),d=document.getElementById(n+v.elementId),b=document.getElementById(n+r.elementId),c=new Date;c.setFullYear(b.value);c.setMonth(a.value-1);c.setDate(d.value);I.setSelectedDate(c)}};u.push({elementName:r.elementId,eventType:"change",handler:function(){G()}});u.push({elementName:w.elementId,eventType:"change",handler:function(){G()}});u.push({elementName:v.elementId,eventType:"change",handler:function(){G()}})}l+="</div>";u.push({elementName:a.name+"_dateselectyear",
handler:b,eventType:"focus"});u.push({elementName:a.name+"_dateselectyear",handler:c,eventType:"blur"});u.push({elementName:a.name+"_dateselectday",handler:b,eventType:"focus"});u.push({elementName:a.name+"_dateselectday",handler:c,eventType:"blur"});u.push({elementName:a.name+"_dateselectmonth",handler:b,eventType:"focus"});u.push({elementName:a.name+"_dateselectmonth",handler:c,eventType:"blur"});return l},addressFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";
var b="",b="";a.value.streetaddress&&(b+='<div class="capture_stringdata_addressBlock_streetaddress">'+a.value.streetaddress+"</div>");a.value.streetaddress2&&(b+='<div class="capture_stringdata_addressBlock_streetaddress2">'+a.value.streetaddress2+"</div>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)b+='<div class="capture_stringdata_addressBlock_citystatezip">';a.value.city&&(b+='<span class="capture_stringdata_addressBlock_city">'+a.value.city+"</span>, ");a.value.stateprovince&&
(b+='<span class="capture_stringdata_addressBlock_stateprovince">'+a.value.stateprovince+"</span> ");a.value.zippostalcode&&(b+='<span class="capture_stringdata_addressBlock_zippostalcode">'+a.value.zippostalcode+"</span>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)b+="</div>";a.value.country&&(b+='<div class="capture_stringdata_addressBlock_country">'+a.value.country+"</div>");return b=m.wrapStringData(a,b,"capture_stringdata_addressBlock")},addressFull:function(a){var b=a.defaultCountry||
"United States",c,e=Ba.prototype.render.html;a.value||(a.value={});a.customText||(a.customText={});var f=a.customText.stateLabel||"state",g=a.customText.countryLabel||"country";c='<div class="capture_form_item capture_addressBlock">'+e.input({elementName:a.name+"[streetaddress]",elementId:a.name+"_streetaddress",label:a.label||"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&
a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&a.placeholder.streetaddress?a.placeholder.streetaddress:""});c+=e.input({elementName:a.name+"[streetaddress2]",elementId:a.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:a.name,value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?a.placeholder.streetaddress2:""});c+=e.input({elementName:a.name+"[city]",elementId:a.name+
"_city",elementClasses:["capture_addressFull_city"],type:"text",rendererChildFieldName:"city",rendererFieldName:a.name,value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});c+=Ba.prototype.render.capture.stateSelect({elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",rendererFieldName:a.name,label:"",customText:{stateLabel:f},placeholder:"State/Province",
hide:!("United States"===a.value.country||"Canada"===a.value.country||("United States"===b||"Canada"===b)&&"undefined"===typeof a.value.country),value:a.value&&a.value.stateprovince?a.value.stateprovince:""});c+=e.input({elementName:a.name+"[zippostalcode]",elementId:a.name+"_zippostalcode",rendererChildFieldName:"zippostalcode",rendererFieldName:a.name,elementClasses:["capture_addressFull_zippostalcode"],type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:"",placeholder:a.placeholder&&
a.placeholder.zippostalcode?a.placeholder.zippostalcode:""});c+=Ba.prototype.render.capture.countrySelect({elementName:a.name+"[country]",elementId:a.name+"_country",rendererChildFieldName:"country",rendererFieldName:a.name,elementClasses:["capture_addressFull_country"],customText:{countryLabel:g},value:a.value&&a.value.country?a.value.country:b,placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:""});u.push({elementName:a.name+"_country",handler:function(b){var b=M(b),b=s(b),c=
this.options[this.selectedIndex].value||"",e=document.getElementById(b+a.name+"_stateprovince"),k=document.getElementById(b+a.name+"_stateprovince_hidden");"United States"===c||"Canada"===c?(document.getElementById(b+"form_item_"+a.name+"[stateprovince]").style.display="inline-block",k&&k.parentNode.removeChild(k)):(document.getElementById(b+"form_item_"+a.name+"[stateprovince]").style.display="none",e.selectedIndex=0,e[0].setAttribute("disabled","disabled"),e.parentNode.appendChild(m.domHelpers.createInput({elementType:"hidden",
fieldPrefix:b,elementValue:"",elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince_hidden"})))},eventType:"change"});return c+"</div>"},backButton:function(a){var b;a.type="button";a.elementContent='<span class="janrain-icon-16 janrain-icon-back"></span>';b=""+m.createButton(a);a.type="backButton";u.push({elementName:a.elementName,handler:function(){Oa=!1;var a=Ac.pop();a&&(a.flow.oneTimeRender=void 0,janrain.capture.ui.render(a.flow,a.values))},eventType:"click"});return b},partial:function(a){var b=
document.getElementById(a.layout);if(b)return b.innerHTML;throw ea(a.layout);},photoManager:function(a,b){function c(b){nc=!1;var f=document.getElementById(t+a.name+"_profile_pic_uploadform_container"),k=document.getElementById(t+a.name+"_upload_photo_form");document.createElement("div").appendChild(k);f.innerHTML="";var g=document.createElement("div");g.innerHTML=da;var p=document.createElement("div");p.innerHTML=ea;f.appendChild(g);f.appendChild(k);f.appendChild(p);e(document.getElementById(G));
f=document.getElementById(t+"photo_chooser");y(f,"change",ta);var h=janrain.events.onModalClose.addHandler(function(){nc=!0;janrain.events.onModalClose.removeHandler(h)},!0);b&&Q(b)}function f(b){if(0<parseInt(b.unscaled.width)){Ab=b;var c=b.unscaled.height/b.sizedHeight,e=Math.round(A/(b.unscaled.width/b.sizedWidth)),k=document.getElementById(t+a.name+"_profile_pic_image_edit"),c=Math.round(C/c);"none"===k.style.display&&(k.style.display="block");k.style.width=e+"px";k.style.height=c+"px";k.style.marginLeft=
"-"+Math.round(b.unscaled.left/b.sizedWidth*e)+"px";k.style.marginTop="-"+Math.round(b.unscaled.top/b.sizedHeight*c)+"px"}}function g(){if(F)return!1;var b=document.getElementById(t+a.name+"_profile_pic_image_edit_crop");crop(b,f,E,D,function(){janrain.events.onCaptureContentChange.fire()});b.style.display="inline";F=!0}function h(){setTimeout(function(){"function"!==typeof crop?va("//"+(janrain.settings.enforceSecureCloudfront?"cdn-social.janrain.com":"d16s8pqtk4uodx.cloudfront.net")+"/crop/crop.js",
g):setTimeout(g,50)},500)}function i(a){if(!Ab)return!1;M(a);var a=Ab.sizedWidth/Ab.originalWidth,d=Ab.sizedHeight/Ab.originalHeight;document.getElementById(t+"width").value=Math.round(Ab.unscaled.width/a);document.getElementById(t+"height").value=Math.round(Ab.unscaled.height/d);document.getElementById(t+"x").value=Math.round(Ab.unscaled.left/a);document.getElementById(t+"y").value=Math.round(Ab.unscaled.top/d)}function j(){sa(function(){var a=document.getElementById("janrainModal");if(null===a||
"none"===a.style.display){h();nc=!1;e(document.getElementById(N));var d=janrain.events.onModalClose.addHandler(function(){nc=!0;janrain.events.onModalClose.removeHandler(d)},!0);return!0}return!1}).setDelay(100).setMaxAttempts(20).setFailCallback(function(){n.warn("Poll for modal existing failed.")}).start()}var b=b?H.parse(b):{custom:!1},l={};if(q(a.value)&&a.value.length){J={};for(var r=0,v=a.value.length;r<v;r++)J[a.value[r].type]=a.value[r]}else J=!1;var w;J.original||(J.large?(J.original=J.large,
w="large"):J.normal&&(J.original=J.normal,w="normal"));var r=m.createDiv({elementName:a.elementName+"_parent"}),x=ga,t=a.fieldPrefix||K,v=Ba.prototype.render.html,A=a.previewSizeWidth||100,C=a.previewSizeHeight||100,D=a.originalMaxWidth||450,E=a.originalMaxHeight||450,F=!1,B="object"===typeof J,I=B?"":"capture_profile_pic ",G=t+a.name+"_uploadphotoscreen",N=t+a.name+"_editphotoscreen";if(B&&J.original)var P=-1<J.original.value.indexOf("?")?"&":"?";l.profilePicClass=I;l.uploadPhotoScreenId=G;l.editPhotoScreenId=
N;var A=parseInt(A,10),C=parseInt(C,10),D=parseInt(D,10),E=parseInt(E,10),O={elementName:a.elementName};B&&J.large&&(O.classes=["capture_userphoto"]);l.mainDiv=m.createDiv(O);l.closeDiv="</div>";a.customText||(a.customText={});var O=a.customText.profilePhotoTitlePhotoManager||"Profile Photo",R=a.customText.editProfileInstructionPhotoManager||"Select a region of the image to use for your photo.",S=a.customText.chooseNewPhotoLinkPhotoManager||"Choose new photo",U=a.customText.removePhotoLinkPhotoManager||
"Remove photo",V=a.customText.editPhotoLinkPhotoManager||"Edit photo",W=a.customText.chooseDifferentPhotoLinkPhotoManager||"Choose a different photo",X=a.customText.editPhotoButtonTextPhotoManager||"Save",Z=a.customText.uploadPhotoButtonTextPhotoManager||"Upload",aa=a.customText.removePhotoButtonTextPhotoManager||"Remove",ca=a.customText.removePhotoCancelButtonTextPhotoManager||"Cancel",da=a.customText.uploadNewPhotoInstructionPhotoManager||"",ea=a.customText.uploadNextStepInstructionPhotoManager||
"",fa=a.customText.editPhotoPreviewTitlePhotoManager||"";l.editProfilePhotoTitle=a.customText.editProfilePhotoTitlePhotoManager||"Profile Photo";l.editProfileInstruction=R;l.profilePhotoTitle=O;l.prefixFieldName=t+a.name;l.editPhotoPreviewTitle=fa;Pb(document.getElementById(G));Pb(document.getElementById(N));l.profileImage='<div id="'+t+a.name+'_profile_pic" class="'+I+"capture_profile_pic_display"+(B?"":" capture_default")+'">';B&&J.large&&(l.profileImage+=function(){var b=m.createImage({src:J.large.value,
imageId:a.name+"_profile_pic_image"});return Ua?(u.push({elementName:"mobilePhotoChangeLink",eventType:"click",handler:function(){document.getElementById(K+"photo_chooser").click()}},{elementName:"photo_chooser",eventType:"change",handler:function(){document.getElementById(K+"photo_submit").click()}}),m.createAnchor({elementName:"mobilePhotoChangeLink",elementHref:"javascript:void(0)",elementText:b})):b}());l.profileImage+="</div>";l.photoLinks=Ua?"":m.createListOfLinks([{listItemId:"upload_photo",
listItemClasses:[],anchorText:S,anchorHref:"#",anchorClasses:["capture_upload_photo_link"],anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:V,anchorHref:"#",anchorClasses:["capture_edit_photo_link"],anchorId:"edit_photo_link",hide:!B},{listItemId:"remove_photo",listItemClasses:[],anchorText:U,anchorHref:"#",anchorClasses:["capture_remove_photo_link"],anchorId:"remove_photo_link",hide:!B}],["options"]);l.uploadImage=B&&J.large?m.createImage({src:J.large.value,imageId:a.name+
"_profile_pic_image_upload"}):"";l.editImage=B&&J.original?m.createImage({src:J.original.value+P+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit"}):"";l.cropImage=B&&J.original?m.createImage({src:J.original.value+P+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit_crop",classes:["capture_profile_pic_original"]}):"";l.photoChooserErrors=m.createDiv({elementId:"photo_chooser_errors",classes:["capture_photo_chooser_form_error"]});l.photoChooserErrors+="</div>";var $=Ea();m.domHelpers.createIFrame($,
a.name+"_upload_photo_form");l.uploadFormOpen=v.form({action:"widget/photo/upload_photo.jsonp",elementAttributes:{enctype:"multipart/form-data"},transactionId:$,name:a.name+"_upload_photo_form",elementName:a.name+"_upload_photo_form",listenToFields:!1});l.uploadFileField=m.createInput({elementName:"photo",elementId:"photo_chooser",justElement:!0,elementAttributes:{"data-capturefield":a.name},type:"file"});l.uploadSubmitButton=m.createInput({elementName:"photo_submit",elementId:"photo_submit",value:Z,
classes:["capture_btn","capture_primary","capture_disabled"],justElement:!0,type:"submit"});l.uploadFormClose="</form>";var ba=Ea();m.domHelpers.createIFrame(ba,a.name+"_crop_photo_form");l.editFormOpen=v.form({action:"widget/photo/crop_photo.jsonp",transactionId:ba,name:a.name+"_crop_photo_form",elementName:a.name+"_crop_photo_form",listenToFields:!1});l.editFormOpen+=m.createDiv({elementName:"",classes:["capture_popup-arrow"],type:"div"});l.editFormOpen+="</div>";l.editFormOpen+=m.createInput({elementName:"width",
elementId:"width",justElement:!0,type:"hidden"});l.editFormOpen+=m.createInput({elementName:"height",elementId:"height",justElement:!0,type:"hidden"});l.editFormOpen+=m.createInput({elementName:"x",elementId:"x",justElement:!0,type:"hidden"});l.editFormOpen+=m.createInput({elementName:"y",elementId:"y",justElement:!0,type:"hidden"});l.editSubmitButton=m.createInput({elementName:"edit_photo_submit",elementId:"edit_photo_submit",value:X,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});
l.editFormClose="";w&&(l.editFormClose+=m.createInput({elementName:"originalFallback",elementId:"originalFallback",value:w,justElement:!0,type:"hidden"}));l.editFormClose+="</form>";l.chooseDifferentPhotoLink=m.createAnchor({elementHref:"#",elementText:W,elementId:a.name+"_different_photo_link"});b.custom?u.push({handler:function(){var b=document.getElementById(t+a.name+"_parent");b.innerHTML=T(l,b.innerHTML);u.push({elementName:a.name+"_upload_photo_form",handler:na,eventType:"submit"});u.push({elementName:a.name+
"_crop_photo_form",handler:na,eventType:"submit"});ja($);ja(ba)},eventType:"render"}):(r+=T(l,'{| mainDiv |}     {| profileImage |}     {| photoLinks |}     &nbsp; {| closeDiv |}  <\!-- hidden crop form --\> <div style="display: none;">     {| editFormOpen |}     <div class="capture_footer">         {| chooseDifferentPhotoLink |}         {| editSubmitButton |}     </div>     {| editFormClose |} </div>  <\!-- hidden upload form --\> <div style="display: none;">     {| uploadFormOpen |}     {| uploadFileField |}     <div class="capture_footer">         {| uploadSubmitButton |}     </div>     {| uploadFormClose |} </div>  <\!-- hidden upload screen --\> <div style="display: none;">     <div id="{| uploadPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| profilePhotoTitle |}</h1>         </div>{| photoChooserErrors |}         <div id="{| prefixFieldName |}_profile_pic_upload" class="{| profilePicClass |}capture_profile_pic_upload capture_default">             {| uploadImage |}             &nbsp;         </div>         <div id="{| prefixFieldName |}_profile_pic_uploadform_container" class="capture_uploadPhoto_container">         </div>     </div> </div>  <\!-- hidden edit photo screen --\> <div style="display: none;">     <div id="{| editPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| editProfilePhotoTitle |}</h1>         </div>         <div class="{| profilePicClass |}profile_pic_edit_container">             <h2>{| editPhotoPreviewTitle |}</h2>             <div id="{| prefixFieldName |}_profile_pic_edit" class="{| profilePicClass |}capture_profile_pic_edit capture_default">                 {| editImage |}                 &nbsp;             </div>         </div>         <div id="{| prefixFieldName |}_profile_pic_editPhoto_container" class="capture_editPhoto_container">             <h2>{| editProfileInstruction |}</h2>             {| cropImage |}         </div>     </div> </div> '),
r+="</div>",u.push({elementName:a.name+"_upload_photo_form",handler:na,eventType:"submit"}),u.push({elementName:a.name+"_crop_photo_form",handler:na,eventType:"submit"}),ja($),ja(ba));u.push({eventType:"render",handler:function(){var b=document.getElementById(t+a.name+"_different_photo_link");y(b,"click",c);b=document.getElementById(t+a.name+"_crop_photo_form");document.getElementById(t+a.name+"_profile_pic_editPhoto_container").appendChild(b);y(b,"submit",i)}});u.push({elementName:"upload_photo_link",
handler:c,eventType:"click"});janrain.settings.capture.editPhotoAfterUpload&&janrain.events.onCapturePhotoUploadSuccess.addHandler(function(){F=!1;j()},!0);u.push({elementName:"edit_photo_link",handler:function(a){j();Q(a)},eventType:"click"});u.push({elementName:"remove_photo_link",handler:function(a){var d=M(a),b=s(d);if(!document.getElementById(b+"remove_photo_contain")){var c=m.domHelpers.createDiv({elementId:"remove_photo_contain",fieldPrefix:b,classes:["capture_popup_container pad"]}),d=m.domHelpers.createAnchor({elementHref:"#",
fieldPrefix:b,elementText:aa,elementId:"confirm_remove_photo_link"}),e=m.domHelpers.createAnchor({elementHref:"#",fieldPrefix:b,elementId:"cancel_remove_photo_link",elementText:ca});c.innerHTML='<div class="capture_popup-arrow"></div><p>Can&#39;t Be Undone</p>';c.appendChild(d);c.appendChild(e);document.getElementById(b+"remove_photo").appendChild(c);var f=function(a){var d=[b+"createFormAndPostSubmit",b+"confirm_remove_photo_link",b+"remove_photo_link"],e=M(a).getAttribute("id")||"";!z(d,M(a).getAttribute("id"))&&
0>e.indexOf(b+"createFormAndPostSubmit_")&&(c.innerHTML="",Pb(c),Gb(document,"click",f),Q(a))};y(e,"click",f);y(document,"click",f);y(d,"click",function(a){m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/photo/delete_photo.jsonp",fieldPrefix:b,captureScreen:x,needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});Q(a)});Q(a)}},eventType:"click"});u.push({eventType:"render",handler:function(){function a(){var d=document.getElementById(t+
"photo_chooser").value?"remove":"append";o(b())[d]("capture_disabled")[d]("btn_disabled")}function d(a){!Ua&&(o(b()).has("capture_disabled")||o(b()).has("btn_disabled"))&&("click"==a.type||"keyup"==a.type&&a.keyCode==hb)&&Q(a)}function b(){return document.getElementById(t+"photo_submit")}a();y(document.getElementById(t+"photo_chooser"),"change",a);y(b(),"click",d);y(b(),"keyup",d)}});return r},datePicker:function(a){var b="",c={provideOpenButton:!0};a.type="text";wa(c,a.settings||{});b+=m.wrapFormItemStart(a);
b+=m.createInput(a);b+=m.wrapFormItemEnd(a);u.push({elementName:a.elementName,eventType:"render",handler:function(a){a=document.getElementById(a);c.targetElement=a;new D(c)}});m.attachFieldEventHandlers(a);a.type="datePicker";return b},slider:function(a){if(a.publicDisplay&&"undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b=m.createDiv({elementName:"slider capture_form_item"}),c=Ba.prototype.render.html,e=a.fieldPrefix||K,f="initialPosition"in a?a.initialPosition:0,g=a.value&&
0<=a.value.score?a.value.score:f,b=b+("<label>"+a.label+"</label>"),b=b+m.createDiv({elementName:a.elementName+"_container",classes:["capture_slider_container"]}),b=b+m.createDiv({elementName:a.elementName+"_base",classes:["capture_slider_base"]}),b=b+m.createDiv({elementName:a.elementName+"_marker",classes:["capture_slider_marker"]}),b=b+'</div></div><div class="capture_slider_list"><ul>',f=0,h;for(;h=a.legend_items[f];f++)b+="<li>"+h+"</li> ";b+="</ul></div></div>";a.publicPrivateToggle&&(b+=m.createPublicPrivateToggle(a));
b+=c.input({elementName:a.elementName+"[score]",elementId:a.elementName+"_score",name:a.elementName+"_score",rendererChildFieldName:"score",rendererFieldName:a.elementName,type:"hidden",validation:!1,value:a.value&&0<=a.value.score?a.value.score:"initialValue"in a?a.initialValue:""});b+="</div>";u.push({elementName:a.elementName+"_marker",eventType:"render",handler:function(){document.getElementById(e+a.elementName+"_marker").style.left=(0<=g?g:"initialPosition"in a?a.initialPosition:0)+"%"}});if(!0===
a.enabled){var i=!1;u.push({elementName:a.elementName+"_marker",eventType:te,handler:function(b){i=!0;var c=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),c=c.getBoundingClientRect(),k=c.width?c.width:c.right-c.left,c=new Zd;c.setElement(document.getElementById(e+a.elementName+"_marker")).setElementBoundary(document.getElementById(e+a.elementName+"_container")).setCallback(function(a){f.value=Math.round(100*(a.pos_x/k));ya(f)}).drag(b);$d.push(c);
kd&&clearTimeout(kd)}});u.push({elementName:a.elementName+"_marker",eventType:nd,handler:function(){var b=document.getElementById(e+a.elementName+"_marker"),c=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),b=parseInt(Be(b.id,"left")),c=c.getBoundingClientRect();f.value=Math.round(100*(b/(c.width?c.width:c.right-c.left)))}});u.push({elementName:a.elementName+"_container",eventType:"mouseover",handler:function(){document.getElementById(e+a.elementName+
"_container").style.cursor="pointer"}});u.push({elementName:a.elementName+"_container",eventType:"click",handler:function(b){if(!0===i)i=!1;else{var c=document.getElementById(e+a.elementName+"_marker"),f=document.getElementById(e+a.elementName+"_base"),k=document.getElementById(e+a.elementName+"_score"),g=f.getBoundingClientRect(),h=g.width?g.width:g.right-g.left,p=b.clientX-Le(f).x,b=parseInt(Be(c.id,"left")),b=isNaN(b)?0:b;(new Zd).setElement(c).setAcceleration("sinusoidal").setDuration(500).startPosition(b).endPosition(p).setDirection("horizontal").setCallback(function(){k.value=
Math.round(100*(p/h));ya(k)}).animate()}}})}return b},radioCollection:function(a){for(var b=a.fieldPrefix||K,c=m.createDiv({elementName:a.elementName,classes:a.classes||[]}),e=0;e<a.collection.length;e++)c+="<div class='capture_radio_toggle",c+=(0===e?" capture_toggled":"")+"'>",c+="<input type='radio' id='"+b+"radio_"+a.collection[e].elementName+"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===e?"checked='true' ":"")+"/>",c+="<label ",c+="class='capture_radio_label' ",c+=
"for='"+b+"radio_"+a.collection[e].elementName+"'>"+a.collection[e].label+" ",c+="</label></div>",u.push({elementName:"radio_"+a.collection[e].elementName,handler:function(b){Cb(b,a)},eventType:"click"});m.autoSelectPreferredTab(a,"radio");return c+"</div>"},tabCollection:function(a){for(var b,c=[],e=m.createDiv({elementName:a.elementName,classes:a.classes||[]}),f=0;f<a.collection.length;f++)b={listItemId:"tab_li_"+a.collection[f].elementName,listItemClasses:["capture_tab_toggle"],anchorId:"tab_"+
a.collection[f].elementName,anchorText:a.collection[f].label,anchorHref:"#"},0===f&&b.listItemClasses.push("capture_toggled"),c.push(b),u.push({elementName:"tab_"+a.collection[f].elementName,handler:function(b){Cb(b,a)},eventType:"click"});m.autoSelectPreferredTab(a,"tab");e+=m.createListOfLinks(c,["capture_tabs"]);return e+"</div>"},newsletterSubscriptions:function(a){var b="",c=a.format||"",e=a.startHTML||"",f=a.endHTML||"",g=a.delimiter||"",h=q(a.value)?a.value:[],i=q(a.classes)?" "+a.classes.join(" "):
[],j="capture_newsletter_checkbox"+i,l=h.length,n=(a.fieldPrefix||K)+"form_item_"+a.elementName,r=a.bulkUpdate,o,s,t;if(0<l){b+=m.wrapFormItemStart(a);b+=m.createLabel(a);b+=e;for(e=0;e<l;++e)""!==c?b+=T(h[e],c)+g:(s=h[e],o=s.display_name||"",checked="","active"===s.status&&(checked='checked="checked"'),o='<label><input type="checkbox" class="'+j+'" data-subId="'+s.list_id+'" value="'+s.list_id+'" name="'+a.name+'[]" '+checked+">"+o+"</label>",t="undefined"!==typeof s.description?'<p class="capture_newsletter_description'+
i+'">'+s.description+"</p>":"",s="undefined"!==typeof s.image?m.createImage({src:s.image,classes:["capture_newsletter_image"].concat(i)}):"",b+=o+t+s+g);g&&(b=b.slice(0,-g.length));b=b+f+m.createTip(a);b+=m.wrapFormItemEnd(a);r||u.push({handler:function(){for(var a=$("capture_newsletter_checkbox",document.getElementById(n)),b=0,d=a.length;b<d;++b)y(a[b],"change",function(a){var b=M(a),a=b.getAttribute("data-subId"),d=b.checked?"active":"inactive",b=Ea(),a=xa({list_id:a,token:V,subscription_status:d,
capture_transactionId:b});Ha("/widget/update_subscription.jsonp",a);Ga(b)})},eventType:"render"})}return b},pluralIterator:function(a){var b="",c="",e=a.format||"",f=a.startHTML||"",g=a.endHTML||"",h=a.delimiter||"",i="undefined"===typeof a.emptyMessage?"There are no "+a.schemaId+".":a.emptyMessage,j=q(a.value)?a.value:[],r={},o=j.length,s,t=(a.fieldPrefix||K)+(a.elementId||a.elementName),v="<div id='"+t+"'>";if(0===o)b=i;else{for(s=0;s<o;++s)i=df(j[s],a.propertyFormats),c+=T(i,e)+h,r[j[s].id]=j[s];
h&&(c=c.slice(0,-h.length));c&&(b+=f+c+g)}a.editable&&u.push({handler:function(){var b=document.getElementById(t),c=$("janrainCapturePluralEditBtn",b),e=c.length,f=$("janrainCapturePluralDeleteBtn",b),k=f.length,b=$("janrainCapturePluralCreateBtn",b),g=l.fields[a.idField],h=g?document.getElementById(K+g.name):null;if(h){var p=ib(h,"form");if(p){var i=function(b){var b=M(b),c=b.getAttribute("data-plural-item-id"),e;null!==c&&(e=r[c],janrain.events.onCapturePluralItemEdit.fire({item:e,element:b,editor:a.name}),
h.disabled=!1,S(a.fieldMapping,function(a,b){var d=l.fields[b];d&&m.setField(d,e[a],K)}))},q=function(b){var b=M(b),c=b.getAttribute("data-plural-item-id"),e;null!==c&&(e=r[c],janrain.events.onCapturePluralItemDelete.fire({item:e,element:b,editor:a.name}),m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile/delete_from_plural",name:a.deleteForm,needsResponse:!0,fields:[{elementType:"hidden",elementName:"delete",elementValue:a.name+"["+c+"]"}],callback:function(){Fc(!1)}}))},
o;for(o=0;o<e;++o)c[o].setAttribute("data-plural-item-id",j[o].id),y(c[o],"click",i);if(a.deleteForm)for(o=0;o<k;++o)f[o].setAttribute("data-plural-item-id",j[o].id),y(f[o],"click",q);else 0<k&&n.forceError("Plural iterator editor requires a delete form in the flow for deletions to work.");S(a.fieldMapping,function(a,b){var d=l.fields[b];d&&(d.idFieldElementId=K+g.name)});0<b.length&&(b=b[0],y(b,"click",function(b){b=M(b);janrain.events.onCapturePluralItemCreate.fire({element:b,editor:a.name});h.disabled=
!0;S(a.fieldMapping,function(a,b){var d=l.fields[b];d&&m.resetField(d,K)})}));y(p,"submit",function(){var b=null;h.disabled||(b=r[h.value]);janrain.events.onCapturePluralItemSave.fire({item:b,editor:a.name})})}else n.forceError("Plural iterator editor requires a form.")}else n.forceError("Plural iterator editor requires idField in flow and in your form.")},eventType:"render"});return v+b+"</div>"},datetime_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b,
c,e,f=a.format||"{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}",g=(new Date).getFullYear(),h="01",i="01",j="NA",l="NA",n="NA",o;if("undefined"===typeof a.value||""===a.value)return"";b=a.value.split(" ");c=b.length;for(o=0;o<c;++o)e=b[o].split("-"),3===e.length?(g=e[0],h=e[1],i=e[2]):(e=b[o].split(":"),3===e.length?(j=e[0],l=e[1],n=e[2].split(".")[0]):(e=b[o].split("/"),3===e.length&&(g=e[0],h=e[1],i=e[2])));b=new Date;"NA"!==j||"NA"!==l||"NA"!==n?(b.setUTCHours(j),b.setUTCMinutes(l),b.setUTCSeconds(n),
b.setUTCMilliseconds(0),b.setUTCMonth(h-1),b.setUTCDate(i),b.setUTCFullYear(g)):(b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0),b.setMonth(h-1),b.setDate(i),b.setFullYear(g));return"[object Date]"!==Object.prototype.toString.call(b)||isNaN(b.getTime())?a.value:a.justString?Xa(f,b,{monthNames:a.monthNames,dayNames:a.dayNames}):m.wrapStringData(a,Xa(f,b,{monthNames:a.monthNames,dayNames:a.dayNames}))}},widget:{login:function(){u.push({handler:function(){var a=document.getElementById("janrainEngageEmbed"),
b=document.getElementById(K+"login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var d=Ea();janrain.engage.signin.appendTokenParams({capture_transactionId:d},!0,!0)}a?(b.appendChild(a),a.style.display="block",janrain.engage.signin.removeNotice()):(a=document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());Zc||ba()},eventType:"render"});var a=m.createDiv({elementName:"login_widget",
classes:["login_widget"]});return a+"</div>"},share:function(a,b){b=b?H.parse(b):{text:"Share"};u.push({elementName:"share_widget",eventType:"click",handler:function(){janrain.engage.share.show()}});var c=m.createDiv({elementName:"share_widget",classes:["share_widget"]});return c+=b.text+" </div>"}}};var $e=function(){function a(b,d,c){b={required:b,type:d};return"object"===typeof c?wa(b,c):b}function b(c,e){return a(!0,c,e)}function c(b,e){return a(!1,b,e)}function e(a,b){S(g,function(d,c){S(c,function(c,
e){a.call(b,d,c,e)})})}var f={name:b("string"),elementName:b("string"),value:c("array",{subtype:"string"}),options:b("array",{subtype:"object",subtypeDefinition:{value:c("string"),label:c("string")}})},g={data:{engageCookie:{name:"Engage Cookie Data",definition:{cookieName:b("string")}},localStorage:{name:"Local Storage Data",definition:{fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),classes:c("array",{subtype:"string"}),data:b("string")}},string:{name:"String Data",definition:{displayPublic:b("boolean"),
value:c("string"),displaySavedValue:c("boolean"),justString:c("boolean"),hideWhenValue:c("string")}},image:{name:"Image Data",definition:{value:b("string"),returnImageTag:c("boolean"),elementName:c("string"),hide:c("boolean"),classes:c("array",{subtype:"string"}),elementId:c("string")}}},html:{anchor:{name:"HTML Anchor",definition:{elementClasses:c("array",{subtype:"string"}),elementText:b("text"),fieldPrefix:c("string"),elementHref:b("string"),elementName:b("string"),target:c("string"),name:b("string")}},
textarea:{name:"Text Area",definition:{elementClasses:c("array",{subtype:"string"}),fieldPrefix:c("string"),elementId:c("string"),rows:c("number"),name:b("string"),placeholder:c("string"),value:c("text"),publicPrivateToggle:c("boolean")}},select:{name:"Select",definition:{elementClasses:c("array",{subtype:"string"}),fieldPrefix:c("string"),rendererFieldName:c("string"),rendererChildFieldName:c("string"),dontShowTip:c("boolean"),showFieldWhere:c("string"),name:b("string"),elementName:b("string"),options:b("array",
{subtype:"object",subtypeDefinition:{text:b("string"),value:c("string")}}),publicPrivateToggle:c("boolean")}},multi:{name:"Mutli",definition:f},multiCheckbox:{name:"Checkboxes",definition:f},multiRadio:{name:"Radio Buttons",definition:f},input:{name:"Input",definition:{type:b("string"),fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),justElement:c("boolean"),collection:c("boolean"),rendererFieldName:c("string"),rendererChildFieldName:c("string"),hide:c("boolean"),elementValue:c("string"),
value:c("string"),placeholder:c("string"),engageData:c("string"),checked:c("boolean"),modify:c("boolean"),publicPrivateToggle:c("boolean"),profileStoragePath:c("boolean"),displaySavedValue:c("boolean")}},button:{name:"Button",definition:{fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),elementClasses:c("array",{subtype:"string"}),type:c("string"),hide:c("boolean"),name:b("string"),value:c("string"),elementContent:c("string"),modify:c("boolean")}},form:{name:"Form",definition:{elementAttributes:c("object",
{subtype:"string"}),localFieldPrefix:c("string"),classes:c("array",{subtype:"string"}),action:b("string"),transactionId:b("string"),serverNextScreen:c("boolean"),hideOnSubmit:c("boolean"),engageTokenRequired:c("boolean"),checkIdentifier:c("boolean")}},div:{name:"Div",definition:{fieldPrefix:c("string"),elementId:c("string"),elementName:b("string"),elementAttributes:c("object",{subtype:"string"}),classes:c("array",{subtype:"string"}),type:c("string"),name:b("string"),elementText:b("text")}},close:{name:"Close",
definition:{element:b("string"),type:c("string")}}},capture:{table:{name:"Table",definition:{th:b("object",{definition:{display:c("boolean"),cols:c("array",{subtype:"string"})}}),rows:b("array",{subtype:"object",subtypeDefinition:{cells:b("array",{subtype:"object",subtypeDefinition:{elementValue:"string"}})}})}},countrySelect:{name:"Country Select",definition:{customText:c("object",{definition:{countryLabel:c("string")}})}},stateSelect:{name:"State Select",definition:{customText:b("object",{definition:{stateLabel:c("string")}}),
noCanadianProvinces:c("boolean")}},keepMeLoggedIn:{name:"Keep Me Logged In",definition:{fieldPrefix:b("boolean"),label:c("string"),name:b("string"),checked:c("boolean")}},captcha:{name:"CAPTCHA",definition:{name:b("string"),label:c("string")}},mergeAccounts:{name:"Merge Accounts",definition:{value:b("string"),customText:c("object",{subtype:"string",definition:{connectRadio:c("string"),connecetLegacyRadio:c("string"),createRadio:c("string"),foundExistingAccount:c("string"),moreInfoHover:c("string"),
moreInfo:c("string"),createButton:c("string"),name:b("string"),traditionalMergeScreen:b("string"),useConnectIcons:c("boolean"),connectButton:c("string")}})}},publicProfileLink:{name:"Public Profile Link",definition:{elementHref:c("string"),elementAttributes:c("object",{subtype:"string"}),addUUIDToLink:c("boolean")}},linkSocialAccount:{name:"Link Social Account",definition:{provider:b("string"),elementClasses:c("string"),elementContent:b("string")}},linkAccounts:{name:"Link Accounts",definition:{value:c("object",
{definition:{providers:b("array",{subtype:"string"}),displayNames:b("array",{subtype:"string"}),identifiers:b("array",{subtype:"string"}),prettyProviders:b("array",{subtype:"string"}),customProviders:b("array",{subtype:"string"})}}),customText:c("object",{subtype:"string"}),fieldPrefix:c("string"),name:c("string"),linkAccountContainer:b("string"),providerIconSize:c("number"),displayFormatKnown:c("string"),customIcons:c("boolean"),customAddLinks:c("boolean"),customAddLinkFormat:c("string")}},errorMessages:{name:"Error Messages",
definition:{}},savedProfileMessage:{name:"Saved Profile Message",definition:{}},nameFull_public:{name:"Name Full Public",definition:{displayPublic:b("boolean"),justString:c("boolean"),value:b("object",{definition:{firstname:c("string"),middlename:c("string"),lastname:c("string")}})}},nameFull:{name:"Name Full",definition:{name:b("string"),publicPrivateToggle:b("boolean"),displayPublic:b("boolean"),value:c("object",{definition:{firstname:c("string"),middlename:c("string"),lastname:c("string")}}),placeholder:c("object",
{definition:{firstname:c("string"),middlename:c("string"),lastname:c("string")}})}},dateselect_public:{name:"Date Select Public",definition:{displayPublic:b("boolean"),justString:c("boolean"),format:c("string"),value:b("object",{definition:{dateselect_year:b("number"),dateselect_month:b("number"),dateselect_day:b("number")}})}},dateselect:{name:"Date Select",definition:{customText:c("object",{definition:{yearLabelDateSelect:c("string"),monthLabelDateSelect:c("string"),dayLabelDateSelect:c("string"),
fieldPrefix:c("string"),name:b("string"),format:c("array",{subtype:"string"}),monthStart:c("number"),monthEnd:c("number"),dayStart:c("number"),dayEnd:c("number"),yearStart:c("number"),yearEnd:c("number"),label:c("string"),publicPrivateToggle:c("boolean"),displayPublic:b("boolean"),tip:c("string"),datePickerSettings:c("object"),elementName:b("string")}})}},addressFull_public:{name:"Address Full Public",definition:{displayPublic:c("boolean"),value:b("object",{definition:{streetaddress:c("string"),streetaddress2:c("string"),
stateprovince:c("string"),zippostalcode:c("string"),country:c("string"),city:c("string")}})}},addressFull:{name:"Address Full",definition:{name:b("string"),publicPrivateToggle:c("boolean"),displayPublic:c("boolean"),value:c("object",{definition:{streetaddress:c("string"),streetaddress2:c("string"),stateprovince:c("string"),zippostalcode:c("string"),country:c("string"),city:c("string")}}),customText:c("object",{definition:{stateLabel:c("string"),countryLabel:c("string")}}),placeholder:c("object",{definition:{streetaddress:c("string"),
streetaddress2:c("string"),stateprovince:c("string"),zippostalcode:c("string"),country:c("string"),city:c("string")}})}},backButton:{name:"Back Button",definition:null},partial:{name:"Partial",definition:{layout:b("string")}},photoManager:{name:"Photo Manager",definition:{elementName:b("string"),fieldPrefix:c("string"),previewSizeWidth:c("number"),previewSizeHeight:c("number"),originalMaxWidth:c("number"),originalMaxHeight:c("number"),name:b("string"),value:c("array",{subtype:"object",subtypeDefinition:{type:b("string")}}),
customText:c("object",{definition:{profilePhotoTitlePhotoManager:c("string"),editProfilePhotoTitlePhotoManager:c("string"),editProfileInstructionPhotoManager:c("string"),chooseNewPhotoLinkPhotoManager:c("string"),removePhotoLinkPhotoManager:c("string"),editPhotoLinkPhotoManager:c("string"),chooseDifferentPhotoLinkPhotoManager:c("string"),editPhotoButtonTextPhotoManager:c("string"),uploadPhotoButtonTextPhotoManager:c("string"),removePhotoButtonTextPhotoManager:c("string"),removePhotoCancelButtonTextPhotoManager:c("string"),
uploadNewPhotoInstructionPhotoManager:c("string"),uploadNextStepInstructionPhotoManager:c("string"),editPhotoPreviewTitlePhotoManager:c("string")}})}},datePicker:{name:"Date Picker",definition:{monthPreviousText:c("string"),monthNextText:c("string"),openOnTargetElementFocus:c("boolean"),provideOpenButton:c("boolean"),hasCloseButton:c("boolean"),minimumSelectableDate:c("string"),maximumSelectableDate:c("string"),monthAndYearSelectable:c("boolean"),defaultDate:c("string"),arrowKeyNavigation:c("boolean"),
format:c("string"),calendarTitleFormat:c("string"),monthNames:c("array",{subtype:"string"}),weekStartsOnMonday:c("boolean"),daysOfWeek:c("array",{subtype:"string"}),additionalClasses:c("array",{subtype:"string"})}},slider:{name:"Slider",definition:{publicDisplay:c("boolean"),displayPublic:c("boolean"),fieldPrefix:c("string"),initialPosition:c("number"),label:b("string"),elementName:b("string"),legend_items:b("array",{subtype:"string"}),publicPrivateToggle:c("boolean"),enabled:c("boolean"),value:c("object",
{definition:{score:c("number")}})}},radioCollection:{name:"Radio Collection",definition:{classes:c("array",{subtype:"string"}),fieldPrefix:c("string"),elementName:c("string"),collection:b("array",{subtype:"object",subtypeDefinition:{elementName:b("string")}})}},tabCollection:{name:"Tab Collection",definition:{classes:c("array",{subtype:"string"}),elementName:c("string"),collection:b("array",{subtype:"object",subtypeDefinition:{elementName:b("string")}})}},newsletterSubscriptions:{name:"Newsletter Subscriptions",
definition:{format:c("string"),startHTML:c("string"),endHTML:c("string"),delimiter:c("string"),value:c("array",{subtype:"string"}),classes:c("array",{subtype:"string"}),fieldPrefix:c("string"),elementName:b("string")}},pluralIterator:{name:"Plural Iterator",definition:{format:c("string"),startHMTL:c("string"),endHTML:c("string"),delimiter:c("string"),emptyMessage:c("string"),value:c("array",{subtype:"object"})}},datetime_public:{name:"Date Time Public",definition:{displayPublic:c("boolean"),format:c("string"),
value:c("string"),justString:c("boolean")}}},widget:{login:{name:"Login Widget",definition:{}},share:{name:"Share Widget",definition:{}}}},h=[];e(function(a,b){h.push(a+"."+b)});var i=g,f=i.capture,i=i.html;f.dateselect.definition.customText.definition.datePickerSettings=f.datePicker.definition;f.backButton.definition=wa({},i.button.definition);e(function(a,b,d){d.path=a+"."+b;d.group=a;d.name=b;wa(d.definition,{schemaId:c("string"),label:c("string"),tip:c("string")});"html"===a?d.definition.element=
b:(d.definition.element=a,d.definition.type=b)});return{listComponents:function(){return h},componentDefinition:function(a){0>a.indexOf(".")&&(a="html."+a);return Aa(g,a)}}}(),le=!0,qa={},se,Bb={addCustomLink:function(a,b,c){var e=b.fieldPrefix||K,f=document.createElement("li");f.className="capture_custom_add_linkedaccount";f.setAttribute("data-captureprovider",a);f.innerHTML=T({provider:a},b.customAddLinkFormat);c&&c.parentNode?c.parentNode.insertBefore(f,c):document.getElementById(e+b.name+"_linkedproviderlist").appendChild(f)},
unLinkAccountSuccessCallback:function(a,b){janrain.events.onCaptureProfileUnlink.fire({provider:b});var c=a.value.providers.indexOf(b);S(a.value,function(a,b){q(b)&&b.splice(c,1)})},unLinkAccount:function(a,b,c){if(!("keypress"===a.type&&a.keyCode!==hb)){var e=M(a);"#"===e.getAttribute("href")&&Q(a);if(o(e).has("capture_remove_linkedaccount")){var f=this.completeUnLinkAccount;se=function(){f(e,b,c)};b.confirmRemoval?("undefined"===typeof md&&(md=new lf,md.setTitle(pa.confirmRemoveLinkedTitle||"Remove Linked Account?").setMessage(pa.confirmRemoveLinkedMessage||
"Are you sure you want to remove this linked account?").setButtons(pa.confirmRemoveLinkedNoText||"Cancel",pa.confirmRemoveLinkedYesText||"Yes").setCallback(function(a){1===a.index&&se();md.close()})),md.open()):se()}}},completeUnLinkAccount:function(a,b,c){var e=a.getAttribute("data-captureidentifier"),f=a.getAttribute("data-captureprovider"),g=a.parentNode.getAttribute("data-capturerelatedfieldsid");b.customAddLinks&&Bb.addCustomLink(f,b,a.parentNode);Pb(a.parentNode);g&&Pb(document.getElementById(g));
m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",fieldPrefix:b.fieldPrefix||K,captureScreen:c,needsResponse:!0,callback:function(){Bb.unLinkAccountSuccessCallback(b,f)},fields:[{elementName:"identifier[]",elementType:"hidden",elementValue:e},{elementName:"identifier_to_remove",elementType:"hidden",elementValue:e}]})},openInModal:function(a,b,c){janrain.engage&&janrain.engage.signin&&(janrain.engage.signin.setNoReturnExperience(!0),
janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:b},!0));e(document.getElementById(c));Q(a)},linkWithCustomLink:function(a,b){if(!("keypress"===a.type&&a.keyCode!=hb)){var c=M(a),c=ib(c,"li");o(c).has("capture_custom_add_linkedaccount")&&(c=c.getAttribute("data-captureprovider"),Ob(b,c))}},triggerLinkSocialAccountFlow:function(a,b,c){"keypress"===a.type&&a.keyCode!==hb||Ob(b,c)},renderHandler:function(a,b){var c=document.getElementById(a);document.getElementById(b).appendChild(c)}},
nc=!0,Te=0,Ue,kd=0,ne=0,Td=janrain.settings.capture.autoSaveUpdateInterval||1E4,Ud=janrain.settings.capture.autoSaveDelay||janrain.settings.capture.autoSaveInterval||1E4;Oe=function(a){if(janrain.settings.capture.redirectFlow){var b=Na(Md?"true":"false");Ga(b.capture_transactionId);b.flow=t();delete b.token;a&&(b.capture_screen=ga,b.engage_add_account=!0,b.access_token=V);a=a?"/widget/profile":"/widget/token_url";b=Qc(b);return janrain.settings.capture.captureServer+a+b}};var Ve={reactivateAccount:function(a){if("accountReactivated"===
a.statusMessage||"invalidReactivationCode"===a.statusMessage)"success"===a.status?janrain.events.onCaptureAccountReactivateSuccess.fire(a):janrain.events.onCaptureAccountReactivateFailed.fire(a)},deactivateAccount:function(a){a.statusMessage&&("success"===a.status&&"accountDeactivated"===a.statusMessage?janrain.events.onCaptureAccountDeactivateSuccess.fire(a):janrain.events.onCaptureAccountDeactivateFailed.fire(a))},emailCode:function(a){if("verified"===a.statusMessage||"invalidVerificationCode"===
a.statusMessage)if("success"===a.status)if(!janrain.settings.capture.federate||!a.sso||!a.ssoCode)janrain.events.onCaptureEmailVerificationSuccess.fire(a);else{if(a.accessToken||a.authorizationCode)a.fireEvent="onCaptureEmailVerificationSuccess",rb[a.transactionId]=a,Wb(a.ssoCode,a.transactionId)}else janrain.events.onCaptureEmailVerificationFailed.fire(a);else if("forgotPasswordCodeRedeemed"===a.statusMessage||"invalidForgotPasswordCode"===a.statusMessage)if("success"===a.status){if((!janrain.settings.capture.federate||
!a.sso||!a.ssoCode)&&janrain.events.onCaptureForgotPasswordCodeSuccess.fire(a),(a.accessToken||a.authorizationCode)&&janrain.settings.capture.federate&&a.sso&&a.ssoCode)a.fireEvent="onCaptureForgotPasswordCodeSuccess",rb[a.transactionId]=a,Wb(a.ssoCode,a.transactionId)}else janrain.events.onCaptureForgotPasswordCodeFailed.fire(a)},profile:function(a){"profileFound"!==a.statusMessage&&("success"===a.status?(ee=!0,ne=(new Date).getTime(),janrain.events.onCaptureProfileSaveSuccess.fire(a)):janrain.events.onCaptureProfileSaveFailed.fire(a))},
traditionalSignin:function(a){cd=!1;if("success"!==a.status)janrain.events.onCaptureLoginFailed.fire(a);else{if(a.authorizationCode){var b=sd(janrain.settings.capture.redirectUri,{code:a.authorizationCode});a.redirectUri=b}if(a.accessToken||a.authorizationCode){if(!janrain.settings.capture.federate||!a.sso||!a.ssoCode)if(Od)Od=!1;else if(a.oneTime){cd=!0;var c=W(a);delete c.accessToken;janrain.events.onCapturePostLoginScreen.fire(c)}else janrain.events.onCaptureLoginSuccess.fire(a);("traditionalSignin"===
a.action||"socialSignin"===a.action)&&$a(a.action);janrain.settings.capture.federate&&a.sso&&a.ssoCode&&(a.oneTime?(cd=!0,a.fireEvent="onCapturePostLoginScreen"):(a.fireEvent="onCaptureLoginSuccess",rb[a.transactionId]=a,Wb(a.ssoCode,a.transactionId)));janrain.settings.capture.federate&&a.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(a),Zb(a.transactionId),Lb=!0)}a.authorizationCode&&janrain.settings.capture.redirectOnLogin&&(window.location=b)}},postLoginConfirmation:function(a){"success"!==
a.status?janrain.events.onCaptureLoginFailed.fire(a):a.oneTime?janrain.events.onCapturePostLoginScreen.fire(a):fd&&!cd?janrain.events.onCaptureRegistrationSuccess.fire(a):!fd&&cd&&janrain.events.onCaptureLoginSuccess.fire(a)},traditionalRegister:function(a){fd=!1;if("success"!==a.status)janrain.events.onCaptureRegistrationFailed.fire(a);else{if(!janrain.settings.capture.federate||!a.sso||!a.ssoCode)if(a.oneTime){fd=!0;var b=W(a);delete b.accessToken;janrain.events.onCaptureRegistrationSuccessNoLogin.fire(b);
janrain.events.onCapturePostLoginScreen.fire(b)}else janrain.events.onCaptureRegistrationSuccess.fire(a);gd&&(gd=!1);if(a.accessToken||a.authorizationCode)"socialRegister"===a.action?$a("socialSignin"):$a("traditionalSignin"),janrain.settings.capture.federate&&a.sso&&a.ssoCode&&(a.oneTime?(fd=!0,a.fireEvent=["onCapturePostLoginScreen","onCaptureRegistrationSuccessNoLogin"]):(a.fireEvent="onCaptureRegistrationSuccess",rb[a.transactionId]=a,Wb(a.ssoCode,a.transactionId)))}},control:function(a){"success"===
a.status?janrain.events.onCaptureControlSuccesss.fire(a):janrain.events.onCaptureControlFailed.fire(a)}};(function(){this.ssoSignin=this.socialSignin=this.traditionalSignin;this.socialRegister=this.traditionalRegister}).call(Ve);var We=function(){hc("accessDenied","capture_access","Sorry. Access denied.");hc("retrievingUserData","capture_retrieving","Please wait while we retrieve your user data.");hc("dialog","capture_dialog","",{layout:"captureDialogBuiltIn",modal:!0,modalLoadOnLoad:!0,source:"server"})};
We();var Yd=[],re={};return{modal:{close:function(){"object"==typeof E&&E.close()},closeConfirm:function(){"object"==typeof E&&E.closeConfirm()},open:function(a){fc=!0;var b=a||aa.flow.defaultScreen;if("object"==typeof E&&(a&&janrain.capture.ui.renderScreen(b),a=aa.div))E.setShowContentOnLoad(!0),E.addContent(a).show(),janrain.events.onCaptureContentChange.fire()},setBorder:function(a){"object"===typeof E&&(E.setBorder(a),E.refresh({center:!0}));return!0},setBorderColor:function(a){"object"===typeof E&&
(E.setBorderColor(a),E.refresh());return!0},setBorderOpacity:function(a){"object"===typeof E&&(E.setBorderOpacity(a),E.refresh());return!0},setBorderRadius:function(a){"object"==typeof E&&(E.setBorderRadius(a),E.refresh());return!0},setOverlayZIndex:function(a){"object"==typeof E&&(E.setZIndex(a),E.refresh());return!0}},start:function(a,b){Db.fire();if(janrain.settings.capture.hasSettings&&janrain.settings.capture.appId&&janrain.settings.capture.clientId){var c=P()+"/widget_data/settings/"+janrain.settings.capture.appId+
"/"+janrain.settings.capture.clientId+".js";qd(c,function(){g(a,b)}).setTimeoutCallback(function(){janrain.settings.capture.hasSettings=!1;n.forceError("Failed to load capture settings.");g(a,b)}).load()}else g(a,b)},hasActiveSession:function(){return!!V},renderComponent:zb().renderField,listComponents:$e.listComponents,componentDefinition:$e.componentDefinition,render:function(a,c){if(janrain.settings.capture.hasSettings){var e,f,g,h,i,j;e=Ad.mergeFlow;f=a.mergeFromSettings;if(e&&f)for(h=0,i=f.length;h<
i;++h)g=f[h],j=Aa(e,g),g=Aa(a,g),j&&g&&He(g,j);pc(a)}Kc(a);Vb||(Vb=b());a.i18nStrings&&(pa=a.i18nStrings);pa.validatingText&&(Ye=pa.validatingText);if(a.version)Ed=a.version;else throw Error("MissingVersionError: Missing version.");Bc(a);he=a.hasTraditionalAccount;qb=a.form;if(he){e=$("janrain_traditional_account_only");f=e.length;for(h=0;h<f;h++)e[h].style.display="block"}qc(a);e=new zb;f=!1;ed&&gd&&(f=janrain.settings.capture.registerFlow||"socialRegister");f=l.oneTimeRender||f||janrain.settings.capture.screenToRender||
l.defaultScreen;e.setScreenData(f,l.screens[f]);if(c)for(var m in c)c[m].id&&c[m].value&&(e=document.getElementById(c[m].id),e.value=c[m].value,"radio"===c[m].type&&(e.checked=c[m].checked,c[m].checked&&e.click()))},renderScreen:function(a,b){var c=l.screens[a];c?(Oa=!1,b||Ac.push(aa),(new zb).setScreenData(a,c)):n.forceError("Can't render - Missing screen '"+a+"' in flow.")},applySettings:function(a){Ad=a;la=a.janrain_settings_version||""},getClientSettings:function(){return W(Ad)},setHandler:function(a,
b,c){this.setFieldAttribute(a,b+"Handler",c)},setFieldAttribute:function(a,b,c){dd.push({field:a,attribute:b,value:c})},setRenderer:function(a,b,c){Ba.prototype.render[a].helpers=me;Ba.prototype.render[a][b]=c},setValidator:function(a,b){fa.prototype[a]=b},registerFunction:function(a,b){re[a]=b},addRenderer:function(a,b,c){this.setRenderer(a,b,c)},trackLoadedCssFiles:function(a){oe.push(a)},handleCaptureUniqueResponse:function(a){Nc(a)},handleCaptureResponse:function(a,b){I(a,b)},handleErrorResponse:function(a,
b){Pc(a,b)},createCaptureSession:function(a){La(a)},endCaptureSession:function(){yb()},addTransactionIds:function(a){Xb(a)},getFailedLogins:function(){return yc},setCustomHtml:function(a,b){Dc(a,b)},getEngageCookie:function(a){return vc(a)},getProfileCookieData:function(a,b){return $c(a,b)},getReturnExperienceData:function(a,b){return Tc(a,b)},federateLogoutCallbackFired:function(a,b){n.info("Federate logout callback fired");z(Jd,a)||(Jd.push(a),b())},federateNoLogin:function(a){n.info("federateNoLogin called at "+
new Date);janrain.events.onCaptureFederateNoLogin.fire(a.result);Zb(a.transactionId);Yb();Lb=!0},federateSetLoginSuccess:function(a){n.info("Federate set login success");a&&a.transactionId&&rb&&rb[a.transactionId]&&(rb[a.transactionId].setLoginSuccess=!0,rb[a.transactionId].eventFiredDueToSlowResponse||Ec(a.transactionId))},federateRefreshToken:function(b){b&&"ok"===b.stat?(La(b.accessToken,!1,!0),Kb()):6>=++a?(n.warn("SSO refresh token returned: "+b.stat+" at "+new Date),n.warn("SSO refresh token retry attempt: "+
a),Kb()):n.error("SSO refresh token failed with stat: "+b.stat+" at "+new Date)},linkSocialAccount:function(a){Zc||ba();Ob(ga,a)},scriptLoader:function(a,b){return qd(a,b)},noop:function(){},validationHandler:function(a){var b=document.getElementById(a.elementId),c=new m.validation;c.setParentDiv(b);c.setElement(b);c.valid();a.valid?c.valid():c.notValid(a.reason)},setNoReturnExperience:function(){var a=new w;a.setUseLocalStorage(!0).setName("janrainLastAuthMethod");a.remove();janrain.engage&&janrain.engage.signin&&
janrain.engage.signin.setNoReturnExperience(!0);bd&&janrain.capture.ui.renderScreen(bd)},getPublicProfile:function(a,b){Jc(a,b)},activateCaptureControl:function(a){jb(a)},postCaptureForm:function(a,b){pd(a,b)}}};Sc();return{engage:{signin:"loaded"===Aa(janrain,"engage.signin.status")?janrain.engage.signin:uf,share:"loaded"===Aa(janrain,"engage.share.status")?janrain.engage.share:vf},capture:{ui:wf}}}();janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;